<%@  page buffer="none" import="java.util.*,java.io.*,com.intershop.beehive.core.internal.template.*,com.intershop.beehive.core.internal.template.isml.*,com.intershop.beehive.core.capi.log.*,com.intershop.beehive.core.capi.resource.*,com.intershop.beehive.core.capi.util.UUIDMgr,com.intershop.beehive.core.capi.util.XMLHelper,com.intershop.beehive.foundation.util.*,com.intershop.beehive.core.internal.url.*,com.intershop.beehive.core.internal.resource.*,com.intershop.beehive.core.internal.wsrp.*,com.intershop.beehive.core.capi.pipeline.PipelineDictionary,com.intershop.beehive.core.capi.naming.NamingMgr,com.intershop.beehive.core.capi.pagecache.PageCacheMgr,com.intershop.beehive.core.capi.request.SessionMgr,com.intershop.beehive.core.internal.request.SessionMgrImpl,com.intershop.beehive.core.pipelet.PipelineConstants" extends="com.intershop.beehive.core.internal.template.AbstractTemplate" %><% 
boolean _boolean_result=false;
TemplateExecutionConfig context = getTemplateExecutionConfig();
createTemplatePageConfig(context.getServletRequest());
printHeader(out);
 %><% %><%! protected Boolean printTemplateMarker() { return Boolean.FALSE; } %><%%><%@ page contentType="text/xml;charset=utf-8" %><%%><%@ page session="false"%><%setEncodingType("text/xml"); %>

<%@page import="com.intershop.beehive.core.capi.user.*,
				com.intershop.beehive.core.capi.profile.Profile,
				com.intershop.beehive.core.capi.profile.Address,
				com.intershop.beehive.core.capi.impex.AttributeValueIterator"%>

<% context.setCustomTagTemplateName("customattributes","inc/CustomAttributes",false,new String[]{"attributes"},null); %>
<% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("customerprofile"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",9,e);}if (_boolean_result) { %>
	<%
		Object obj = getObject("customerprofile");
		User user = null;
		Profile profile = null;
		
		if (obj instanceof Profile)
		{
			profile = (Profile)obj;
			user = new User(profile.getProfileID());
		}
		if (profile != null)
		{
			getPipelineDictionary().put("Profile", profile);
		}
		
		getPipelineDictionary().put("profilecustomattributes", new com.intershop.beehive.core.capi.impex.AttributeValueIterator(((com.intershop.beehive.core.capi.domain.ExtensibleObject)profile).createAttributeValuesIterator(), (com.intershop.beehive.core.capi.domain.ExtensibleObject) profile));
		
	  	UserGroupMgr ugMgr = (UserGroupMgr) NamingMgr.getInstance().lookupManager(UserGroupMgr.REGISTRY_NAME);
	  	Iterator     ugs   = ugMgr.createUserGroupsIterator(user, ugMgr.DIRECT_MEMBERSHIPS);

	 	 // filter out the "Everyone" group, promotion, catalog filter, price list assignment groups and put the result in List
	  	Vector customerUserGroups = new Vector();
	 	while (ugs.hasNext())
	  	{
	    	UserGroup ug = (UserGroup) ugs.next();
	    	String ugTypeName = ug.getUserGroupType().getName();
	    	if (! UserGroupConstants.EVERYONE.equals(ug.getID()) && 
		                    !("PROMOTION".equals(ugTypeName) || "CATALOGFILTER".equals(ugTypeName) || "PRICELIST".equals(ugTypeName)))
	    	{
	        	customerUserGroups.add(ug);
	    	}
	  	}
	  	getPipelineDictionary().put("CustomerUserGroups", customerUserGroups.iterator());
	%>
	<% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Profile"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",44,e);}if (_boolean_result) { %>
		<user business-partner-no="<% {String value = null;try{value=context.getFormattedValue(getObject("Profile:BusinessPartnerNo"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {45}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>">
			<business-partner-no><% {String value = null;try{value=context.getFormattedValue(getObject("Profile:BusinessPartnerNo"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {46}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></business-partner-no>
			<profile>
				<first-name><% {String value = null;try{value=context.getFormattedValue(getObject("Profile:BusinessPartnerNo"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {48}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></first-name>
				<last-name><% {String value = null;try{value=context.getFormattedValue(getObject("Profile:BusinessPartnerNo"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {49}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></last-name>
				<% processOpenTag(response, pageContext, "customattributes", new TagParameter[] {
new TagParameter("attributes",getObject("profilecustomattributes"))}, 50); %>
				
	      		<email><% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Profile:DataSheet:Email"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",52,e);}if (_boolean_result) { %><% {String value = null;try{value=context.getFormattedValue(getObject("Profile:DataSheet:Email"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {52}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } else { %><% {String value = null;try{value=context.getFormattedValue(getObject("Profile:BusinessPartnerNo"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {52}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } %></email>
				<% _boolean_result=false;try {_boolean_result=((Boolean)((hasLoopElements("Profile:AddressBook:Address") ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",53,e);}if (_boolean_result) { %>
					<addresses>
						<% while (loop("Profile:AddressBook:Address","Address",null)) { %>
					    	<address name="<% {String value = null;try{value=context.getFormattedValue(getObject("Address:AddressName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {56}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>">
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:AddressName"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",57,e);}if (_boolean_result) { %><address-name><% {String value = null;try{value=context.getFormattedValue(getObject("Address:AddressName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {57}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></address-name><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:AddressNr"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",58,e);}if (_boolean_result) { %><address-nr><% {String value = null;try{value=context.getFormattedValue(getObject("Address:AddressNr"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {58}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></address-nr><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:City"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",59,e);}if (_boolean_result) { %><city><% {String value = null;try{value=context.getFormattedValue(getObject("Address:City"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {59}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></city><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:CountryCode"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",60,e);}if (_boolean_result) { %><country-code><% {String value = null;try{value=context.getFormattedValue(getObject("Address:CountryCode"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {60}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></country-code><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:County"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",61,e);}if (_boolean_result) { %><county><% {String value = null;try{value=context.getFormattedValue(getObject("Address:County"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {61}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></county><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:PostBox"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",62,e);}if (_boolean_result) { %><postbox><% {String value = null;try{value=context.getFormattedValue(getObject("Address:PostBox"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {62}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></postbox><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:PostalCode"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",63,e);}if (_boolean_result) { %><postal-code><% {String value = null;try{value=context.getFormattedValue(getObject("Address:PostalCode"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {63}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></postal-code><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:Prefecture"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",64,e);}if (_boolean_result) { %><prefecture><% {String value = null;try{value=context.getFormattedValue(getObject("Address:Prefecture"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {64}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></prefecture><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:Province"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",65,e);}if (_boolean_result) { %><province><% {String value = null;try{value=context.getFormattedValue(getObject("Address:Province"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {65}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></province><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:Region"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",66,e);}if (_boolean_result) { %><region><% {String value = null;try{value=context.getFormattedValue(getObject("Address:Region"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {66}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></region><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:State"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",67,e);}if (_boolean_result) { %><state><% {String value = null;try{value=context.getFormattedValue(getObject("Address:State"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {67}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></state><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:StreetTranscription"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",68,e);}if (_boolean_result) { %><street-transcription><% {String value = null;try{value=context.getFormattedValue(getObject("Address:StreetTranscription"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {68}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></street-transcription><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:Homepage"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",69,e);}if (_boolean_result) { %><homepage><% {String value = null;try{value=context.getFormattedValue(getObject("Address:Homepage"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {69}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></homepage><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:Mobile"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",70,e);}if (_boolean_result) { %><mobile><% {String value = null;try{value=context.getFormattedValue(getObject("Address:Mobile"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {70}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></mobile><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:PhoneHome"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",71,e);}if (_boolean_result) { %><phone-home><% {String value = null;try{value=context.getFormattedValue(getObject("Address:PhoneHome"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {71}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></phone-home><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:PhoneBusiness"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",72,e);}if (_boolean_result) { %><phone-business><% {String value = null;try{value=context.getFormattedValue(getObject("Address:PhoneBusiness"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {72}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></phone-business><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:PhoneBusinessDirect"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",73,e);}if (_boolean_result) { %><phone-business-direct><% {String value = null;try{value=context.getFormattedValue(getObject("Address:PhoneBusinessDirect"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {73}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></phone-business-direct><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:CompanyName"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",74,e);}if (_boolean_result) { %><company-name><% {String value = null;try{value=context.getFormattedValue(getObject("Address:CompanyName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {74}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></company-name><% } %>
								<% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:CompanyName2"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",75,e);}if (_boolean_result) { %><company-name2><% {String value = null;try{value=context.getFormattedValue(getObject("Address:CompanyName2"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {75}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></company-name2><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:CompanyNameTranscription"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",76,e);}if (_boolean_result) { %><company-name-transcription><% {String value = null;try{value=context.getFormattedValue(getObject("Address:CompanyNameTranscription"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {76}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></company-name-transcription><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:Honorific"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",77,e);}if (_boolean_result) { %><honorific><% {String value = null;try{value=context.getFormattedValue(getObject("Address:Honorific"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {77}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></honorific><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:Title"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",78,e);}if (_boolean_result) { %><title><% {String value = null;try{value=context.getFormattedValue(getObject("Address:Title"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {78}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></title><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:JobTitle"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",79,e);}if (_boolean_result) { %><job-title><% {String value = null;try{value=context.getFormattedValue(getObject("Address:JobTitle"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {79}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></job-title><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("Address:Suffix"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",80,e);}if (_boolean_result) { %><suffix><% {String value = null;try{value=context.getFormattedValue(getObject("Address:Suffix"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {80}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></suffix><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:FirstNameTranscription"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",81,e);}if (_boolean_result) { %><first-name-transcription><% {String value = null;try{value=context.getFormattedValue(getObject("Address:FirstNameTranscription"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {81}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></first-name-transcription><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:LastName"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",82,e);}if (_boolean_result) { %><last-name><% {String value = null;try{value=context.getFormattedValue(getObject("Address:LastName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {82}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></last-name><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:LastNameTranscription"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",83,e);}if (_boolean_result) { %><last-name-transcription><% {String value = null;try{value=context.getFormattedValue(getObject("Address:LastNameTranscription"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {83}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></last-name-transcription><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:FirstName"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",84,e);}if (_boolean_result) { %><first-name><% {String value = null;try{value=context.getFormattedValue(getObject("Address:FirstName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {84}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></first-name><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:SecondName"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",85,e);}if (_boolean_result) { %><second-name><% {String value = null;try{value=context.getFormattedValue(getObject("Address:SecondName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {85}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></second-name><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:SecondLastName"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",86,e);}if (_boolean_result) { %><second-lastname><% {String value = null;try{value=context.getFormattedValue(getObject("Address:SecondLastName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {86}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></second-lastname><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:Street"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",87,e);}if (_boolean_result) { %><street><% {String value = null;try{value=context.getFormattedValue(getObject("Address:Street"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {87}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></street><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:Street2"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",88,e);}if (_boolean_result) { %><street2><% {String value = null;try{value=context.getFormattedValue(getObject("Address:Street2"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {88}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></street2><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:Street3"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",89,e);}if (_boolean_result) { %><street3><% {String value = null;try{value=context.getFormattedValue(getObject("Address:Street3"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {89}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></street3><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:EMail"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",90,e);}if (_boolean_result) { %><email><% {String value = null;try{value=context.getFormattedValue(getObject("Address:EMail"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {90}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></email><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Address:Fax"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",91,e);}if (_boolean_result) { %><fax><% {String value = null;try{value=context.getFormattedValue(getObject("Address:Fax"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {91}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></fax><% } %>
						        <%
						            Address address = (Address) getObject("Address");
						            getPipelineDictionary().put("AddressCustomAttributes", new AttributeValueIterator(address.createAttributeValuesIterator(), address));
						        %>
						        <% processOpenTag(response, pageContext, "customattributes", new TagParameter[] {
new TagParameter("attributes",getObject("AddressCustomAttributes"))}, 96); %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("Address:isShipFromAddress"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",97,e);}if (_boolean_result) { %><ship-from-address>1</ship-from-address><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("Address:isShipToAddress"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",98,e);}if (_boolean_result) { %><ship-to-address>1</ship-to-address><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("Address:isInvoiceToAddress"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",99,e);}if (_boolean_result) { %><invoice-to-address>1</invoice-to-address><% } %>
						        <% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("Address:isDefaultAddress"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",100,e);}if (_boolean_result) { %><default-address>1</default-address><% } %>
							</address>
						<% } %>
					</addresses>
				<% } %>
			</profile>
		    <% _boolean_result=false;try {_boolean_result=((Boolean)((hasLoopElements("CustomerUserGroups") ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",106,e);}if (_boolean_result) { %>
			    <user-groups>
				    <% while (loop("CustomerUserGroups","ug",null)) { %>
				      <user-group id="<%=context.getFormattedValue(stringToXml(context.getFormattedValue(getObject("ug:ID"),null)),null)%>"<% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("ExportDomainRefs"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",109,e);}if (_boolean_result) { %> domain="<%=context.getFormattedValue(stringToXml(context.getFormattedValue(getObject("ug:Domain:DomainName"),null)),null)%>"<% } %>/>
				    <% } %>
			    </user-groups>
		    <% } %>
		</user>
	<% } %>
<% } %><% printFooter(out); %>