<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>Logging Options</title>
      <link rel="stylesheet" type="text/css" href="static/css/styles.css">
   </head>
   <body>
      <h1 id="smc_log">Logging Options</h1>
      <div class="section-toc">
         <ul>
            <li><a href="#smc_log_status">Viewing Logging Status</a></li>
            <li><a href="#smc_log_settings">Available Logging Settings</a></li>
            <ul>
               <li><a href="#smc_log_scope">Settings Scope</a></li>
               <li><a href="#smc_log_add_config">Additional Logging Configuration Files</a></li>
               <li><a href="#smc_log_appender_opt">Appender Options: Level Filters and Categories</a></li>
            </ul>
            <li><a href="#smc_log_change">Changing the Logging Settings</a></li>
            <ul>
               <li><a href="#smc_log_change_scope">Selecting the Settings Scope</a></li>
               <li><a href="#smc_log_change_level">Setting the Level Filter</a></li>
               <li><a href="#smc_log_change_cat">Managing Categories</a></li>
            </ul>
         </ul>
      </div>
      <p id="d12e997">Using the System Management Logging module, you can customize the existing logging appenders defined for your Intershop Commerce
         Management instance. The settings specified in this System Management module are written to <span class="emphasis">&lt;IS.INSTANCE.SHARE&gt;/system/config/cluster/logging.properties</span>.
      </p>
      <p id="d12e1002">For information about basic logging framework concepts, refer to <a href="https://support.intershop.com/kb/index.php/Display/F27728">Guide - Application Logging Administration</a>.
      </p>
      <h2 id="smc_log_status">Viewing Logging Status</h2>
      <p id="d12e1015">Upon opening the Logging module, System Management displays an overview page that lists the available application servers
         in the cluster. It shows some basic information, including startup time, status and activated settings scope.
      </p>
      <div class="figure" id="d12e1017">
         <div class="figure_caption" id="d12e1018">Figure 6: Logging module overview</div><img src="smc_images/scr_smc_logOv.png" alt="Logging module overview"></div>
      <p id="d12e1023">To check the logging status for an application server, click the server name in the list. This opens the Logging status detail
         view for the selected server.
      </p>
      <div class="figure" id="d12e1025">
         <div class="figure_caption" id="d12e1026">Figure 7: Application server logging status</div><img src="smc_images/scr_smc_logAppsrvStatus.png" alt="Application server logging status"></div>
      <h2 id="smc_log_settings">Available Logging Settings</h2>
      <h3 id="smc_log_scope">Settings Scope</h3>
      <p id="d12e1047">As with most application properties, you can define global (cluster-wide) logging settings, or define them locally for each
         application server, where local settings overwrite global settings.
      </p>
      <p id="d12e1049">To decide whether to use global or local settings for an application server:</p>
      <ol id="d12e1051">
         <li id="d12e1052">
            <p id="d12e1053">In the System Management navigation bar, select Logging.</p>
            <p id="d12e1055">The Logging Settings overview page is displayed.</p>
         </li>
         <li id="d12e1057">
            <p id="d12e1058">Select the intended application server.</p>
            <p id="d12e1060">The detail view for the application server is displayed.</p>
         </li>
         <li id="d12e1062">
            <p id="d12e1063">Open the Logging Settings tab.</p>
            <div class="figure" id="d12e1065">
               <div class="figure_caption" id="d12e1066">Figure 8: Application server logging settings</div><img src="smc_images/scr_smc_logAppsrvSet.png" alt="Application server logging settings"></div>
         </li>
         <li id="d12e1071">
            <p id="d12e1072">In the Settings Scope section, select the required option.</p>
            <p id="d12e1074">Choose either</p>
            <ul class="disc" id="d12e1076">
               <li id="d12e1077">
                  <p id="d12e1078">Use Cluster-Wide Settings, or</p>
               </li>
               <li id="d12e1080">
                  <p id="d12e1081">Use Application Server-Specific Settings.</p>
               </li>
            </ul>
            <div class="note" id="d12e1083">
               <div class="adm-type">Note:</div>
               <p id="d12e1084">Changing the scope from cluster-wide to application server-specific copies the cluster-wide setting for this application server.
                  Changing the scope from application server-specific to cluster-wide deletes the application server-specific settings.
               </p>
            </div>
         </li>
         <li id="d12e1086">
            <p id="d12e1087">Click Apply.</p>
            <p id="d12e1089">If you choose to use cluster-wide settings, the actual logging options are not editable in this dialog.</p>
            <div class="note" id="d12e1091">
               <div class="adm-type">Note:</div>
               <p id="d12e1092">The further logging options apply to both the cluster-wide and the application server-specific settings.</p>
            </div>
         </li>
      </ol>
      <h3 id="smc_log_add_config">Additional Logging Configuration Files</h3>
      <p id="d12e1102">For maintenance reasons or during application development, you may need additional logback configuration file includes, which
         are loaded and applied at runtime.
      </p>
      <h4 id="d12e1104">Uploading Configuration Files</h4>
      <p id="d12e1107">To upload logback configuration includes:</p>
      <ol id="d12e1109">
         <li id="d12e1110">
            <p id="d12e1111">In the System Management nvigation bar, select Logging.</p>
            <p id="d12e1113">The Logging Settings overview page is displayed.</p>
         </li>
         <li id="d12e1115">
            <p id="d12e1116">Navigate to the intended Advanced Logging Settings tab.</p>
            <p id="d12e1118">For cluster-wide settings, open Logging | Cluster Wide Settings in the System Management navigation bar, then change to the
               Advanced Logging Settings tab.
            </p>
            <p id="d12e1120">The files are uploaded to <span class="emphasis">&lt;IS_SHARE&gt;/config/cluster/loggingextension</span>.
            </p>
            <p id="d12e1125">For application server-specific settings, select the intended application server and open the Advanced Logging Settings tab.</p>
            <p id="d12e1127">The files are uploaded to <span class="emphasis">&lt;IS.INSTANCE.LOCAL&gt;/config/loggingextension</span>.
            </p>
         </li>
         <li id="d12e1132">
            <p id="d12e1133">In the Upload File field, specify the file path or click Browse to locate the file.</p>
         </li>
         <li id="d12e1135">
            <p id="d12e1136">Click Upload.</p>
            <p id="d12e1138">The file is uploaded and, upon completion, displayed in the list.</p>
         </li>
      </ol>
      <div class="note" id="d12e1140">
         <div class="adm-type">Note:</div>
         <p id="d12e1141">Uploaded files are automatically activated, i.e., the corresponding logging settings are applied without further user interaction.</p>
      </div>
      <h4 id="d12e1143">Deleting Configuration Files</h4>
      <p id="d12e1146">To delete logback configuration includes:</p>
      <ol id="d12e1148">
         <li id="d12e1149">
            <p id="d12e1150">In the System Management navigation bar, select Logging.</p>
            <p id="d12e1152">The Logging Settings overview page is displayed.</p>
         </li>
         <li id="d12e1154">
            <p id="d12e1155">Navigate to the intended Advanced Logging Settings tab.</p>
            <p id="d12e1157">For cluster-wide settings, open Logging | Cluster Wide Settings in the System Management navigation bar, then change to the
               Advanced Logging Settings tab.
            </p>
            <p id="d12e1159">For application server-specific settings, select the intended application server and open the Advanced Logging Settings tab.</p>
         </li>
         <li id="d12e1161">
            <p id="d12e1162">Select the configuration file(s) you want to delete.</p>
            <p id="d12e1164">Mark the corresponding checkbox(es).</p>
         </li>
         <li id="d12e1166">
            <p id="d12e1167">Click Delete.</p>
            <p id="d12e1169">A confirmation box appears prompting you to confirm the file deletion and appender deactivation.</p>
         </li>
         <li id="d12e1171">
            <p id="d12e1172">Click OK to confirm the deletion.</p>
            <p id="d12e1174">The configuration file is removed, and the corresponding appenders are deactivated.</p>
         </li>
      </ol>
      <div class="note" id="d12e1176">
         <div class="adm-type">Note:</div>
         <p id="d12e1177">Upon file deletion, only the appenders defined with this file are deactivated, possibly defined other settings still remain
            active as long as the server is up.
         </p>
      </div>
      <h3 id="smc_log_appender_opt">Appender Options: Level Filters and Categories</h3>
      <p id="d12e1203">All appenders defined for Intershop Commerce Management via the <span class="emphasis">logback-*.xml</span> configuration files can be customized in System Management through defining log level filters and assigning log categories.
         The following table lists the appenders and their corresponding settings as available by default.
      </p>
      <table id="d12e1208">
         <caption id="d12e1209">Table 4: Default appender settings</caption>
         <colgroup span="1">
            <col width="30%" span="1">
            <col width="20%" span="1">
            <col width="50%" span="1">
         </colgroup>
         <thead id="d12e1215">
            <tr id="d12e1216">
               <th id="d12e1217">Appender</th>
               <th id="d12e1219">Level Filter</th>
               <th id="d12e1221">Assigned Categories</th>
            </tr>
         </thead>
         <tbody id="d12e1223">
            <tr id="d12e1224">
               <td id="d12e1225">Audits</td>
               <td id="d12e1227"> </td>
               <td id="d12e1229">root, com.intershop.beehive.core.internal.request </td>
            </tr>
            <tr id="d12e1231">
               <td id="d12e1232">Debug</td>
               <td id="d12e1234">Debug</td>
               <td id="d12e1236"> </td>
            </tr>
            <tr id="d12e1238">
               <td id="d12e1239">Error</td>
               <td id="d12e1241">Fixed Error</td>
               <td id="d12e1243">root, com.intershop.beehive.core.internal.request</td>
            </tr>
            <tr id="d12e1245">
               <td id="d12e1246">ImpexError</td>
               <td id="d12e1248">Warn</td>
               <td id="d12e1250">root, com.intershop.beehive.core.internal.request</td>
            </tr>
            <tr id="d12e1252">
               <td id="d12e1253">Job</td>
               <td id="d12e1255">Info</td>
               <td id="d12e1257">root, com.intershop.beehive.core.internal.request</td>
            </tr>
            <tr id="d12e1259">
               <td id="d12e1260">ServerStartupConsole</td>
               <td id="d12e1262"> </td>
               <td id="d12e1264">org.apache.catalina.startup.Catalina</td>
            </tr>
            <tr id="d12e1266">
               <td id="d12e1267">TraceConsole</td>
               <td id="d12e1269"> </td>
               <td id="d12e1271"> </td>
            </tr>
            <tr id="d12e1273">
               <td id="d12e1274">Warn</td>
               <td id="d12e1276">Fixed Warn</td>
               <td id="d12e1278">root, com.intershop.beehive.core.internal.request</td>
            </tr>
            <tr id="d12e1280">
               <td id="d12e1281">WarnConsole</td>
               <td id="d12e1283">Warn</td>
               <td id="d12e1285"> </td>
            </tr>
         </tbody>
      </table>
      <p id="d12e1287">An empty level filter (set to <span class="code">none</span>) indicates that this appender currently has not assigned a customizable level filter. This means, any log events to be recorded
         by this appender only pass the filters defined in the preceding filter chain (turbo filters, category filters).
      </p>
      <div class="note" id="d12e1292">
         <div class="adm-type">Note:</div>
         <p id="d12e1293">If there is no category assigned, the appender does not record any log output.</p>
      </div>
      <h2 id="smc_log_change">Changing the Logging Settings</h2>
      <p id="d12e1303">Changing the logging settings via System Management means customizing the level filters and category assignments for the existing
         appenders.
      </p>
      <h3 id="smc_log_change_scope">Selecting the Settings Scope</h3>
      <p id="d12e1318">First choose whether to define cluster-wide or application server-specific logging settings:</p>
      <ul class="disc" id="d12e1320">
         <li id="d12e1321">
            <p id="d12e1322">To define cluster-wide settings, open Logging | Cluster Wide Settings in the System Management navigation bar.</p>
         </li>
         <li id="d12e1324">
            <p id="d12e1325">To define application server-specific settings, proceed as described in <a href="smc_log.html#smc_log_scope">Settings Scope</a>, and apply the Application Server-Specific Settings option.
            </p>
         </li>
      </ul>
      <div class="note" id="d12e1329">
         <div class="adm-type">Note:</div>
         <p id="d12e1330">The further logging options apply to both the cluster-wide and the application server-specific settings.</p>
      </div>
      <h3 id="smc_log_change_level">Setting the Level Filter</h3>
      <p id="d12e1345">To change the level filter for an appender:</p>
      <ol id="d12e1347">
         <li id="d12e1348">
            <p id="d12e1349">Open the Logging Settings for the cluster or an application server.</p>
         </li>
         <li id="d12e1351">
            <p id="d12e1352">In the Appender section, click the appender to change.</p>
            <p id="d12e1354">The appender's detail page is displayed.</p>
         </li>
         <li id="d12e1356">
            <p id="d12e1357">In the Level Filter section, select the level filter to use.</p>
            <p id="d12e1359">Open the drop-down list and choose the required filter.</p>
            <div class="figure" id="d12e1361">
               <div class="figure_caption" id="d12e1362">Figure 9: Selecting a level filter</div><img src="smc_images/scr_smc_filterLogAppender.png" alt="Selecting a level filter"></div>
         </li>
         <li id="d12e1367">
            <p id="d12e1368">Click Apply to save your changes.</p>
            <p id="d12e1370">Clicking Reset reverts to the last saved state.</p>
         </li>
      </ol>
      <h3 id="smc_log_change_cat">Managing Categories</h3>
      <div class="note" id="d12e1385">
         <div class="adm-type">Note:</div>
         <p id="d12e1386">The category lists delivered by the System Management Logging module only display categories that are known to the logging
            system at the given time. A category is known if it is explicitly mentioned in a configuration file or after the corresponding
            application code has issued a log request for this category.
         </p>
      </div>
      <h4 id="d12e1388">Assigning Categories</h4>
      <p id="d12e1391">To add category assignments for an appender:</p>
      <ol id="d12e1393">
         <li id="d12e1394">
            <p id="d12e1395">Open the Logging Settings for the cluster or an application server.</p>
         </li>
         <li id="d12e1397">
            <p id="d12e1398">In the Appender section, click the appender to change.</p>
            <p id="d12e1400">The appender's detail page is displayed.</p>
         </li>
         <li id="d12e1402">
            <p id="d12e1403">In the Assigned Categories section, select the required categories.</p>
            <p id="d12e1405">Before setting the required category level, you must select a root category (with <span class="code">additivity="false"</span>) that limits the appender inheritance (see <a href="https://support.intershop.com/kb/index.php/Display/F27728">Guide - Application Logging Administration</a>).
            </p>
            <p id="d12e1413">The category drop-down list allows for selecting all sub categories of the given root category that are not already included.</p>
            <div class="figure" id="d12e1415">
               <div class="figure_caption" id="d12e1416">Figure 10: Assigning a category to an appender</div><img src="smc_images/scr_smc_logAppenderCat.png" alt="Assigning a category to an appender"></div>
         </li>
         <li id="d12e1421">
            <p id="d12e1422">Click Assign to save the selected category with the appender.</p>
            <p id="d12e1424">Clicking Back to List returns you to the overview page without assigning the category to the appender.</p>
         </li>
      </ol>
      <h4 id="d12e1426">Unassigning Categories</h4>
      <p id="d12e1429">To remove a category assignment from an appender:</p>
      <ol id="d12e1431">
         <li id="d12e1432">
            <p id="d12e1433">Open the Logging Settings for the cluster or an application server.</p>
         </li>
         <li id="d12e1435">
            <p id="d12e1436">In the Appender section, click the appender to change.</p>
            <p id="d12e1438">The appender's detail page is displayed.</p>
         </li>
         <li id="d12e1440">
            <p id="d12e1441">In the Assigned Categories list, select the category assignments to remove.</p>
            <p id="d12e1443">Use the checkbox to select the intended categories.</p>
         </li>
         <li id="d12e1445">
            <p id="d12e1446">Click Unassign.</p>
            <p id="d12e1448">The category assignment is removed from the appender.</p>
         </li>
      </ol>
      <h4 id="d12e1450">Viewing Child Categories</h4>
      <p id="d12e1453">Categories may include sub categories that are included automatically when creating assignments for appenders. To view sub
         categories:
      </p>
      <ol id="d12e1455">
         <li id="d12e1456">
            <p id="d12e1457">Open the Logging Settings for the cluster or an application server.</p>
         </li>
         <li id="d12e1459">
            <p id="d12e1460">In the Appender section, click the appender to change.</p>
            <p id="d12e1462">The appender's detail page is displayed.</p>
         </li>
         <li id="d12e1464">
            <p id="d12e1465">In the Assigned Categories list, click the name of an assigned category.</p>
            <p id="d12e1467">The Sub Categories page is displayed.</p>
            <div class="figure" id="d12e1469">
               <div class="figure_caption" id="d12e1470">Figure 11: Automatically included sub categories</div><img src="smc_images/scr_smc_viewLogSubCat.png" alt="Automatically included sub categories"></div>
         </li>
         <li id="d12e1475">
            <p id="d12e1476">Click Back to return to the appender's detail page.</p>
         </li>
      </ol>
   </body>
</html>