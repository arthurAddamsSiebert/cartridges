<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>Monitor the System State</title>
      <link rel="stylesheet" type="text/css" href="static/css/styles.css">
   </head>
   <body>
      <h1 id="smc_mon">Monitor the System State</h1>
      <div class="section-toc">
         <ul>
            <li><a href="#smc_mon_navi">Accessing and Navigating the Monitoring Module</a></li>
            <ul>
               <li><a href="#d12e1820">Monitoring Sub-Modules</a></li>
               <li><a href="#d12e1859">Sub-Module Overview Page</a></li>
               <li><a href="#d12e1870">Sub-Module Detail Page</a></li>
            </ul>
            <li><a href="#smc_mon_opt">Monitoring Options</a></li>
            <li><a href="#d12e2238">JMX and MBean Support</a></li>
            <ul>
               <li><a href="#smc_mon_jmx">What is JMX?</a></li>
               <li><a href="#smc_mon_mbean">MBean Registration</a></li>
               <li><a href="#jmx_tools">Java Visual VM and JConsole</a></li>
               <li><a href="#smc_mon_sample_mb">Intershop Commerce Management Sample MBeans</a></li>
            </ul>
         </ul>
      </div>
      <p id="d12e1802">The System Management monitoring module is the main system monitoring tool. Using this module, system administrators can monitor
         the properties, process information, current threads and requests of all server components in the Intershop Commerce Management
         system. This information can be used for advanced debugging, profiling and troubleshooting purposes in an Intershop Commerce
         Management installation.
      </p>
      <h2 id="smc_mon_navi">Accessing and Navigating the Monitoring Module</h2>
      <p id="d12e1812">To enter the monitoring module, select Monitoring from the System Management navigation bar. This opens the Cluster Overview
         page, which lists all servers in the cluster and displays basic performance data.
      </p>
      <div class="figure" id="d12e1814">
         <div class="figure_caption" id="d12e1815">Figure 22: Monitoring Cluster Overview page</div><img src="smc_images/scr_smc_monOv.png" alt="Monitoring Cluster Overview page"></div>
      <h3 id="d12e1820">Monitoring Sub-Modules</h3>
      <p id="d12e1823">The Monitoring section in the navigation bar comprises the following sub-modules, each providing the corresponding detailed
         information:
      </p>
      <ul class="disc" id="d12e1825">
         <li id="d12e1826">
            <p id="d12e1827">Application Server</p>
         </li>
         <li id="d12e1829">
            <p id="d12e1830">Java VM</p>
         </li>
         <li id="d12e1832">
            <p id="d12e1833">OR Mapping</p>
         </li>
         <li id="d12e1835">
            <p id="d12e1836">JDBC</p>
         </li>
         <li id="d12e1838">
            <p id="d12e1839">Cartridges</p>
         </li>
         <li id="d12e1841">
            <p id="d12e1842">Performance</p>
         </li>
         <li id="d12e1844">
            <p id="d12e1845">Background</p>
         </li>
         <li id="d12e1847">
            <p id="d12e1848">Database Status</p>
         </li>
         <li id="d12e1850">
            <p id="d12e1851">Locking</p>
         </li>
         <li id="d12e1853">
            <p id="d12e1854">Services</p>
         </li>
         <li id="d12e1856">
            <p id="d12e1857">Additional Monitoring Options</p>
         </li>
      </ul>
      <h3 id="d12e1859">Sub-Module Overview Page</h3>
      <p id="d12e1862">Through clicking one of the sub-modules, you are taken to an overview page that lists the available monitoring options.</p>
      <div class="figure" id="d12e1864">
         <div class="figure_caption" id="d12e1865">Figure 23: Application Server overview page</div><img src="smc_images/scr_smc_monAppsrvOv.png" alt="Application Server overview page"></div>
      <h3 id="d12e1870">Sub-Module Detail Page</h3>
      <p id="d12e1873">To view the detailed information of a topic listed in the sub-module overview page, click the corresponding link. This opens
         the detail view.
      </p>
      <div class="figure" id="d12e1875">
         <div class="figure_caption" id="d12e1876">Figure 24: Application Server process details</div><img src="smc_images/scr_smc_monAppsrvDetails.png" alt="Application Server process details"></div>
      <h2 id="smc_mon_opt">Monitoring Options</h2>
      <p id="d12e1889">The following tables outline the available monitoring options, sub-section by sub-section.</p>
      <ul class="square" id="d12e1891">
         <li id="d12e1892">
            <p id="d12e1893">Application Server</p>
            <p id="d12e1895"> </p>
            <table id="d12e1897">
               <caption id="d12e1898">Table 6: General application server monitoring options</caption>
               <colgroup span="1">
                  <col width="30%" span="1">
                  <col width="70%" span="1">
               </colgroup>
               <thead id="d12e1903">
                  <tr id="d12e1904">
                     <th id="d12e1905">Monitoring Item</th>
                     <th id="d12e1907">Description</th>
                  </tr>
               </thead>
               <tbody id="d12e1909">
                  <tr id="d12e1910">
                     <td id="d12e1911">Process Information</td>
                     <td id="d12e1913">Displays general information about the application server (process ID, startup date, cluster ID, server groups), and about
                        its Web front service (port, handler thread number, etc.)
                     </td>
                  </tr>
                  <tr id="d12e1915">
                     <td id="d12e1916">Resource Usage</td>
                     <td id="d12e1918">Displays information about the current server process (CPU usage, total process size, in-memory size, used system threads).</td>
                  </tr>
                  <tr id="d12e1920">
                     <td id="d12e1921">Properties</td>
                     <td id="d12e1923">Displays the properties that are currently known by the application. This list contains aggregated properties from a number
                        of *.properties files, for example the global and local appserver.properties, orm.properties, all cartridge *.properties files,
                        and staging.properties. Note that sensitive properties may be hidden (see <a href="https://support.intershop.com/kb/index.php/Display/2D7731">Guide - Intershop Application Server Settings</a>).
                     </td>
                  </tr>
                  <tr id="d12e1928">
                     <td id="d12e1929">Sessions and Requests</td>
                     <td id="d12e1931">Displays information about the session management options and session and request statistics for the server.</td>
                  </tr>
                  <tr id="d12e1933">
                     <td id="d12e1934">Configuration Values</td>
                     <td id="d12e1936">Enables the retrieval of configuration data from an application server. Configuration values can be retrieved from the scope,
                        domain, application and key (displaying all of the values for each instance of a particular key).
                     </td>
                  </tr>
               </tbody>
            </table>
         </li>
         <li id="d12e1938">
            <p id="d12e1939">Java VM</p>
            <p id="d12e1941"> </p>
            <table id="d12e1943">
               <caption id="d12e1944">Table 7: Java Virtual Machine monitoring options</caption>
               <colgroup span="1">
                  <col width="30%" span="1">
                  <col width="70%" span="1">
               </colgroup>
               <thead id="d12e1949">
                  <tr id="d12e1950">
                     <th id="d12e1951">Monitoring Item</th>
                     <th id="d12e1953">Description</th>
                  </tr>
               </thead>
               <tbody id="d12e1955">
                  <tr id="d12e1956">
                     <td id="d12e1957">Resource Usage</td>
                     <td id="d12e1959">Displays information about the Java Virtual Machine (total heap size, used heap size, used/total heap ratio.)</td>
                  </tr>
                  <tr id="d12e1961">
                     <td id="d12e1962">Threads</td>
                     <td id="d12e1964">Displays all threads that currently exist in the Java Virtual Machine.</td>
                  </tr>
                  <tr id="d12e1966">
                     <td id="d12e1967">System Properties</td>
                     <td id="d12e1969">Displays all the system properties of the application server's JVM.</td>
                  </tr>
               </tbody>
            </table>
         </li>
         <li id="d12e1971">
            <p id="d12e1972">OR Mapping</p>
            <p id="d12e1974"> </p>
            <table id="d12e1976">
               <caption id="d12e1977">Table 8: OR Mapping monitoring options</caption>
               <colgroup span="1">
                  <col width="30%" span="1">
                  <col width="70%" span="1">
               </colgroup>
               <thead id="d12e1982">
                  <tr id="d12e1983">
                     <th id="d12e1984">Monitoring Item</th>
                     <th id="d12e1986">Description</th>
                  </tr>
               </thead>
               <tbody id="d12e1988">
                  <tr id="d12e1989">
                     <td id="d12e1990">ORM Cache</td>
                     <td id="d12e1992">Displays general information about the ORM cache such as number of cached instances, cache synchronization information, or
                        persistent objects in the cache.
                     </td>
                  </tr>
                  <tr id="d12e1994">
                     <td id="d12e1995">Persistent Object Information</td>
                     <td id="d12e1997">Displays information about the selected persistent object on the monitored server (number of instances in cache, default reference
                        type.)
                     </td>
                  </tr>
               </tbody>
            </table>
         </li>
         <li id="d12e1999">
            <p id="d12e2000">JDBC</p>
            <p id="d12e2002"> </p>
            <table id="d12e2004">
               <caption id="d12e2005">Table 9: JDBC layer monitoring options</caption>
               <colgroup span="1">
                  <col width="30%" span="1">
                  <col width="70%" span="1">
               </colgroup>
               <thead id="d12e2010">
                  <tr id="d12e2011">
                     <th id="d12e2012">Monitoring Item</th>
                     <th id="d12e2014">Description</th>
                  </tr>
               </thead>
               <tbody id="d12e2016">
                  <tr id="d12e2017">
                     <td id="d12e2018">Drivers</td>
                     <td id="d12e2020">Displays information about the registered JDBC drivers.</td>
                  </tr>
                  <tr id="d12e2022">
                     <td id="d12e2023">Data Sources</td>
                     <td id="d12e2025">Displays general data source information and Oracle connection cache information.</td>
                  </tr>
               </tbody>
            </table>
         </li>
         <li id="d12e2027">
            <p id="d12e2028">Cartridges</p>
            <p id="d12e2030"> </p>
            <table id="d12e2032">
               <caption id="d12e2033">Table 10: Cartridges Monitoring options</caption>
               <colgroup span="1">
                  <col width="30%" span="1">
                  <col width="70%" span="1">
               </colgroup>
               <thead id="d12e2038">
                  <tr id="d12e2039">
                     <th id="d12e2040">Monitoring Item</th>
                     <th id="d12e2042">Description</th>
                  </tr>
               </thead>
               <tbody id="d12e2044">
                  <tr id="d12e2045">
                     <td id="d12e2046">Loaded Cartridges</td>
                     <td id="d12e2048">Lists all cartridges loaded on the server and shows basic cartridge information (name, display name, version, build, cartridge
                        directory, JAR files.)
                     </td>
                  </tr>
                  <tr id="d12e2050">
                     <td id="d12e2051">Loaded Pipelets</td>
                     <td id="d12e2053">Lists all pipelets loaded on the server.</td>
                  </tr>
                  <tr id="d12e2055">
                     <td id="d12e2056">Duplicated Pipelets</td>
                     <td id="d12e2058">Generates a list of duplicate pipelets on the server.</td>
                  </tr>
               </tbody>
            </table>
         </li>
         <li id="d12e2060">
            <p id="d12e2061">Performance</p>
            <p id="d12e2063"> </p>
            <table id="d12e2065">
               <caption id="d12e2066">Table 11: Performance Monitoring options</caption>
               <colgroup span="1">
                  <col width="30%" span="1">
                  <col width="70%" span="1">
               </colgroup>
               <thead id="d12e2071">
                  <tr id="d12e2072">
                     <th id="d12e2073">Monitoring Item</th>
                     <th id="d12e2075">Description</th>
                  </tr>
               </thead>
               <tbody id="d12e2077">
                  <tr id="d12e2078">
                     <td id="d12e2079">Configuration</td>
                     <td id="d12e2081">Configures and activates/deactivates the Performance Monitor types (request, pipeline, class, managed service, object path,
                        pagelet, pipelet, query, SQL and template) and displays the current monitoring state (active/inactive). You can also set values
                        to be written to a log.
                     </td>
                  </tr>
                  <tr id="d12e2083">
                     <td id="d12e2084">Compare Performance Monitoring Results</td>
                     <td id="d12e2086">Select a sensor and base report data to make a performance comparison to another report (across all sites). A sensor is a
                        Request, Pipeline, Class, Managed Service, Object Path, Pagelet, Pipelet, Query, SQL or Template.
                     </td>
                  </tr>
                  <tr id="d12e2088">
                     <td id="d12e2089">Performance by Domain and Site</td>
                     <td id="d12e2091">Select a specific site and display request performance. Values are returned for hits, total time, effective time, average
                        time, minimum time and maximum time.
                     </td>
                  </tr>
                  <tr id="d12e2093">
                     <td id="d12e2094">Performance by Type</td>
                     <td id="d12e2096">Select a specific type of performance measurement and display the values across all sites.</td>
                  </tr>
               </tbody>
            </table>
         </li>
         <li id="d12e2098">
            <p id="d12e2099">Background</p>
            <p id="d12e2101"> </p>
            <table id="d12e2103">
               <caption id="d12e2104">Table 12: Background Monitoring options</caption>
               <colgroup span="1">
                  <col width="30%" span="1">
                  <col width="70%" span="1">
               </colgroup>
               <thead id="d12e2109">
                  <tr id="d12e2110">
                     <th id="d12e2111">Monitoring Item</th>
                     <th id="d12e2113">Description</th>
                  </tr>
               </thead>
               <tbody id="d12e2115">
                  <tr id="d12e2116">
                     <td id="d12e2117">Configuration</td>
                     <td id="d12e2119">Displays the current background monitoring state and allows for switching it on or off and adjusting the timeout between two
                        measurement cycles.
                     </td>
                  </tr>
                  <tr id="d12e2121">
                     <td id="d12e2122">Memory Charts</td>
                     <td id="d12e2124">Shows the memory usage of the running server (process memory, JVM memory, ORM cache memory) in graphs.</td>
                  </tr>
                  <tr id="d12e2126">
                     <td id="d12e2127">Session Charts</td>
                     <td id="d12e2129">Displays graphical information about the sessions of the running server (total sessions, active sessions, active requests.)</td>
                  </tr>
                  <tr id="d12e2131">
                     <td id="d12e2132">Performance Charts</td>
                     <td id="d12e2134">Displays detailed information about the performance of the running server (average response time, CPU usage, load factor,
                        thread count.)
                     </td>
                  </tr>
               </tbody>
            </table>
            <div class="caution" id="d12e2136">
               <div class="adm-type">Caution:</div>
               <p id="d12e2137">The Configuration dialog allows for specifying a new monitor pipeline. Unless you have implemented a custom monitor pipeline
                  or added a custom start node to the existing one, Intershop strongly recommends to keep the default settings.
               </p>
            </div>
         </li>
         <li id="d12e2139">
            <p id="d12e2140">Database Status</p>
            <div class="note" id="d12e2142">
               <div class="adm-type">Note:</div>
               <p id="d12e2143">Before you can monitor the database status, you have to execute the script DBMonitorGrants.sql, located in &lt;IS.INSTANCE.LOCAL&gt;/bin.</p>
            </div>
            <table id="d12e2145">
               <caption id="d12e2146">Table 13: Database Status Monitoring</caption>
               <colgroup span="1">
                  <col width="30%" span="1">
                  <col width="70%" span="1">
               </colgroup>
               <thead id="d12e2151">
                  <tr id="d12e2152">
                     <th id="d12e2153">Monitoring Item</th>
                     <th id="d12e2155">Description</th>
                  </tr>
               </thead>
               <tbody id="d12e2157">
                  <tr id="d12e2158">
                     <td id="d12e2159">Database Status</td>
                     <td id="d12e2161">Displays detailed information about database configuration and performance. Select one of the reports from the list box to
                        display the corresponding information.
                     </td>
                  </tr>
               </tbody>
            </table>
         </li>
         <li id="d12e2163">
            <p id="d12e2164">Locking</p>
            <p id="d12e2166"> </p>
            <table id="d12e2168">
               <caption id="d12e2169">Table 14: Locking Monitoring options</caption>
               <colgroup span="1">
                  <col width="30%" span="1">
                  <col width="70%" span="1">
               </colgroup>
               <thead id="d12e2174">
                  <tr id="d12e2175">
                     <th id="d12e2176">Monitoring Item</th>
                     <th id="d12e2178">Description</th>
                  </tr>
               </thead>
               <tbody id="d12e2180">
                  <tr id="d12e2181">
                     <td id="d12e2182">Named Resources</td>
                     <td id="d12e2184">Displays information about named resources. Named resources are virtual entities. Every named resource is identified by a
                        unique name. Named resources can have a hierarchical structure.
                     </td>
                  </tr>
                  <tr id="d12e2186">
                     <td id="d12e2187">Instance Resources</td>
                     <td id="d12e2189">Displays information about instance resources. Instance resources are created dynamically. Every instance resource represents
                        an instance of a PersistentObject.
                     </td>
                  </tr>
                  <tr id="d12e2191">
                     <td id="d12e2192">Processes</td>
                     <td id="d12e2194">Displays information about Intershop Commerce Management processes, such as data replication processes, import processes and
                        scheduled jobs.
                     </td>
                  </tr>
                  <tr id="d12e2196">
                     <td id="d12e2197">Locking Conflicts</td>
                     <td id="d12e2199">Displays information about resource acquisition problems. Resource acquisitions problems occur if a process tries to acquire
                        a resource that is already locked by another process.
                     </td>
                  </tr>
               </tbody>
            </table>
         </li>
         <li id="d12e2201">
            <p id="d12e2202">Services</p>
            <p id="d12e2204">This section summarizes the service providers that are integrated into your system. The overview page lists the services and
               their statuses in the site and application server contexts, grouped by service type.
            </p>
            <p id="d12e2206">Clicking a service name opens a detail view, which is divided into two tabs. The Monitoring tab shows more, fine-grained operation
               details, whereas the Maintenance tab provides options to enable/disable, ping or test the current service.
            </p>
         </li>
         <li id="d12e2208">
            <p id="d12e2209">Additional Monitoring Options</p>
            <p id="d12e2211">Enable CIC/runtime sensors artifacts tracking for pipelines, pagelets and templates. Follow the instructions below to perform
               this action.
            </p>
            <ol id="d12e2213">
               <li id="d12e2214">
                  <p id="d12e2215">Select Monitoring &gt; Performance &gt; Configuration from within System Management.</p>
                  <p id="d12e2217"></p>
               </li>
               <li id="d12e2218">
                  <p id="d12e2219">Select the monitoring types you want to activate and click "Apply".</p>
                  <p id="d12e2221"></p>
               </li>
               <li id="d12e2222">
                  <p id="d12e2223">Mark the box "Trace artifact structure for activated sensors" and click "Apply".</p>
                  <p id="d12e2225">Trace artifact structure for activated sensors and click "Apply".</p>
               </li>
            </ol>
            <p id="d12e2227"> All further requests will trace the corresponding hierarchy to a log file (<span class="emphasis">/share/system/logs/monitor-$hostName-$installationID-artifact-structures.log</span>). Entries will be of format:
            </p><pre class="code" id="d12e2232">Timestamp|requestID|root ArtifactPath</pre><p id="d12e2234">with</p><pre class="code" id="d12e2236">ArtifactPath = ArtifactID</pre></li>
      </ul>
      <h2 id="d12e2238">JMX and MBean Support</h2>
      <h3 id="smc_mon_jmx">What is JMX?</h3>
      <p id="d12e2249">JMX refers to the Java Management Extension, a framework for application and network management in the Java programming language.
         Using JMX technology, a given resource is instrumented by one or more Java objects known as Managed Beans, or MBeans. These
         MBeans are registered in an MBean server. Through the MBean server, resources exposed via MBeans can be accessed by management
         applications (JMX clients) in order to
      </p>
      <ul class="disc" id="d12e2251">
         <li id="d12e2252">
            <p id="d12e2253">Read and change application parameters during runtime</p>
         </li>
         <li id="d12e2255">
            <p id="d12e2256">Provide statistical data (performance, resource usage, logs, errors, etc.)</p>
         </li>
         <li id="d12e2258">
            <p id="d12e2259">Receive notifications in case of errors</p>
         </li>
         <li id="d12e2261">
            <p id="d12e2262">Monitor critical system components.</p>
         </li>
      </ul>
      <p id="d12e2264">Intershop Commerce Management provides a set of pre-defined MBeans that make it possible to obtain and process system monitoring
         information from JMX clients such as the <span class="emphasis">MX4j HTTP Adaptor</span> for Tomcat application servers. In addition, Intershop Commerce Management includes a simple mechanism to register additional
         MBeans provided by custom cartridges.
      </p>
      <div class="note" id="d12e2269">
         <div class="adm-type">Note:</div>
         <p id="d12e2270">The current release of Intershop Commerce Management provides support for standard MBeans, which define their management operations
            and attributes by a static Java interface. Other MBean types are not supported.
         </p>
      </div>
      <h3 id="smc_mon_mbean">MBean Registration</h3>
      <p id="d12e2280">A standard MBean consists of a Java interface (with the suffix <span class="emphasis">MBean</span>) and an implementation class. Each cartridge registers the MBeans which it provides. Registered MBeans are then loaded during
         application server startup and integrated with the MBean server of the underlying application server.
      </p>
      <p id="d12e2285">To register MBeans, you have to provide an <span class="emphasis">mbeans.properties</span> file within the classpath directory <span class="emphasis">javasource/resources/&lt;cartridge-name&gt;/naming</span> of your cartridge. The <span class="emphasis">mbeans.properties</span> file defines the respective "MBean-Classname" to "JMX-ObjectName" mappings. The general schema for MBean entries is
      </p><pre class="code" id="d12e2296">mbean_class_name=mbean_object_name</pre><p id="d12e2298">The MBean class name needs to be fully qualified. The JMX object name is used to register the MBean at the MBean server. It
         has to be compliant with the notation of a <span class="emphasis">java.management.ObjectName</span> (e.g. <span class="emphasis">domain: key1 = value1 , key2 = value2</span>). The sample below shows the respective configuration entry for the <span class="emphasis">LoggerAdministrationMBean</span>, provided by the <span class="emphasis">core</span> cartridge.
      </p><pre class="code" id="d12e2312">com.intershop.beehive.core.capi.mbean.LoggingAdmin=com.intershop.enfinity:
&nbsp;name=com.intershop.beehive.core.capi.mbean.LoggerAdministrationMBean,
&nbsp;type=AdministrationMBean</pre><p id="d12e2314">It is possible to replace MBeans of other cartridges by mapping their name to a different implementation class. The order
         in which the cartridges are loaded decides which MBean will be finally registered. The cartridge loaded last wins.
      </p>
      <h3 id="jmx_tools">Java Visual VM and JConsole</h3>
      <p id="d12e2324">The Java tools J Visual VM and JConsole are used primarily by Intershop Commerce Management administrators to monitor the
         system environment (resources consumption, processes, threads, etc.) for a running installation, as well as displaying attributes
         and operations related to Intershop Commerce Management MBeans. While both are included with Intershop Commerce Management
         JVisual VM is more powerful and does not tax your resources when run from within your installation.
      </p>
      <div class="note" id="d12e2326">
         <div class="adm-type">Note:</div>
         <p id="d12e2327">To enable Java monitoring in an Intershop Commerce Management environment, you need to edit the <span class="emphasis">tomcat.bat</span> file. Open this file with an editor, scroll down and uncomment the 'JMX Support' properties. Note the port number as you
            will need it when specifying the JMX connection for both JConsole and JVisual VM. This will enable JMX support for all Java
            applications located on a single Tomcat server within your Intershop Commerce Management installation.
         </p>
      </div>
      <p id="d12e2332">Open JVisual VM in the Intershop Commerce Management folder located in <span class="emphasis">engine\jdk\bin</span>. Double-click <span class="emphasis">jvisualvm.exe</span>. Select the 'Add JMX Connection' button from the top, and enter the &lt;hostname&gt; and &lt;port&gt; of your Tomcat server. You can
         only view a single application server, however all VM's on the server are viewable and can be opened in separate tabs. Right-click
         the application to open the Overview.
      </p>
      <p id="d12e2340">Here you have the tabs <span class="emphasis">Overview</span>, <span class="emphasis">Monitor</span>, <span class="emphasis">Threads</span>, <span class="emphasis">Sampler</span> and <span class="emphasis">MBeans</span>. A description of each tab is listed below.
      </p>
      <ul class="disc" id="d12e2357">
         <li id="d12e2358">
            <p id="d12e2359">Overview</p>
            <p id="d12e2361">Here you can see the virtual machine where your application is running and the Java home folder where the application is located.
               Here you can also view system properties.
            </p>
         </li>
         <li id="d12e2363">
            <p id="d12e2364">Monitor</p>
            <p id="d12e2366">Here you can see memory and performance, CPU usage, classes loaded and threads.</p>
         </li>
         <li id="d12e2368">
            <p id="d12e2369">Threads</p>
            <p id="d12e2371">This tab opens with a view of 'All Threads' on a timeline, and allows you to create a thread dump to save and analyze later.
               The drop-down menu allows you to see 'All', 'Live', 'Finished' and 'Selected' application threads.
            </p>
         </li>
         <li id="d12e2373">
            <p id="d12e2374">Sampler</p>
            <p id="d12e2376">Sampler provides you with a profile of your application performance. You can generate graphs for specific threads, as well
               as see the objects that are consuming system resources.
            </p>
         </li>
         <li id="d12e2378">
            <p id="d12e2379">MBeans</p>
            <p id="d12e2381">This tab allows you to view all MBeans registered with the platform MBean server. As Administrator, you will be primarily
               concerned with monitoring and performing operations for the following:
            </p>
            <ul class="disc" id="d12e2383">
               <li id="d12e2384">
                  <p id="d12e2385">Under <span class="emphasis">com.intershop.enfinity</span>, you can view the attributes and monitor application MBeans, view the attributes of cartridge MBeans and via ClearableCaches
                     view and perform operations on the ORM, Object and PageCache MBeans.
                  </p>
               </li>
               <li id="d12e2390">
                  <p id="d12e2391">Under <span class="emphasis">oracle.ucp.admin</span> and <span class="emphasis">oracle.ucp.admin.UniversalConnectionPoolMBean</span> you can view attributes and perform operations on the Intershop Commerce Management Oracle database pool connections.
                  </p>
               </li>
            </ul>
         </li>
      </ul>
      <p id="d12e2399">When you select an MBean and view the attributes, where the value is bold, you can double-click the value and it is shown
         as a graph or chart. For example, some cache MBeans allow you to view the number of cache hits for a particular resource.
      </p>
      <p id="d12e2401">Open JConsole in the Intershop Commerce Management folder located in <span class="emphasis">engine\jdk\bin</span>. Double-click <span class="emphasis">jconsole.exe</span>. JConsole automatically monitors the VM on the Tomcat server in which the application is opened. You can connect to a different
         host at any time by selecting 'Connection | New Connection' and entering the neccesary information. The table below lists
         the tabs and the monitoring options:
      </p>
      <table id="d12e2409">
         <caption id="d12e2410">Table 15: JConsole Tabs</caption>
         <colgroup span="1">
            <col width="20%" span="1">
            <col width="80%" span="1">
         </colgroup>
         <thead id="d12e2415">
            <tr id="d12e2416">
               <th id="d12e2417">Tab</th>
               <th id="d12e2419">Monitoring Focus</th>
            </tr>
         </thead>
         <tbody id="d12e2421">
            <tr id="d12e2422">
               <td id="d12e2423">Overview</td>
               <td id="d12e2425">Here you can see Heap Memory Usage, Threads, Classes loaded and CPU Usage graphs for the Tomcat server where your application
                  is running. You can select a Time Range (12 hours, 1 day, 7 days, etc.) from the drop-down (or by right-clicking any of the
                  objects) in the application window.
               </td>
            </tr>
            <tr id="d12e2427">
               <td id="d12e2428">Memory</td>
               <td id="d12e2430">The memory tab allows you to see charts (change the displayed information in the drop-down at the top) displaying memory use
                  versus time and specific memory pools. You can also view specifics in the 'Details' window.
               </td>
            </tr>
            <tr id="d12e2432">
               <td id="d12e2433">Threads</td>
               <td id="d12e2435">Here you can see the current, highest number, live daemon threads as well as the total number of application threads. Select
                  the thread you want to view from the 'Threads' window in the bottom-right of the application window. Garbage Collection is
                  available in the upper right of the application window (see <a href="smc_mon.html#jconsole_thread_gc">garbage collection</a>). 
               </td>
            </tr>
            <tr id="d12e2439">
               <td id="d12e2440">Classes</td>
               <td id="d12e2442">View the number of 'Loaded Classes' in chart form for the selected 'Time Range'.</td>
            </tr>
            <tr id="d12e2444">
               <td id="d12e2445">VM Summary</td>
               <td id="d12e2447">This tab displays the Uptime (total amount of time since the JVM was started), process CPU (total amount of CPU time), and
                  the time spent in JIT compilation.
               </td>
            </tr>
            <tr id="d12e2449">
               <td id="d12e2450">MBeans</td>
               <td id="d12e2452">Shows all registered MBeans. When you select an MBean in the tree, its attributes, operations, notifications and other information
                  is displayed on the right. Display a chart of an attribute's value versus time by double-clicking on the attribute value.
               </td>
            </tr>
         </tbody>
      </table>
      <div class="note" id="jconsole_thread_gc">
         <div class="adm-type">Note:</div>
         <p id="d12e2455">Garbage collection (GC) is the process of releasing memory used by objects no longer being referenced. It can have dramatic
            effects on performance. See Oracle JConsole documentation for more details.
         </p>
      </div>
      <h3 id="smc_mon_sample_mb">Intershop Commerce Management Sample MBeans</h3>
      <p id="d12e2465">Intershop Commerce Management already exposes a variety of resources through a set of pre-defined MBeans, making it possible
         to monitor important parts of the system using JMX management applications. With the current release, MBeans are included
         with the cartridges <span class="emphasis">core</span> and <span class="emphasis">monitor</span>. Mbeans provided by these cartridges are contained in the package <span class="emphasis">com.intershop.beehive.&lt;cartridge_name&gt;.capi.mbean</span>. See the JavaDocs installed by Intershop Commerce Management for these cartridges (in <span class="emphasis">&lt;IS.INSTANCE.SHARE&gt;/system/cartridges/&lt;cartridge_name&gt;/release/docs/api</span>) for details on the attributes and operations exposed by the MBeans. A summary is provided in the following table.
      </p>
      <table id="tab_32">
         <caption id="d12e2480">Table 16: Intershop Commerce Management sample MBeans</caption>
         <colgroup span="1">
            <col width="16%" span="1">
            <col width="36%" span="1">
            <col width="48%" span="1">
         </colgroup>
         <thead id="d12e2486">
            <tr id="d12e2487">
               <th id="d12e2488">Cartridge</th>
               <th id="d12e2490">MBean Interface</th>
               <th id="d12e2492">Description</th>
            </tr>
         </thead>
         <tbody id="d12e2494">
            <tr id="d12e2495">
               <td id="d12e2496">core</td>
               <td id="d12e2498">DatabaseDriverInformation MBean</td>
               <td id="d12e2500">Drivers (oracle.jdbc.driver.OracleDriver, com.ibm.db2j.jdbc.EmbeddedDriver) Pool size, connection count</td>
            </tr>
            <tr id="d12e2502">
               <td id="d12e2503">core</td>
               <td id="d12e2505">LoggingAdminMBean</td>
               <td id="d12e2507">Enabled log scopes. Operations to remove or add log scopes.</td>
            </tr>
            <tr id="d12e2509">
               <td id="d12e2510">core</td>
               <td id="d12e2512">OracleDataSourceInformation MBean</td>
               <td id="d12e2514">General data source informationOracle connection cache information</td>
            </tr>
            <tr id="d12e2516">
               <td id="d12e2517">core</td>
               <td id="d12e2519">ORMCacheInformationMBean</td>
               <td id="d12e2521">General information about the OR Mapping's persistent object cache</td>
            </tr>
            <tr id="d12e2523">
               <td id="d12e2524">core</td>
               <td id="d12e2526">ORMCacheInformationObject MBean</td>
               <td id="d12e2528">Information on individual persistent objects (e.g., number of instances in cache, default reference type, etc.)</td>
            </tr>
            <tr id="d12e2530">
               <td id="d12e2531">core</td>
               <td id="d12e2533">JobsMBean</td>
               <td id="d12e2535">Used to handle jobs.</td>
            </tr>
            <tr id="d12e2537">
               <td id="d12e2538">core</td>
               <td id="d12e2540">PipelinesMBean</td>
               <td id="d12e2542">Used to reload pipelines via JMX.</td>
            </tr>
            <tr id="d12e2544">
               <td id="d12e2545">monitor</td>
               <td id="d12e2547">ProcessInformationMBean</td>
               <td id="d12e2549">Process information (general process information, Web front service information, important environment variables), resource
                  usage (CPU usage, total process size, in-memory size, used system threads), JVM resource usage (total heap size, used heap
                  size), threads (thread group, name, thread name, priority, daemon, alive), system properties
               </td>
            </tr>
            <tr id="d12e2551">
               <td id="d12e2552">monitor</td>
               <td id="d12e2554">SessionRequestInformation MBean</td>
               <td id="d12e2556">Session persistence enabled, number of active sessions, average number of sessions per day, total number of requests, etc.</td>
            </tr>
         </tbody>
      </table>
      <div class="note" id="d12e2558">
         <div class="adm-type">Note:</div>
         <p id="d12e2559">For detailed information on the resources that are instrumented by the MBeans, you need to inspect the MBeans using a JMX
            management application such as <span class="emphasis">MX4j HTTP Adaptor</span> or <span class="emphasis">MBeansInspector</span>.
         </p>
      </div>
   </body>
</html>