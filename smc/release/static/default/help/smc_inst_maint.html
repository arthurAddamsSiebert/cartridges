<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>Installation Maintenance</title>
      <link rel="stylesheet" type="text/css" href="static/css/styles.css">
   </head>
   <body>
      <h1 id="smc_inst_maint">Installation Maintenance</h1>
      <div class="section-toc">
         <ul>
            <li><a href="#smc_inst_maint_navi">Accessing and Navigating the Installation Maintenance Module</a></li>
            <li><a href="#smc_inst_maint_report">Generating Cluster Information Reports</a></li>
            <li><a href="#smc_inst_maint_dump">Generating Java Dumps</a></li>
            <li><a href="#smc_inst_maint_files">Managing Information Files</a></li>
            <ul>
               <li><a href="#smc_inst_maint_files_dl">Viewing and Downloading Files</a></li>
               <li><a href="#smc_inst_maint_files_mail">E-Mailing Files</a></li>
            </ul>
         </ul>
      </div>
      <p id="d12e2575">Using the System Management Installation Maintenance module, the system administrator can collect vital information about
         the Intershop Commerce Management system and transfer it to Intershop Support.
      </p>
      <h2 id="smc_inst_maint_navi">Accessing and Navigating the Installation Maintenance Module</h2>
      <p id="d12e2587">To enter the Installation Maintenance module, select Installation Maintenance from the System Management navigation bar. This
         opens the overview page, which lists the available tasks and allows for accessing the corresponding managers.
      </p>
      <div class="figure" id="d12e2589">
         <div class="figure_caption" id="d12e2590">Figure 25: Installation Maintenance overview</div><img src="smc_images/scr_smc_maintOv.png" alt="Installation Maintenance overview"></div>
      <p id="d12e2595">The following managers are available:</p>
      <ul class="square" id="d12e2597">
         <li id="d12e2598">
            <p id="d12e2599">Cluster Information</p>
            <p id="d12e2601">Allows for compiling basic system information upon server start or at runtime ("snapshots").</p>
         </li>
         <li id="d12e2603">
            <p id="d12e2604">Dump Generation</p>
            <p id="d12e2606">Allows for creating thread dumps and heap dumps.</p>
         </li>
         <li id="d12e2608">
            <p id="d12e2609">Information Files</p>
            <p id="d12e2611">Allows for managing the generated information files and sending them to Intershop Support.</p>
         </li>
      </ul>
      <h2 id="smc_inst_maint_report">Generating Cluster Information Reports</h2>
      <p id="d12e2626">Using the Cluster Information manager, system administrators can compile basic system information reports for selected servers.
         The report generation can be configured to be executed upon server start, or can be manually triggered at any time when the
         application is running ("snapshots"). The following tables list the corresponding information that is available for each report
         type.
      </p>
      <table id="d12e2628">
         <caption id="d12e2629">Table 17: Startup information</caption>
         <colgroup span="1">
            <col width="40%" span="1">
            <col width="60%" span="1">
         </colgroup>
         <thead id="d12e2634">
            <tr id="d12e2635">
               <th id="d12e2636">Information Type</th>
               <th id="d12e2638">Description</th>
            </tr>
         </thead>
         <tbody id="d12e2640">
            <tr id="d12e2641">
               <td id="d12e2642">Application Server Information</td>
               <td id="d12e2644">Application server name, IP, port and existing server groups</td>
            </tr>
            <tr id="d12e2646">
               <td id="d12e2647">Application Software Information</td>
               <td id="d12e2649">Intershop Commerce Management version number and product ID</td>
            </tr>
            <tr id="d12e2651">
               <td id="d12e2652">Operating System</td>
               <td id="d12e2654">Operating system name and version</td>
            </tr>
            <tr id="d12e2656">
               <td id="d12e2657">Java</td>
               <td id="d12e2659">Java environment version</td>
            </tr>
            <tr id="d12e2661">
               <td id="d12e2662">Loaded Cartridges</td>
               <td id="d12e2664">Name, path and version of the loaded cartridges</td>
            </tr>
            <tr id="d12e2666">
               <td id="d12e2667">Database</td>
               <td id="d12e2669">Basic database information like server name, port and user.</td>
            </tr>
            <tr id="d12e2671">
               <td id="d12e2672">JDBC Driver</td>
               <td id="d12e2674">Loaded JDBC driver version</td>
            </tr>
            <tr id="d12e2676">
               <td id="d12e2677">License Key</td>
               <td id="d12e2679">License key information</td>
            </tr>
         </tbody>
      </table>
      <table id="d12e2681">
         <caption id="d12e2682">Table 18: Snapshot information</caption>
         <colgroup span="1">
            <col width="40%" span="1">
            <col width="60%" span="1">
         </colgroup>
         <thead id="d12e2687">
            <tr id="d12e2688">
               <th id="d12e2689">Information Type</th>
               <th id="d12e2691">Description</th>
            </tr>
         </thead>
         <tbody id="d12e2693">
            <tr id="d12e2694">
               <td id="d12e2695">Application Server Process</td>
               <td id="d12e2697">Basic values like RAM usage, CPU usage, disc space</td>
            </tr>
            <tr id="d12e2699">
               <td id="d12e2700">ORM Cache</td>
               <td id="d12e2702">Detailed information about loaded persistent objects</td>
            </tr>
            <tr id="d12e2704">
               <td id="d12e2705">JVM Resources</td>
               <td id="d12e2707">JVM heap usage information</td>
            </tr>
            <tr id="d12e2709">
               <td id="d12e2710">Threads</td>
               <td id="d12e2712">Detailed information about active threads</td>
            </tr>
            <tr id="d12e2714">
               <td id="d12e2715">Properties</td>
               <td id="d12e2717">All used properties with current values</td>
            </tr>
            <tr id="d12e2719">
               <td id="d12e2720">Loaded Pipelets</td>
               <td id="d12e2722">Loaded pipelets with package structure (Be aware that this operation might need considerable resources and time to process.)</td>
            </tr>
            <tr id="d12e2724">
               <td id="d12e2725">Locking Conflicts</td>
               <td id="d12e2727">Processes that tried to lock the same resource in parallel</td>
            </tr>
         </tbody>
      </table>
      <p id="d12e2729">To generate a cluster information report:</p>
      <ol id="d12e2731">
         <li id="d12e2732">
            <p id="d12e2733">In the System Management navigation bar, open Installation Maintenance|Cluster Information.</p>
            <p id="d12e2735">The Cluster Information detail page is displayed.</p>
         </li>
         <li id="d12e2737">
            <p id="d12e2738">Open either the Startup tab or the Snapshot tab.</p>
            <p id="d12e2740">Reports configured on the Startup tab will be generated upon server start, whereas reports configured on the Snapshot tab
               are intended to be generated manually.
            </p>
         </li>
         <li id="d12e2742">
            <p id="d12e2743">In the Application Server section, select the intended application server(s).</p>
            <p id="d12e2745">Mark the corresponding checkbox(es), then click Apply.</p>
         </li>
         <li id="d12e2747">
            <p id="d12e2748">In the Information section, select the required information type(s).</p>
            <p id="d12e2750">Mark the corresponding checkbox(es), then click Apply. For details about the available information types, see the tables above.</p>
         </li>
         <li id="d12e2752">
            <p id="d12e2753">For snapshot reports, click Create Snapshot.</p>
            <p id="d12e2755">The snapshot report is generated immediately. Configured startup reports are generated upon the next server start.</p>
         </li>
      </ol>
      <div class="note" id="d12e2757">
         <div class="adm-type">Note:</div>
         <p id="d12e2758">Some cluster information options (ORM Cache, Loaded Pipelets, Locking Conflicts) may be time and ressource consuming and may
            impact the system performance. They should be enabled only if the information is crucial to the system maintenance.
         </p>
      </div>
      <p id="d12e2760">The generated report information files are available in the Information Files manager. For further details, see <a href="smc_inst_maint.html#smc_inst_maint_files">Managing Information Files</a>.
      </p>
      <h2 id="smc_inst_maint_dump">Generating Java Dumps</h2>
      <p id="d12e2777">Using the Dump Generation manager, system administrators can create memory dumps for selected servers, namely thread dumps
         and heap dumps. The next table lists the information that is available for each dump type.
      </p>
      <table id="d12e2779">
         <caption id="d12e2780">Table 19: Dump information</caption>
         <colgroup span="1">
            <col width="30%" span="1">
            <col width="20%" span="1">
            <col width="50%" span="1">
         </colgroup>
         <thead id="d12e2786">
            <tr id="d12e2787">
               <th id="d12e2788">Information Type</th>
               <th id="d12e2790">Dump Type</th>
               <th id="d12e2792">Description</th>
            </tr>
         </thead>
         <tbody id="d12e2794">
            <tr id="d12e2795">
               <td id="d12e2796">Locked Monitors</td>
               <td id="d12e2798">Thread dump</td>
               <td id="d12e2800">Includes information about locked monitors</td>
            </tr>
            <tr id="d12e2802">
               <td id="d12e2803">Locked Synchronizers</td>
               <td id="d12e2805">Thread dump</td>
               <td id="d12e2807">Includes information about locked synchronizers</td>
            </tr>
            <tr id="d12e2809">
               <td id="d12e2810">Live Objects</td>
               <td id="d12e2812">Heap dump</td>
               <td id="d12e2814">Includes information about live objects, i.e., objects that are accessible by other objects</td>
            </tr>
         </tbody>
      </table>
      <p id="d12e2816">To generate a memory dump:</p>
      <ol id="d12e2818">
         <li id="d12e2819">
            <p id="d12e2820">In the System Management navigation bar, open Installation Maintenance|Dump Generation.</p>
            <p id="d12e2822">The Dump Generation detail page is displayed.</p>
         </li>
         <li id="d12e2824">
            <p id="d12e2825">Open either the thread dump tab or the heap dump tab.</p>
         </li>
         <li id="d12e2827">
            <p id="d12e2828">In the Application Server section, select the intended application server(s).</p>
            <p id="d12e2830">Mark the corresponding checkbox(es), then click Apply.</p>
         </li>
         <li id="d12e2832">
            <p id="d12e2833">In the Information section, select the required information type(s).</p>
            <p id="d12e2835">Mark the corresponding checkbox(es), then click Apply. For details about the available information types, see the table above.</p>
         </li>
         <li id="d12e2837">
            <p id="d12e2838">Click Create thread dump or, respectively, Create heap dump.</p>
            <p id="d12e2840">The corresponding memory dump is generated immediately.</p>
         </li>
      </ol>
      <div class="note" id="d12e2842">
         <div class="adm-type">Note:</div>
         <p id="d12e2843">Depending on the JVM size, generating a heap dump will hold the system for some time and requires an according amount of free
            disc space. Intershop recommends to create heap dumps sequentially if several application servers are involved.
         </p>
      </div>
      <p id="d12e2845">The dump files are created in a VisualVM-compatible format, which allows for a convenient visual representation of the dump
         data. The generated files are available in the Information Files manager. For further details, see <a href="smc_inst_maint.html#smc_inst_maint_files">Managing Information Files</a>.
      </p>
      <h2 id="smc_inst_maint_files">Managing Information Files</h2>
      <p id="d12e2862">Using the Information Files manager, system administrators can view and download the generated report and dump files, as well
         as e-mail them to Intershop Support.
      </p>
      <div class="note" id="d12e2864">
         <div class="adm-type">Note:</div>
         <p id="d12e2865">Sending information files via e-mail requires a properly configured server for outgoing mail (<span class="code">intershop.SMTPServer</span> in appserver.properties).
         </p>
      </div>
      <div class="figure" id="d12e2870">
         <div class="figure_caption" id="d12e2871">Figure 26: Information Files manager</div><img src="smc_images/scr_smc_maintInfoFiles.png" alt="Information Files manager"></div>
      <h3 id="smc_inst_maint_files_dl">Viewing and Downloading Files</h3>
      <p id="d12e2889">To view or download generated report or dump files:</p>
      <ol id="d12e2891">
         <li id="d12e2892">
            <p id="d12e2893">In the System Management navigation bar, open Installation Maintenance|Information Files.</p>
            <p id="d12e2895">This opens the Information Files detail page, displaying a list of generated files.</p>
         </li>
         <li id="d12e2897">
            <p id="d12e2898">In the row of the intended file, click View or, respectively, Download.</p>
            <p id="d12e2900">The file is displayed in the System Management window, or, respectively, the browser's download dialog is opened, prompting
               you to save the file.
            </p>
         </li>
      </ol>
      <h3 id="smc_inst_maint_files_mail">E-Mailing Files</h3>
      <p id="d12e2915">To e-mail generated report or dump files:</p>
      <ol id="d12e2917">
         <li id="d12e2918">
            <p id="d12e2919">In the System Management navigation bar, open Installation Maintenance|Information Files.</p>
            <p id="d12e2921">This opens the Information Files detail page, displaying a list of generated files.</p>
         </li>
         <li id="d12e2923">
            <p id="d12e2924">Select the file(s) to be e-mailed.</p>
            <p id="d12e2926">Mark the corresponding checkbox(es).</p>
            <div class="note" id="d12e2928">
               <div class="adm-type">Note:</div>
               <p id="d12e2929">Larger files cannot be sent by e-mail and therefore cannot be selected. The corresponding limit is controlled by the property
                  <span class="code">intershop.mail.attachment.maxsize</span> in cluster_information.properties.
               </p>
            </div>
         </li>
         <li id="d12e2934">
            <p id="d12e2935">Click Send.</p>
            <p id="d12e2937">This opens the e-mail dialog as illustrated in the figure below.</p>
            <div class="figure" id="d12e2939">
               <div class="figure_caption" id="d12e2940">Figure 27: E-mailing an information file</div><img src="smc_images/scr_smc_maintInfoMail.png" alt="E-mailing an information file"></div>
         </li>
         <li id="d12e2945">
            <p id="d12e2946">Specify the intended e-mail recipient(s).</p>
            <p id="d12e2948">Select either a preconfigured recipient, i.e., the team EMEA or the team US of Intershop Support, or specify a particular
               recipient. Furthermore, you can specify additional recipients using the CC and BCC fields.
            </p>
         </li>
         <li id="d12e2950">
            <p id="d12e2951">In the Message section, specify an e-mail subject and edit the message text as necessary.</p>
            <p id="d12e2953">If you refer to an existing support case, use the corresponding case ID as subject.</p>
            <div class="note" id="d12e2955">
               <div class="adm-type">Note:</div>
               <p id="d12e2956">You can remove an attached file from the e-mail through clicking Remove next to the intended file.</p>
            </div>
         </li>
         <li id="d12e2958">
            <p id="d12e2959">Click Send E-Mail.</p>
            <p id="d12e2961">The e-mail including the attached information file(s) is sent to the specified recipient(s).</p>
         </li>
      </ol>
   </body>
</html>