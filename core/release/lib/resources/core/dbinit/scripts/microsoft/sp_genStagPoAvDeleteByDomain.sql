-------------------------------------------------------------------------------------------- Name        : sp_genStagPoAvDeleteByDomain-- History     : user             date       - desc--             : ...-- Created     : Surender Singh---- Description : This procedure deletes all rows for given domainid for both--               the PO base table and the related AV table and includes staging handling.-- Input       : baseTable          the base PO table--               avTable            the extensible object AV table related to base PO table--               domainID           the domainID value--               domainColumnName   the base PO table domainid column name---- Output      : none-- Example     : EXEC sp_genStagPoAvDeleteByDomain 'ImageReference',null, 'PrMKgzxpzCQAAAFdZ4UdBFA8', 'domainid';------------------------------------------------------------------------------------------CREATE OR ALTER PROCEDURE [dbo].[sp_genStagPoAvDeleteByDomain](    @baseTable           VARCHAR(256),    @avTable             VARCHAR(256),    @domainID            NVARCHAR(30),    @domainColumnName    VARCHAR(256))ASBEGIN    IF dbo.sf_is_staging_table(@baseTable)=1 		BEGIN			-- try to clean up staging tables ($1 resp. $2 tables)			EXEC sp_genericPoAvDeleteByDomain @baseTable, @avTable, '$1', @domainID, @domainColumnName;			EXEC sp_genericPoAvDeleteByDomain @baseTable, @avTable, '$2', @domainID, @domainColumnName;		END    ELSE		BEGIN			-- staging tables do not exist -> try to DELETE FROM original table			EXEC sp_genericPoAvDeleteByDomain @baseTable, @avTable, null, @domainID, @domainColumnName;		END ;END 