<?xml version="1.0" encoding="UTF-8"?>
<!--This pipeline processes a set of products in a batch process.
@Group Job-->

<pipeline:Pipeline xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:pipeline="http://www.intershop.de/pipeline/2010"
    name="BatchProcessProducts_32" type="process">
<!--Create multiple product catalog category assignments. If error occurs all the modifications are rollbacked otherwise committed.
@Location 35,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode5" name="AssignProductCategoryLinks"
      callMode="Private">
<!--@BendPoints 71,2-->
    <nodeSuccessors name="next" next="CallNode46"/>
  </nodes>
<!--@Location 35,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode46">
<!--@BendPoints 71,4-->
    <nodeSuccessors name="next" next="EndNode6"/>
<!--@BendPoints 73,4-->
    <nodeSuccessors name="Error" next="End9"/>
    <startNode referencedName="BatchProcessProducts-AssignProductCategoryLinks"/>
  </nodes>
<!--@Location 35,2-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode6"/>
<!--@Location 36,2-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End9" name="Error"/>
<!--@Location 33,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode8" name="AssignProductProductLinks"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode48"/>
  </nodes>
<!--@Location 33,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode48">
    <nodeSuccessors name="next" next="EndNode9"/>
    <startNode referencedName="BatchProcessProducts-AssignProductProductLinks"/>
  </nodes>
<!--@Location 33,2-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode9"/>
<!--@Location 6,5-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start4" name="AssignProductsToCategory"
      callMode="Private">
    <nodeSuccessors name="next" next="Pipelet8"/>
  </nodes>
<!--@Location 6,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet8">
    <configurationValues name="Name" value="ProcessName"/>
    <configurationValues name="Value" value="BatchProcess"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="Pipelet2"/>
  </nodes>
<!--@Location 6,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet2">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="GetProductType1"/>
    <parameterBindings name="InValue_1" objectPath="JobConfiguration:Domain"/>
    <returnValueBindings name="OutValue_1" objectPath="PreferenceDomain"/>
  </nodes>
<!--@Location 6,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetProductType1">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetProductType.xml"/>
    <nodeSuccessors name="next" next="CallNode4"/>
    <nodeSuccessors name="pipelet_error" next="CallNode4"/>
    <parameterBindings name="ProductTypeDomainName" objectPath="CatalogCategory:Domain:DomainName"/>
    <parameterBindings name="ProductTypeName" objectPath="CatalogCategory:Name"/>
    <parameterBindings name="ProductTypeUUID" nullBinding="true"/>
  </nodes>
<!--@Location 6,9-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode4">
    <nodeSuccessors name="next" next="CallNode49" action="begin"/>
    <startNode referencedName="ProcessProductHistory-PrepareData"/>
  </nodes>
<!--@Location 6,10-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode49">
    <nodeSuccessors name="false" next="JoinNode0"/>
    <nodeSuccessors name="true" next="JoinNode0"/>
    <parameterBindings name="CategoryUUID" objectPath="CatalogCategoryID"/>
    <parameterBindings name="Domain" objectPath="JobConfiguration:Domain"/>
    <startNode referencedName="ProcessServiceTypeCatalog-IsServiceTypeCategory"/>
  </nodes>
<!--@Location 6,11-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode0">
    <nodeSuccessors name="next" next="Loop2"/>
  </nodes>
<!--@Location 6,12-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="Loop2" loop="Objects">
    <nodeSuccessors name="next" next="End5" action="commit"/>
    <entry key="Product">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode8"/>
    </entry>
  </nodes>
<!--@Location 6,13-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode8" conditionKey="Product:Extension(&quot;PersistentObjectBOExtension&quot;)">
<!--@BendPoints 15,27-->
    <nodeSuccessors name="decision_yes" next="KeyMapper11"/>
    <nodeSuccessors name="decision_no" next="JoinNode18"/>
  </nodes>
<!--@Location 7,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper11">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="JoinNode18"/>
    <parameterBindings name="InValue_1" objectPath="Product:Extension(&quot;PersistentObjectBOExtension&quot;):PersistentObject"/>
    <returnValueBindings name="OutValue_1" objectPath="Product"/>
  </nodes>
<!--@Location 6,14-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode18">
    <nodeSuccessors name="next" next="DecisionNode0"/>
  </nodes>
<!--@Location 6,15-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode0" conditionKey="IsServiceTypeCategory"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="DecisionNode4"/>
<!--@BendPoints 14,31 14,35-->
    <nodeSuccessors name="decision_no" next="CallNode18"/>
  </nodes>
<!--@Location 6,16-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode4" conditionKey="Product:DerivedProduct"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="JoinNode14"/>
    <nodeSuccessors name="decision_no" next="CallNode18"/>
  </nodes>
<!--@Location 5,16-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode14">
    <nodeSuccessors name="next" next="CallNode15"/>
  </nodes>
<!--@Location 5,12-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode15">
    <nodeSuccessors name="next" next="Loop2_Entry"/>
    <startNode referencedName="BatchProcessLog-LogResult"/>
  </nodes>
<!--@Location 6,17-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode18">
    <nodeSuccessors name="next" next="CallNode5"/>
    <nodeSuccessors name="LOCKED" next="Pipelet26"/>
    <startNode referencedName="ProcessProductLock_32-CheckUnlocked"/>
  </nodes>
<!--@Location 6,18-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode5">
    <nodeSuccessors name="next" next="DecisionNode15"/>
    <startNode referencedName="ProcessProductHistory-CreateChangeEntry"/>
  </nodes>
<!--@Location 6,19-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode15" conditionKey="ProductType">
    <nodeSuccessors name="decision_yes" next="CallNode60"/>
<!--@BendPoints 17,39 17,55-->
    <nodeSuccessors name="decision_no" next="JoinNode25"/>
  </nodes>
<!--@Location 6,20-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode60">
    <nodeSuccessors name="NO" next="CallNode51"/>
<!--@BendPoints 15,42-->
    <nodeSuccessors name="YES" next="DecisionNode6"/>
    <parameterBindings name="Attributes" objectPath="ProductType:CustomProductAttributes"/>
    <parameterBindings name="ExtensibleObject" objectPath="Product"/>
    <startNode referencedName="ProcessProductCustomAttributes-IfAttributesAreAssignable"/>
  </nodes>
<!--@Location 6,21-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode51">
    <nodeSuccessors name="next" next="CreateLogEntry4"/>
    <parameterBindings name="Attributes" objectPath="ExistingAttributesWithDifferentTypes"/>
    <startNode referencedName="ProcessProductCustomAttributes-ConcatenateAttributes"/>
    <returnValueBindings name="ConcatenatedAttributes" objectPath="AttributesWithDifferentTypes"/>
  </nodes>
<!--@Location 6,22-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateLogEntry4">
    <configurationValues name="LogLevel" value="Error"/>
    <configurationValues name="MessageKey" value="bc_mvc.batch.ProductNotAssignedToClassificationCategory"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CreateLogEntry.xml"/>
    <nodeSuccessors name="next" next="RemoveDictionaryValue8"/>
    <parameterBindings name="Object0" objectPath="Product:Name"/>
    <parameterBindings name="Object1" objectPath="AttributesWithDifferentTypes"/>
  </nodes>
<!--@Location 6,23-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveDictionaryValue8">
    <configurationValues name="Key" value="ExistingAttributesWithDifferentTypes"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/RemoveDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="RemoveDictionaryValue9"/>
  </nodes>
<!--@Location 6,24-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveDictionaryValue9">
    <configurationValues name="Key" value="AttributesWithDifferentTypes"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/RemoveDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode27"/>
  </nodes>
<!--@Location 5,24-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode27">
    <nodeSuccessors name="next" next="JoinNode3"/>
  </nodes>
<!--@Location 5,19-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode3">
<!--@BendPoints 10,39 10,33-->
    <nodeSuccessors name="next" next="JoinNode14"/>
  </nodes>
<!--@Location 7,21-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode6" conditionKey="ExistingAttributesWithTheSameType"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="CallNode59"/>
    <nodeSuccessors name="decision_no" next="RemoveDictionaryValue5"/>
  </nodes>
<!--@Location 7,22-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode59">
    <nodeSuccessors name="next" next="CreateLogEntry3"/>
    <parameterBindings name="Attributes" objectPath="ExistingAttributesWithTheSameType"/>
    <startNode referencedName="ProcessProductCustomAttributes-ConcatenateAttributes"/>
    <returnValueBindings name="ConcatenatedAttributes" objectPath="AttributesWithTheSameType"/>
  </nodes>
<!--@Location 7,23-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateLogEntry3">
    <configurationValues name="LogLevel" value="Warn"/>
    <configurationValues name="MessageKey" value="bc_mvc.batch.ProductAttributesWithDifferentDataType"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CreateLogEntry.xml"/>
    <nodeSuccessors name="next" next="RemoveDictionaryValue10"/>
    <parameterBindings name="Object0" objectPath="Product:Name"/>
    <parameterBindings name="Object1" objectPath="AttributesWithTheSameType"/>
  </nodes>
<!--@Location 7,24-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveDictionaryValue10">
    <configurationValues name="Key" value="AttributesWithTheSameType"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/RemoveDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="RemoveDictionaryValue5"/>
  </nodes>
<!--@Location 7,25-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveDictionaryValue5">
    <configurationValues name="Key" value="ExistingAttributesWithTheSameType"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/RemoveDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="CallNode41"/>
  </nodes>
<!--@Location 7,26-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode41">
    <nodeSuccessors name="next" next="JoinNode25"/>
    <parameterBindings name="ExtensibleObject" objectPath="Product"/>
    <parameterBindings name="Locale" objectPath="CurrentSession:Locale"/>
    <parameterBindings name="ProductAttributes" objectPath="ProductType:CustomProductAttributes"/>
    <startNode referencedName="ProcessProductCustomAttributes-AddAttributes"/>
  </nodes>
<!--@Location 7,27-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode25">
    <nodeSuccessors name="next" next="AssignProductToCatalogCategory2"/>
  </nodes>
<!--@Location 7,28-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AssignProductToCatalogCategory2">
    <pipelet href="enfinity:/bc_mvc/pipelets/AssignProductToCatalogCategory.xml"/>
    <nodeSuccessors name="next" next="CallNode21" action="savepoint"/>
    <parameterBindings name="Domain" objectPath="Product:Domain"/>
  </nodes>
<!--@Location 7,29-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode21">
    <nodeSuccessors name="next" next="RemoveDictionaryValue11"/>
    <startNode referencedName="ProcessProductHistory-UpdateChangeEntry"/>
  </nodes>
<!--@Location 7,30-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveDictionaryValue11">
    <configurationValues name="Key" value="Result"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/RemoveDictionaryValue.xml"/>
<!--@BendPoints 11,61-->
    <nodeSuccessors name="next" next="JoinNode27"/>
  </nodes>
<!--@Location 5,18-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet26">
    <configurationValues name="Name" value="Result"/>
    <configurationValues name="Value" value="Locked"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode3"/>
  </nodes>
<!--@Location 7,12-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End5"/>
<!--@Location 19,5-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start11" name="AssignProductsToChannel"
      callMode="Private">
    <nodeSuccessors name="next" next="KeyMapper9"/>
  </nodes>
<!--@Location 19,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper9">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="Call3"/>
    <parameterBindings name="InValue_1" objectPath="Objects"/>
    <returnValueBindings name="OutValue_1" objectPath="Products"/>
  </nodes>
<!--@Location 19,7-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call3">
    <nodeSuccessors name="next" next="End13"/>
    <startNode referencedName="ProcessSyndication-Assign"/>
  </nodes>
<!--@Location 19,8-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End13"/>
<!--@Location 31,9-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start14" name="AssignProductsToClassificationCategory"
      callMode="Private">
    <nodeSuccessors name="next" next="GetProductType3"/>
  </nodes>
<!--@Location 31,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetProductType3">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetProductType.xml"/>
    <nodeSuccessors name="next" next="JoinNode28"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode28"/>
    <parameterBindings name="ProductTypeDomainName" objectPath="CatalogCategory:Domain:DomainName"/>
    <parameterBindings name="ProductTypeName" objectPath="CatalogCategory:Name"/>
    <parameterBindings name="ProductTypeUUID" nullBinding="true"/>
  </nodes>
<!--@Location 31,11-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode28">
    <nodeSuccessors name="next" next="Pipelet4"/>
  </nodes>
<!--@Location 31,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet4">
    <configurationValues name="Name" value="ProcessName"/>
    <configurationValues name="Value" value="BatchProcess"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="Loop4" action="begin"/>
  </nodes>
<!--@Location 31,13-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="Loop4" loop="Objects">
<!--@BendPoints 64,27-->
    <nodeSuccessors name="next" next="EndNode12" action="commit"/>
    <entry key="Product">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode12"/>
    </entry>
  </nodes>
<!--@Location 31,14-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode12" conditionKey="Product:Extension(&quot;PersistentObjectBOExtension&quot;)">
<!--@BendPoints 65,29-->
    <nodeSuccessors name="decision_yes" next="KeyMapper15"/>
    <nodeSuccessors name="decision_no" next="JoinNode22"/>
  </nodes>
<!--@Location 32,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper15">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="JoinNode22"/>
    <parameterBindings name="InValue_1" objectPath="Product:Extension(&quot;PersistentObjectBOExtension&quot;):PersistentObject"/>
    <returnValueBindings name="OutValue_1" objectPath="Product"/>
  </nodes>
<!--@Location 31,15-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode22">
    <nodeSuccessors name="next" next="CallNode45"/>
  </nodes>
<!--@Location 31,16-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode45">
    <nodeSuccessors name="next" next="DecisionNode7"/>
<!--@BendPoints 61,34-->
    <nodeSuccessors name="LOCKED" next="SetDictionaryValue9"/>
    <startNode referencedName="ProcessProductLock_32-CheckUnlocked"/>
  </nodes>
<!--@Location 31,17-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode7" conditionKey="Catalog:TypeCode"
      operator="eq" conditionValue="2">
    <nodeSuccessors name="decision_yes" next="CallNode6"/>
<!--@BendPoints 66,35-->
    <nodeSuccessors name="decision_no" next="SetDictionaryValue10"/>
  </nodes>
<!--@Location 31,18-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode6">
    <nodeSuccessors name="next" next="DecisionNode16"/>
    <startNode referencedName="ProcessProductHistory-CreateChangeEntry"/>
  </nodes>
<!--@Location 31,19-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode16" conditionKey="ProductType">
    <nodeSuccessors name="decision_yes" next="CallNode58"/>
<!--@BendPoints 66,39 66,54-->
    <nodeSuccessors name="decision_no" next="AssignProductToCatalogCategory0"/>
  </nodes>
<!--@Location 31,20-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode58">
    <nodeSuccessors name="NO" next="CallNode56"/>
<!--@BendPoints 65,42-->
    <nodeSuccessors name="YES" next="DecisionNode14"/>
    <parameterBindings name="Attributes" objectPath="ProductType:CustomProductAttributes"/>
    <parameterBindings name="ExtensibleObject" objectPath="Product"/>
    <startNode referencedName="ProcessProductCustomAttributes-IfAttributesAreAssignable"/>
  </nodes>
<!--@Location 31,21-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode56">
    <nodeSuccessors name="next" next="CreateLogEntry0"/>
    <parameterBindings name="Attributes" objectPath="ExistingAttributesWithDifferentTypes"/>
    <startNode referencedName="ProcessProductCustomAttributes-ConcatenateAttributes"/>
    <returnValueBindings name="ConcatenatedAttributes" objectPath="AttributesWithDifferentTypes"/>
  </nodes>
<!--@Location 31,22-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateLogEntry0">
    <configurationValues name="LogLevel" value="Error"/>
    <configurationValues name="MessageKey" value="bc_mvc.batch.ProductNotAssignedToClassificationCategory"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CreateLogEntry.xml"/>
    <nodeSuccessors name="next" next="RemoveDictionaryValue4"/>
    <parameterBindings name="Object0" objectPath="Product:Name"/>
    <parameterBindings name="Object1" objectPath="AttributesWithDifferentTypes"/>
  </nodes>
<!--@Location 31,23-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveDictionaryValue4">
    <configurationValues name="Key" value="ExistingAttributesWithDifferentTypes"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/RemoveDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="RemoveDictionaryValue7"/>
  </nodes>
<!--@Location 31,24-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveDictionaryValue7">
    <configurationValues name="Key" value="AttributesWithDifferentTypes"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/RemoveDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode26"/>
  </nodes>
<!--@Location 31,25-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode26">
    <nodeSuccessors name="next" next="JoinNode24"/>
  </nodes>
<!--@Location 30,25-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode24">
<!--@BendPoints 60,51 60,37 60,27-->
    <nodeSuccessors name="next" next="CallNode37"/>
  </nodes>
<!--@Location 30,13-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode37">
<!--@BendPoints 62,27-->
    <nodeSuccessors name="next" next="Loop4_Entry"/>
    <startNode referencedName="BatchProcessLog-LogResult"/>
  </nodes>
<!--@Location 32,21-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode14" conditionKey="ExistingAttributesWithTheSameType"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="CallNode57"/>
    <nodeSuccessors name="decision_no" next="RemoveDictionaryValue6"/>
  </nodes>
<!--@Location 32,22-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode57">
    <nodeSuccessors name="next" next="CreateLogEntry2"/>
    <parameterBindings name="Attributes" objectPath="ExistingAttributesWithTheSameType"/>
    <startNode referencedName="ProcessProductCustomAttributes-ConcatenateAttributes"/>
    <returnValueBindings name="ConcatenatedAttributes" objectPath="AttributesWithTheSameType"/>
  </nodes>
<!--@Location 32,23-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateLogEntry2">
    <configurationValues name="LogLevel" value="Warn"/>
    <configurationValues name="MessageKey" value="bc_mvc.batch.ProductAttributesWithDifferentDataType"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CreateLogEntry.xml"/>
    <nodeSuccessors name="next" next="RemoveDictionaryValue3"/>
    <parameterBindings name="Object0" objectPath="Product:Name"/>
    <parameterBindings name="Object1" objectPath="AttributesWithTheSameType"/>
  </nodes>
<!--@Location 32,24-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveDictionaryValue3">
    <configurationValues name="Key" value="AttributesWithTheSameType"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/RemoveDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="RemoveDictionaryValue6"/>
  </nodes>
<!--@Location 32,25-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveDictionaryValue6">
    <configurationValues name="Key" value="ExistingAttributesWithTheSameType"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/RemoveDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="CallNode54"/>
  </nodes>
<!--@Location 32,26-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode54">
    <nodeSuccessors name="next" next="AssignProductToCatalogCategory0"/>
    <parameterBindings name="ExtensibleObject" objectPath="Product"/>
    <parameterBindings name="Locale" objectPath="CurrentSession:Locale"/>
    <parameterBindings name="ProductAttributes" objectPath="ProductType:CustomProductAttributes"/>
    <startNode referencedName="ProcessProductCustomAttributes-AddAttributes"/>
  </nodes>
<!--@Location 32,27-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AssignProductToCatalogCategory0">
    <pipelet href="enfinity:/bc_mvc/pipelets/AssignProductToCatalogCategory.xml"/>
    <nodeSuccessors name="next" next="DecisionNode13"/>
    <parameterBindings name="Domain" objectPath="Product:Domain"/>
  </nodes>
<!--@Location 32,28-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode13" conditionKey="Repository:Id"
      operator="str_eq" conditionValue="MasterRepository">
    <nodeSuccessors name="decision_yes" next="Touch0"/>
<!--@BendPoints 66,57 66,61-->
    <nodeSuccessors name="decision_no" next="JoinNode30"/>
  </nodes>
<!--@Location 32,29-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Touch0">
    <pipelet href="enfinity:/bc_foundation/pipelets/Touch.xml"/>
    <nodeSuccessors name="next" next="JoinNode30"/>
    <parameterBindings name="Object" objectPath="Product"/>
    <parameterBindings name="Objects" nullBinding="true"/>
  </nodes>
<!--@Location 32,30-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode30">
    <nodeSuccessors name="next" next="CallNode53" action="savepoint"/>
  </nodes>
<!--@Location 32,31-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode53">
    <nodeSuccessors name="next" next="RemoveDictionaryValue0"/>
    <startNode referencedName="ProcessProductHistory-UpdateChangeEntry"/>
  </nodes>
<!--@Location 32,32-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveDictionaryValue0">
    <configurationValues name="Key" value="Result"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/RemoveDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode29"/>
  </nodes>
<!--@Location 32,33-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode29">
<!--@BendPoints 63,67-->
    <nodeSuccessors name="next" next="JoinNode26"/>
  </nodes>
<!--@Location 33,17-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue10">
    <configurationValues name="Name" value="Result"/>
    <configurationValues name="Value" value="Error"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
<!--@BendPoints 67,67-->
    <nodeSuccessors name="next" next="JoinNode29"/>
  </nodes>
<!--@Location 30,17-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue9">
    <configurationValues name="Name" value="Result"/>
    <configurationValues name="Value" value="Locked"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode24"/>
  </nodes>
<!--@Location 32,13-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode12"/>
<!--@Location 21,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode1" name="CreateVariationsFromProducts"
      callMode="Private">
    <nodeSuccessors name="next" next="Pipelet17"/>
  </nodes>
<!--@Location 21,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet17">
    <configurationValues name="Name" value="ProcessName"/>
    <configurationValues name="Value" value="BatchProcess"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="Pipelet18"/>
  </nodes>
<!--@Location 21,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet18">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="CallNode22"/>
    <parameterBindings name="InValue_1" objectPath="JobConfiguration:Domain"/>
    <parameterBindings name="InValue_2" objectPath="Repository:RepositoryDomain"/>
    <returnValueBindings name="OutValue_1" objectPath="PreferenceDomain"/>
    <returnValueBindings name="OutValue_2" objectPath="ProductDomain"/>
  </nodes>
<!--@Location 21,3-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode22">
    <nodeSuccessors name="next" next="CallNode16"/>
    <startNode referencedName="ProcessProductHistory-PrepareData"/>
  </nodes>
<!--@Location 21,4-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode16">
    <nodeSuccessors name="next" next="CallNode23" action="begin"/>
    <nodeSuccessors name="error-product-not-available" next="JumpNode1"/>
    <startNode referencedName="ProcessProduct-Get"/>
  </nodes>
<!--@Location 21,5-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode23">
    <nodeSuccessors name="next" next="Pipelet19"/>
    <startNode referencedName="ProcessProductHistory-CreateChangeEntry"/>
  </nodes>
<!--@Location 21,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet19">
    <pipelet href="enfinity:/bc_foundation/pipelets/CreateStack.xml"/>
    <nodeSuccessors name="next" next="Pipelet20"/>
  </nodes>
<!--@Location 21,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet20">
    <configurationValues name="ProcessMethod" value="PUSH"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/ManipulateStack.xml"/>
    <nodeSuccessors name="next" next="Pipelet22"/>
    <parameterBindings name="AddElement" objectPath="JournalEntry"/>
  </nodes>
<!--@Location 21,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet22">
    <configurationValues name="ProcessMethod" value="PUSH"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/ManipulateStack.xml"/>
    <nodeSuccessors name="next" next="Pipelet16"/>
    <parameterBindings name="AddElement" objectPath="Product"/>
  </nodes>
<!--@Location 21,9-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet16">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="LoopNode1"/>
    <parameterBindings name="InValue_1" objectPath="Product"/>
    <returnValueBindings name="OutValue_1" objectPath="MasterProduct"/>
  </nodes>
<!--@Location 21,10-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode1" loop="Objects">
<!--@BendPoints 47,21-->
    <nodeSuccessors name="next" next="Pipelet23"/>
    <entry key="VariationTypeUUID">
      <nodeSuccessors name="loop_entry_next" next="Pipelet6"/>
    </entry>
  </nodes>
<!--@Location 21,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet6">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetVariationTypeByUUID.xml"/>
    <nodeSuccessors name="next" next="Pipelet25"/>
<!--@BendPoints 45,23-->
    <nodeSuccessors name="pipelet_error" next="JoinNode7"/>
  </nodes>
<!--@Location 21,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet25">
    <pipelet href="enfinity:/bc_mvc/pipelets/AddVariationTypeToProduct.xml"/>
    <nodeSuccessors name="next" next="GetFirstElementOfIterator0"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode7"/>
    <parameterBindings name="CanUpdate" constant="(Boolean)true"/>
    <parameterBindings name="Force" constant="(Boolean)true"/>
    <parameterBindings name="Locale" objectPath="CurrentSession:Locale"/>
  </nodes>
<!--@Location 21,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetFirstElementOfIterator0">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetFirstElementOfIterator.xml"/>
    <nodeSuccessors name="next" next="UpdateVariableVariationAttribute0"/>
<!--@BendPoints 44,27 44,31-->
    <nodeSuccessors name="pipelet_error" next="JoinNode33"/>
    <parameterBindings name="Iterator" objectPath="MasterProduct:VariableVariationAttributes"/>
    <returnValueBindings name="FirstElement" objectPath="VariableVariationAttribute"/>
  </nodes>
<!--@Location 21,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateVariableVariationAttribute0">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateVariableVariationAttribute.xml"/>
    <nodeSuccessors name="next" next="JoinNode33"/>
<!--@BendPoints 44,29 44,31-->
    <nodeSuccessors name="pipelet_error" next="JoinNode33"/>
    <parameterBindings name="PresentationOption" constant="defaultAndColorCode"/>
    <parameterBindings name="VariableVariationAttribute" objectPath="VariableVariationAttribute"/>
  </nodes>
<!--@Location 21,15-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode33">
    <nodeSuccessors name="next" next="LoopNode2"/>
  </nodes>
<!--@Location 21,16-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode2" loop="VariationProducts">
    <nodeSuccessors name="next" next="JoinNode1"/>
    <entry key="Product">
      <nodeSuccessors name="loop_entry_next" next="CallNode25"/>
    </entry>
  </nodes>
<!--@Location 21,17-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode25">
    <nodeSuccessors name="next" next="AddObjectToVector4"/>
    <startNode referencedName="ProcessProductHistory-AddInsertEntry"/>
  </nodes>
<!--@Location 21,18-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddObjectToVector4">
    <configurationValues name="Mode" value="Forbid Duplicates"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
<!--@BendPoints 43,38 42,38 42,33-->
    <nodeSuccessors name="next" next="LoopNode2_Entry"/>
    <parameterBindings name="InVector" nullBinding="true"/>
    <parameterBindings name="Object" nullBinding="true"/>
    <parameterBindings name="Objects" objectPath="Product:UUID"/>
    <returnValueBindings name="Iterator" objectPath="VariationProductObjectUUIDs"/>
    <returnValueBindings name="OutVector" objectPath="VariationProductObjectUUIDsCollection"/>
  </nodes>
<!--@Location 22,16-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode1">
<!--@BendPoints 45,39 41,39 41,21-->
    <nodeSuccessors name="next" next="LoopNode1_Entry"/>
  </nodes>
<!--@Location 22,12-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode7">
    <nodeSuccessors name="next" next="JoinNode1"/>
  </nodes>
<!--@Location 23,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet23">
    <configurationValues name="ProcessMethod" value="POP"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/ManipulateStack.xml"/>
    <nodeSuccessors name="next" next="Pipelet21"/>
<!--@BendPoints 49,23 49,29-->
    <nodeSuccessors name="pipelet_error" next="JoinNode8"/>
    <returnValueBindings name="GetElement" objectPath="Product"/>
  </nodes>
<!--@Location 23,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet21">
    <configurationValues name="ProcessMethod" value="POP"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/ManipulateStack.xml"/>
    <nodeSuccessors name="next" next="CallNode24"/>
<!--@BendPoints 48,25 48,29-->
    <nodeSuccessors name="pipelet_error" next="JoinNode8"/>
    <returnValueBindings name="GetElement" objectPath="JournalEntry"/>
  </nodes>
<!--@Location 23,13-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode24">
    <nodeSuccessors name="next" next="JoinNode8"/>
    <startNode referencedName="ProcessProductHistory-UpdateChangeEntry"/>
  </nodes>
<!--@Location 23,14-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode8">
    <nodeSuccessors name="next" next="Decision3"/>
  </nodes>
<!--@Location 23,15-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="Decision3" conditionKey="MasterProduct:isProductMaster"
      operator="str_eq" conditionValue="false">
<!--@BendPoints 47,32-->
    <nodeSuccessors name="decision_yes" next="UpdateProductTypeCode6"/>
<!--@BendPoints 48,31 48,37-->
    <nodeSuccessors name="decision_no" next="Join15"/>
  </nodes>
<!--@Location 23,16-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProductTypeCode6">
    <configurationValues name="DefaultTypeCode" value="2"/>
    <configurationValues name="ProcessMethod" value="Subtract Typecode"/>
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProductTypeCode.xml"/>
    <nodeSuccessors name="next" next="UpdateProductTypeCode4"/>
    <parameterBindings name="Product" objectPath="MasterProduct"/>
    <parameterBindings name="TypeCode" nullBinding="true"/>
  </nodes>
<!--@Location 23,17-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProductTypeCode4">
    <configurationValues name="DefaultTypeCode" value="16"/>
    <configurationValues name="ProcessMethod" value="Add Typecode"/>
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProductTypeCode.xml"/>
    <nodeSuccessors name="next" next="Join15"/>
    <parameterBindings name="Product" objectPath="MasterProduct"/>
    <parameterBindings name="TypeCode" nullBinding="true"/>
  </nodes>
<!--@Location 23,18-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join15">
    <nodeSuccessors name="next" next="MoveVariationProductsPosition1"/>
  </nodes>
<!--@Location 23,19-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="MoveVariationProductsPosition1">
    <configurationValues name="MoveDirection" value="MoveDown"/>
    <pipelet href="enfinity:/xcs/pipelets/MoveVariationProductsPosition.xml"/>
    <nodeSuccessors name="next" next="EndNode1" action="commit"/>
    <parameterBindings name="ProductUUIDsIterator" objectPath="VariationProductObjectUUIDs"/>
  </nodes>
<!--@Location 23,20-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode1"/>
<!--@Location 22,5-->
  <nodes xsi:type="pipeline:JumpNode" nodeID="JumpNode1">
    <startNode referencedName="ViewProduct_32-ErrorProductNotAvailable"/>
  </nodes>
<!--@Location 17,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start7" name="DeleteCustomAttribute"
      callMode="Private">
    <nodeSuccessors name="next" next="CheckForEmptyString12"/>
  </nodes>
<!--@Location 17,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString12">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="CheckForEmptyString13"/>
<!--@BendPoints 37,3-->
    <nodeSuccessors name="pipelet_error" next="Join11"/>
    <parameterBindings name="FilledString" objectPath="AttributeName"/>
  </nodes>
<!--@Location 17,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString13">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="GetLocale2"/>
<!--@BendPoints 36,5 36,9-->
    <nodeSuccessors name="pipelet_error" next="Join14"/>
    <parameterBindings name="FilledString" objectPath="AttributeLocale"/>
  </nodes>
<!--@Location 17,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetLocale2">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetLocale.xml"/>
    <nodeSuccessors name="next" next="Join14"/>
    <parameterBindings name="LocaleId" objectPath="AttributeLocale"/>
    <returnValueBindings name="Locale" objectPath="LocaleInformation"/>
  </nodes>
<!--@Location 17,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join14">
    <nodeSuccessors name="next" next="Pipelet11"/>
  </nodes>
<!--@Location 17,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet11">
    <configurationValues name="Name" value="ProcessName"/>
    <configurationValues name="Value" value="BatchProcess"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="Pipelet5"/>
  </nodes>
<!--@Location 17,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet5">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="CallNode12"/>
    <parameterBindings name="InValue_1" objectPath="JobConfiguration:Domain"/>
    <returnValueBindings name="OutValue_1" objectPath="PreferenceDomain"/>
  </nodes>
<!--@Location 17,7-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode12">
    <nodeSuccessors name="next" next="Loop6" action="begin"/>
    <startNode referencedName="ProcessProductHistory-PrepareData"/>
  </nodes>
<!--@Location 17,9-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="Loop6" loop="Objects">
    <nodeSuccessors name="next" next="Join11" action="commit"/>
    <entry key="Product">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode11"/>
    </entry>
  </nodes>
<!--@Location 17,10-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode11" conditionKey="Product:Extension(&quot;PersistentObjectBOExtension&quot;)">
    <nodeSuccessors name="decision_yes" next="KeyMapper14"/>
    <nodeSuccessors name="decision_no" next="JoinNode21"/>
  </nodes>
<!--@Location 18,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper14">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="JoinNode21"/>
    <parameterBindings name="InValue_1" objectPath="Product:Extension(&quot;PersistentObjectBOExtension&quot;):PersistentObject"/>
    <returnValueBindings name="OutValue_1" objectPath="Product"/>
  </nodes>
<!--@Location 17,11-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode21">
    <nodeSuccessors name="next" next="CallNode20"/>
  </nodes>
<!--@Location 17,12-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode20">
    <nodeSuccessors name="next" next="CallNode13"/>
<!--@BendPoints 34,26 33,26-->
    <nodeSuccessors name="LOCKED" next="Pipelet33"/>
    <startNode referencedName="ProcessProductLock_32-CheckUnlocked"/>
  </nodes>
<!--@Location 17,13-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode13">
    <nodeSuccessors name="next" next="RemoveCustomAttribute1"/>
    <startNode referencedName="ProcessProductHistory-CreateChangeEntry"/>
  </nodes>
<!--@Location 17,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveCustomAttribute1">
    <pipelet href="enfinity:/bc_foundation/pipelets/RemoveCustomAttribute.xml"/>
    <nodeSuccessors name="next" next="CallNode14"/>
    <parameterBindings name="ExtensibleObject" objectPath="Product"/>
  </nodes>
<!--@Location 17,15-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode14">
    <nodeSuccessors name="next" next="Pipelet32"/>
    <startNode referencedName="ProcessProductHistory-UpdateChangeEntry"/>
  </nodes>
<!--@Location 17,16-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet32">
    <configurationValues name="Key" value="Result"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/RemoveDictionaryValue.xml"/>
<!--@BendPoints 35,34 33,34-->
    <nodeSuccessors name="next" next="JoinNode5"/>
  </nodes>
<!--@Location 16,15-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode5">
<!--@BendPoints 32,27 32,19-->
    <nodeSuccessors name="next" next="CallNode30"/>
  </nodes>
<!--@Location 16,9-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode30">
    <nodeSuccessors name="next" next="Loop6_Entry"/>
    <startNode referencedName="BatchProcessLog-LogResult"/>
  </nodes>
<!--@Location 16,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet33">
    <configurationValues name="Name" value="Result"/>
    <configurationValues name="Value" value="Locked"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode5"/>
  </nodes>
<!--@Location 18,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join11">
    <nodeSuccessors name="next" next="End8"/>
  </nodes>
<!--@Location 18,10-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End8"/>
<!--@Location 9,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start5" name="DeleteProducts" callMode="Private">
    <nodeSuccessors name="next" next="Pipelet9"/>
  </nodes>
<!--@Location 9,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet9">
    <configurationValues name="Name" value="ProcessName"/>
    <configurationValues name="Value" value="BatchProcess"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="Pipelet13"/>
  </nodes>
<!--@Location 9,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet13">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetRepositoryByRepositoryDomain.xml"/>
    <nodeSuccessors name="next" next="Pipelet12"/>
    <parameterBindings name="RepositoryDomain" objectPath="JobConfiguration:Domain"/>
  </nodes>
<!--@Location 9,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet12">
    <pipelet href="enfinity:/bc_organization/pipelets/GetOrganizationByDomain.xml"/>
    <nodeSuccessors name="next" next="Loop3" action="begin"/>
    <parameterBindings name="OrganizationDomain" objectPath="Repository:OwningDomain"/>
  </nodes>
<!--@Location 9,4-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="Loop3" loop="Objects">
<!--@BendPoints 22,9-->
    <nodeSuccessors name="next" next="CallNode7"/>
    <entry key="Product">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode9"/>
    </entry>
  </nodes>
<!--@Location 9,5-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode9" conditionKey="Product:Extension(&quot;PersistentObjectBOExtension&quot;)">
<!--@BendPoints 21,11-->
    <nodeSuccessors name="decision_yes" next="KeyMapper12"/>
    <nodeSuccessors name="decision_no" next="JoinNode19"/>
  </nodes>
<!--@Location 10,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper12">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="JoinNode19"/>
    <parameterBindings name="InValue_1" objectPath="Product:Extension(&quot;PersistentObjectBOExtension&quot;):PersistentObject"/>
    <returnValueBindings name="OutValue_1" objectPath="Product"/>
  </nodes>
<!--@Location 9,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode19">
    <nodeSuccessors name="next" next="CallNode28"/>
  </nodes>
<!--@Location 9,7-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode28">
    <nodeSuccessors name="next" next="CallNode8"/>
    <nodeSuccessors name="LOCKED" next="Pipelet29"/>
    <startNode referencedName="ProcessProductLock_32-CheckUnlocked"/>
  </nodes>
<!--@Location 9,8-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode8">
    <nodeSuccessors name="next" next="DecisionNode2"/>
    <parameterBindings name="DeletionPreferenceDomain" objectPath="Organization:OrganizationDomain"/>
    <startNode referencedName="ProcessProductDeletion-ProcessDeleteProduct"/>
  </nodes>
<!--@Location 9,9-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode2" conditionKey="ProductDeletionFailed">
    <nodeSuccessors name="decision_yes" next="DecisionNode3"/>
<!--@BendPoints 23,19-->
    <nodeSuccessors name="decision_no" next="JoinNode10"/>
  </nodes>
<!--@Location 9,10-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode3" conditionKey="ProductDeletionFailed"
      operator="str_eq" conditionValue="OffersExist">
<!--@BendPoints 19,24-->
    <nodeSuccessors name="decision_yes" next="Pipelet46"/>
<!--@BendPoints 21,21 21,22-->
    <nodeSuccessors name="decision_no" next="DecisionNode1"/>
  </nodes>
<!--@Location 9,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet46">
    <configurationValues name="Name" value="Result"/>
    <configurationValues name="Value" value="OfferExist"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode11"/>
  </nodes>
<!--@Location 9,13-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode11">
<!--@BendPoints 19,28-->
    <nodeSuccessors name="next" next="RemoveDictionaryValue1"/>
  </nodes>
<!--@Location 9,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveDictionaryValue1">
    <configurationValues name="Key" value="ProductDeletionFailed"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/RemoveDictionaryValue.xml"/>
<!--@BendPoints 19,30 17,30-->
    <nodeSuccessors name="next" next="JoinNode9"/>
  </nodes>
<!--@Location 8,10-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode9">
<!--@BendPoints 16,15 16,9-->
    <nodeSuccessors name="next" next="CallNode27"/>
  </nodes>
<!--@Location 8,4-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode27">
    <nodeSuccessors name="next" next="Loop3_Entry"/>
    <startNode referencedName="BatchProcessLog-LogResult"/>
  </nodes>
<!--@Location 10,11-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode1" conditionKey="ProductDeletionFailed"
      operator="str_eq" conditionValue="ProductReferencesExist">
<!--@BendPoints 21,24-->
    <nodeSuccessors name="decision_yes" next="Pipelet3"/>
    <nodeSuccessors name="decision_no" next="JoinNode10"/>
  </nodes>
<!--@Location 10,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet3">
    <configurationValues name="Name" value="Result"/>
    <configurationValues name="Value" value="ProductReferencesExist"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode6"/>
  </nodes>
<!--@Location 10,13-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode6">
    <nodeSuccessors name="next" next="JoinNode11"/>
  </nodes>
<!--@Location 11,11-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode10">
<!--@BendPoints 23,24-->
    <nodeSuccessors name="next" next="Pipelet28"/>
  </nodes>
<!--@Location 11,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet28">
    <configurationValues name="Key" value="Result"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/RemoveDictionaryValue.xml"/>
<!--@BendPoints 23,27-->
    <nodeSuccessors name="next" next="JoinNode6"/>
  </nodes>
<!--@Location 8,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet29">
    <configurationValues name="Name" value="Result"/>
    <configurationValues name="Value" value="Locked"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode9"/>
  </nodes>
<!--@Location 11,4-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode7">
<!--@BendPoints 25,9-->
    <nodeSuccessors name="next" next="ProcessBatchCacheClear0" action="commit"/>
    <startNode referencedName="ProcessProductDeletion-InstantCacheClearMultipleProducts"/>
  </nodes>
<!--@Location 12,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ProcessBatchCacheClear0">
    <pipelet href="enfinity:/core/pipelets/ProcessBatchCacheClear.xml"/>
    <nodeSuccessors name="next" next="AddObjectToVector2"/>
    <parameterBindings name="CacheClearProcessID" constant="ProductDeletionProcess"/>
    <parameterBindings name="CacheClearProcessingDate" nullBinding="true"/>
    <parameterBindings name="CacheClearProcessorID" constant="BatchCacheClearProcessorWithoutSearchIndexRebuildableCache"/>
  </nodes>
<!--@Location 12,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddObjectToVector2">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
<!--@BendPoints 25,14-->
    <nodeSuccessors name="next" next="End6"/>
    <parameterBindings name="InVector" nullBinding="true"/>
    <parameterBindings name="Object" nullBinding="true"/>
    <parameterBindings name="Objects" nullBinding="true"/>
    <returnValueBindings name="Iterator" objectPath="ProcessInstantCacheClearProductsIter"/>
    <returnValueBindings name="OutVector" objectPath="ProcessInstantCacheClearProductsVector"/>
  </nodes>
<!--@Location 12,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End6"/>
<!--@Location 19,22-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode3" name="ErrorProductBatchProcessing"
      callMode="Private">
<!--@BendPoints 39,46-->
    <nodeSuccessors name="next" next="CreateLogEntry1"/>
  </nodes>
<!--@Location 19,23-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateLogEntry1">
    <configurationValues name="LogLevel" value="Error"/>
    <configurationValues name="Message" value="Failed to process product with given SKU."/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CreateLogEntry.xml"/>
<!--@BendPoints 39,48-->
    <nodeSuccessors name="next" next="EndNode4"/>
    <parameterBindings name="Object0" objectPath="Product:SKU"/>
    <parameterBindings name="Object1" objectPath="ErrorText"/>
  </nodes>
<!--@Location 19,24-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode4"/>
<!--@Location 41,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode9" strict="true" name="GetProductBOsBySearchParametersInSession"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode52"/>
    <parameters name="TargetSessionID" type="java.lang.String" optional="true"/>
    <parameters name="TargetSessionDomainID" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 41,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode52">
    <nodeSuccessors name="next" next="EndNode10"/>
<!--@BendPoints 85,3-->
    <nodeSuccessors name="ERROR" next="EndNode13"/>
    <startNode referencedName="BatchProcessProducts-GetProductBOsBySearchParametersInSession"/>
  </nodes>
<!--@Location 41,2-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode10" strict="true">
    <returnValues name="Objects" type="com.intershop.beehive.core.capi.paging.PageableIterator"/>
  </nodes>
<!--@Location 42,2-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode13" name="ERROR" strict="true"/>
<!--@Location 6,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start3" name="InitAssignProductsToCategory"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode26"/>
  </nodes>
<!--@Location 6,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode26">
    <nodeSuccessors name="next" next="GetCategoryByUUID1"/>
    <startNode referencedName="BatchProcessLog-PrepareLogger"/>
  </nodes>
<!--@Location 6,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCategoryByUUID1">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetCategoryByUUID.xml"/>
    <nodeSuccessors name="next" next="End3"/>
<!--@BendPoints 15,5-->
    <nodeSuccessors name="pipelet_error" next="End4"/>
    <returnValueBindings name="Category" objectPath="CatalogCategory"/>
  </nodes>
<!--@Location 6,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End3"/>
<!--@Location 7,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End4" name="Error"/>
<!--@Location 19,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start10" name="InitAssignProductsToChannel"
      callMode="Private">
    <nodeSuccessors name="next" next="GetRepositoryByUUID2"/>
  </nodes>
<!--@Location 19,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetRepositoryByUUID2">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetRepositoryByUUID.xml"/>
    <nodeSuccessors name="next" next="GetOrganization1"/>
<!--@BendPoints 41,3-->
    <nodeSuccessors name="pipelet_error" next="Join19"/>
    <parameterBindings name="UUID" objectPath="ChannelID"/>
  </nodes>
<!--@Location 19,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetOrganization1">
    <configurationValues name="Source" value="PipelineDictionary"/>
    <pipelet href="enfinity:/bc_organization/pipelets/GetOrganization.xml"/>
    <nodeSuccessors name="next" next="End12"/>
    <nodeSuccessors name="pipelet_error" next="Join19"/>
  </nodes>
<!--@Location 19,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End12"/>
<!--@Location 20,2-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join19">
    <nodeSuccessors name="next" next="End11"/>
  </nodes>
<!--@Location 20,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End11" name="Error"/>
<!--@Location 31,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start13" name="InitAssignProductsToClassificationCategory"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode36"/>
  </nodes>
<!--@Location 31,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode36">
    <nodeSuccessors name="next" next="GetCategoryByUUID2"/>
    <startNode referencedName="BatchProcessLog-PrepareLogger"/>
  </nodes>
<!--@Location 31,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCategoryByUUID2">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetCategoryByUUID.xml"/>
    <nodeSuccessors name="next" next="GetCatalogByUUID1"/>
<!--@BendPoints 65,5-->
    <nodeSuccessors name="pipelet_error" next="JoinNode17"/>
    <parameterBindings name="CatalogCategoryID" objectPath="SelectedCategoryID"/>
    <returnValueBindings name="Category" objectPath="CatalogCategory"/>
  </nodes>
<!--@Location 31,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCatalogByUUID1">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetCatalogByUUID.xml"/>
    <nodeSuccessors name="next" next="GetRepositoryByUUID6"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode17"/>
  </nodes>
<!--@Location 31,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetRepositoryByUUID6">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetRepositoryByUUID.xml"/>
    <nodeSuccessors name="next" next="Pipelet35"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode16"/>
    <parameterBindings name="UUID" objectPath="ChannelID"/>
    <returnValueBindings name="Repository" objectPath="CurrentProductRepository"/>
  </nodes>
<!--@Location 31,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet35">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="EndNode11"/>
    <parameterBindings name="InValue_1" objectPath="JobConfiguration:Domain"/>
    <parameterBindings name="InValue_2" objectPath="JobConfiguration:UserID"/>
    <returnValueBindings name="OutValue_1" objectPath="PreferenceDomain"/>
    <returnValueBindings name="OutValue_2" objectPath="CheckedUserID"/>
  </nodes>
<!--@Location 31,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode11"/>
<!--@Location 32,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode16">
    <nodeSuccessors name="next" next="End15"/>
  </nodes>
<!--@Location 32,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End15" name="Error"/>
<!--@Location 32,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode17">
    <nodeSuccessors name="next" next="JoinNode16"/>
  </nodes>
<!--@Location 17,22-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode7" name="InitBatch" callMode="Private">
    <nodeSuccessors name="next" next="CallNode39"/>
  </nodes>
<!--@Location 17,23-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode39">
    <nodeSuccessors name="next" next="EndNode8"/>
    <startNode referencedName="BatchProcessLog-PrepareLogger"/>
  </nodes>
<!--@Location 17,24-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode8"/>
<!--@Location 25,22-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start9" name="InitCopyProducts" callMode="Private">
    <nodeSuccessors name="next" next="GetOrganization2"/>
  </nodes>
<!--@Location 25,23-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetOrganization2">
    <configurationValues name="Source" value="PipelineDictionary"/>
    <pipelet href="enfinity:/bc_organization/pipelets/GetOrganization.xml"/>
    <nodeSuccessors name="next" next="Join16"/>
<!--@BendPoints 52,47 52,49-->
    <nodeSuccessors name="pipelet_error" next="Join16"/>
  </nodes>
<!--@Location 25,24-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join16">
    <nodeSuccessors name="next" next="Pipelet34"/>
  </nodes>
<!--@Location 25,25-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet34">
    <configurationValues name="Name" value="ProcessName"/>
    <configurationValues name="Value" value="BatchProcess"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="Pipelet14"/>
  </nodes>
<!--@Location 25,26-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet14">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="CallNode40"/>
    <parameterBindings name="InValue_1" objectPath="JobConfiguration:Domain"/>
    <returnValueBindings name="OutValue_1" objectPath="PreferenceDomain"/>
  </nodes>
<!--@Location 25,27-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode40">
    <nodeSuccessors name="next" next="End10"/>
    <startNode referencedName="BatchProcessLog-PrepareLogger"/>
  </nodes>
<!--@Location 25,28-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End10"/>
<!--@Location 21,22-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode2" name="InitCreateVariationsFromProducts"
      callMode="Private">
    <nodeSuccessors name="next" next="GetRepositoryByUUID1"/>
  </nodes>
<!--@Location 21,23-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetRepositoryByUUID1">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetRepositoryByUUID.xml"/>
    <nodeSuccessors name="next" next="Pipelet24"/>
<!--@BendPoints 45,47-->
    <nodeSuccessors name="pipelet_error" next="JoinNode12"/>
    <parameterBindings name="UUID" objectPath="ChannelID"/>
  </nodes>
<!--@Location 21,24-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet24">
    <configurationValues name="Source" value="PipelineDictionary"/>
    <pipelet href="enfinity:/bc_organization/pipelets/GetOrganization.xml"/>
    <nodeSuccessors name="next" next="EndNode3"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode12"/>
  </nodes>
<!--@Location 21,25-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode3"/>
<!--@Location 22,24-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode12">
    <nodeSuccessors name="next" next="EndNode2"/>
  </nodes>
<!--@Location 22,25-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode2" name="Error"/>
<!--@Location 0,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start2" name="InitUpdateStandardAttributes"
      callMode="Private">
<!--@BendPoints 1,2-->
    <nodeSuccessors name="next" next="CheckForEmptyString1"/>
  </nodes>
<!--@Location 0,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString1">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="KeyMapper1"/>
<!--@BendPoints 2,3 2,7-->
    <nodeSuccessors name="pipelet_error" next="Join1"/>
    <parameterBindings name="FilledString" objectPath="NewManufacturerName"/>
  </nodes>
<!--@Location 0,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper1">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="Join1"/>
    <parameterBindings name="InValue_1" objectPath="NewManufacturerName"/>
    <returnValueBindings name="OutValue_1" objectPath="ManufacturerName"/>
  </nodes>
<!--@Location 0,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join1">
    <nodeSuccessors name="next" next="CheckForEmptyString2"/>
  </nodes>
<!--@Location 0,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString2">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="KeyMapper2"/>
<!--@BendPoints 2,9 2,13-->
    <nodeSuccessors name="pipelet_error" next="Join2"/>
    <parameterBindings name="FilledString" objectPath="NewEANCode"/>
  </nodes>
<!--@Location 0,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper2">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="Join2"/>
    <parameterBindings name="InValue_1" objectPath="NewEANCode"/>
    <returnValueBindings name="OutValue_1" objectPath="EANCode"/>
  </nodes>
<!--@Location 0,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join2">
    <nodeSuccessors name="next" next="CheckForEmptyString3"/>
  </nodes>
<!--@Location 0,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString3">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="KeyMapper3"/>
<!--@BendPoints 2,15 2,19-->
    <nodeSuccessors name="pipelet_error" next="Join3"/>
    <parameterBindings name="FilledString" objectPath="NewDeliveryDays"/>
  </nodes>
<!--@Location 0,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper3">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="Join3"/>
    <parameterBindings name="InValue_1" objectPath="NewDeliveryDays"/>
    <returnValueBindings name="OutValue_1" objectPath="DeliveryDays"/>
  </nodes>
<!--@Location 0,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join3">
    <nodeSuccessors name="next" next="CheckForEmptyString4"/>
  </nodes>
<!--@Location 0,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString4">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="KeyMapper4"/>
<!--@BendPoints 2,21 2,25-->
    <nodeSuccessors name="pipelet_error" next="Join4"/>
    <parameterBindings name="FilledString" objectPath="NewBaseUnit"/>
  </nodes>
<!--@Location 0,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper4">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="Join4"/>
    <parameterBindings name="InValue_1" objectPath="NewBaseUnit"/>
    <returnValueBindings name="OutValue_1" objectPath="BaseUnit"/>
  </nodes>
<!--@Location 0,12-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join4">
    <nodeSuccessors name="next" next="CheckForEmptyString5"/>
  </nodes>
<!--@Location 0,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString5">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="KeyMapper5"/>
<!--@BendPoints 2,27 2,31-->
    <nodeSuccessors name="pipelet_error" next="Join5"/>
    <parameterBindings name="FilledString" objectPath="NewRatioBasePackingUnit"/>
  </nodes>
<!--@Location 0,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper5">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="Join5"/>
    <parameterBindings name="InValue_1" objectPath="NewRatioBasePackingUnit"/>
    <returnValueBindings name="OutValue_1" objectPath="RatioBasePackingUnit"/>
  </nodes>
<!--@Location 0,15-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join5">
    <nodeSuccessors name="next" next="CheckForEmptyString6"/>
  </nodes>
<!--@Location 0,16-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString6">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="KeyMapper6"/>
<!--@BendPoints 2,33 2,37-->
    <nodeSuccessors name="pipelet_error" next="Join6"/>
    <parameterBindings name="FilledString" objectPath="NewPackingUnit"/>
  </nodes>
<!--@Location 0,17-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper6">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="Join6"/>
    <parameterBindings name="InValue_1" objectPath="NewPackingUnit"/>
    <returnValueBindings name="OutValue_1" objectPath="QuantityUnit"/>
  </nodes>
<!--@Location 0,18-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join6">
    <nodeSuccessors name="next" next="CheckForEmptyString8"/>
  </nodes>
<!--@Location 0,19-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString8">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="KeyMapper8"/>
<!--@BendPoints 2,39 2,43-->
    <nodeSuccessors name="pipelet_error" next="Join8"/>
    <parameterBindings name="FilledString" objectPath="NewMinOrderQuantity"/>
  </nodes>
<!--@Location 0,20-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper8">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="Join8"/>
    <parameterBindings name="InValue_1" objectPath="NewMinOrderQuantity"/>
    <returnValueBindings name="OutValue_1" objectPath="MinOrderQuantity"/>
  </nodes>
<!--@Location 0,21-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join8">
    <nodeSuccessors name="next" next="CheckForEmptyString7"/>
  </nodes>
<!--@Location 0,22-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString7">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="KeyMapper7"/>
<!--@BendPoints 2,45 2,49-->
    <nodeSuccessors name="pipelet_error" next="Join7"/>
    <parameterBindings name="FilledString" objectPath="NewStepQuantity"/>
  </nodes>
<!--@Location 0,23-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper7">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="Join7"/>
    <parameterBindings name="InValue_1" objectPath="NewStepQuantity"/>
    <returnValueBindings name="OutValue_1" objectPath="StepQuantity"/>
  </nodes>
<!--@Location 0,24-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join7">
    <nodeSuccessors name="next" next="CallNode33"/>
  </nodes>
<!--@Location 0,25-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode33">
    <nodeSuccessors name="next" next="End2"/>
    <startNode referencedName="BatchProcessLog-PrepareLogger"/>
  </nodes>
<!--@Location 0,26-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End2"/>
<!--@Location 18,22-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode4" name="PostBatch" callMode="Private">
    <nodeSuccessors name="next" next="CallNode32"/>
  </nodes>
<!--@Location 18,23-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode32">
    <nodeSuccessors name="next" next="EndNode5"/>
    <startNode referencedName="BatchProcessLog-CleanLogger"/>
  </nodes>
<!--@Location 18,24-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode5"/>
<!--@Location 0,31-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode11" name="PostBatchDeleteProducts"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode55"/>
  </nodes>
<!--@Location 0,32-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode55">
    <nodeSuccessors name="next" next="CallNode61"/>
    <parameterBindings name="SourceDomain" objectPath="Repository:Domain"/>
    <startNode referencedName="This:UpdateProductSearchIndexes"/>
  </nodes>
<!--@Location 0,33-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode61">
    <nodeSuccessors name="next" next="CallNode64"/>
    <startNode referencedName="BatchProcessProducts_52-DeleteProductsConfigurationParametersReferences"/>
  </nodes>
<!--@Location 0,34-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode64">
<!--@BendPoints 1,70-->
    <nodeSuccessors name="next" next="EndNode14"/>
    <startNode referencedName="BatchProcessLog-CleanLogger"/>
  </nodes>
<!--@Location 0,35-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode14"/>
<!--@Location 39,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode0" name="UnassignProductCategoryLinks"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode0"/>
  </nodes>
<!--@Location 39,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode0">
    <nodeSuccessors name="next" next="EndNode7"/>
    <startNode referencedName="BatchProcessProducts-UnassignProductCategoryLinks"/>
  </nodes>
<!--@Location 39,2-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode7"/>
<!--@Location 38,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode6" name="UnassignProductProductLinks"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode47"/>
  </nodes>
<!--@Location 38,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode47">
    <nodeSuccessors name="next" next="EndNode0"/>
    <startNode referencedName="BatchProcessProducts-UnassignProductProductLinks"/>
  </nodes>
<!--@Location 38,2-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode0"/>
<!--@Location 27,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start12" name="UnassignProductsFromCategory"
      callMode="Private">
    <nodeSuccessors name="next" next="Pipelet54"/>
  </nodes>
<!--@Location 27,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet54">
    <configurationValues name="Name" value="ProcessName"/>
    <configurationValues name="Value" value="BatchProcess"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="Pipelet53"/>
  </nodes>
<!--@Location 27,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet53">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetRepositoryByRepositoryDomain.xml"/>
    <nodeSuccessors name="next" next="Pipelet37"/>
    <parameterBindings name="RepositoryDomain" objectPath="JobConfiguration:Domain"/>
  </nodes>
<!--@Location 27,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet37">
    <pipelet href="enfinity:/bc_organization/pipelets/GetOrganizationByDomain.xml"/>
    <nodeSuccessors name="next" next="Pipelet38"/>
    <parameterBindings name="OrganizationDomain" objectPath="Repository:OwningDomain"/>
  </nodes>
<!--@Location 27,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet38">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="CallNode43"/>
    <parameterBindings name="InValue_1" objectPath="JobConfiguration:Domain"/>
    <parameterBindings name="InValue_2" objectPath="JobConfiguration:UserID"/>
    <returnValueBindings name="OutValue_1" objectPath="PreferenceDomain"/>
    <returnValueBindings name="OutValue_2" objectPath="CheckedUserID"/>
  </nodes>
<!--@Location 27,5-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode43">
    <nodeSuccessors name="next" next="GetApplicationBO0" action="begin"/>
    <startNode referencedName="ProcessProductHistory-PrepareData"/>
  </nodes>
<!--@Location 27,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetApplicationBO0">
    <pipelet href="enfinity:/bc_application/pipelets/GetApplicationBO.xml"/>
    <nodeSuccessors name="next" next="GetCatalogBOByCatalogRepositoryBOID0"/>
  </nodes>
<!--@Location 27,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCatalogBOByCatalogRepositoryBOID0">
    <pipelet href="enfinity:/bc_catalog/pipelets/GetCatalogBOByCatalogRepositoryBOID.xml"/>
    <nodeSuccessors name="next" next="GetCatalogCategoryBOByID0"/>
    <parameterBindings name="CatalogBORepository" objectPath="ApplicationBO:Repository(&quot;CatalogBORepository&quot;)"/>
    <parameterBindings name="CatalogRepositoryBOID" objectPath="CatalogCategory:DomainID"/>
  </nodes>
<!--@Location 27,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCatalogCategoryBOByID0">
    <pipelet href="enfinity:/bc_catalog/pipelets/GetCatalogCategoryBOByID.xml"/>
    <nodeSuccessors name="next" next="Loop9"/>
    <parameterBindings name="ID" objectPath="CatalogCategory:UUID"/>
  </nodes>
<!--@Location 27,9-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="Loop9" loop="Objects">
    <nodeSuccessors name="next" next="End14" action="commit"/>
    <entry key="ProductBO">
      <nodeSuccessors name="loop_entry_next" next="KeyMapper0"/>
    </entry>
  </nodes>
<!--@Location 27,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper0">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="CallNode44"/>
    <parameterBindings name="InValue_1" objectPath="ProductBO:Extension(&quot;PersistentObjectBOExtension&quot;):PersistentObject"/>
    <returnValueBindings name="OutValue_1" objectPath="Product"/>
  </nodes>
<!--@Location 27,11-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode44">
    <nodeSuccessors name="next" next="CallNode42"/>
    <nodeSuccessors name="LOCKED" next="SetDictionaryValue1"/>
    <startNode referencedName="ProcessProductLock-CheckUnlocked"/>
  </nodes>
<!--@Location 27,12-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode42">
    <nodeSuccessors name="next" next="UnassignProductBOFromCatalogCategoryBO0"/>
    <startNode referencedName="ProcessProductHistory-CreateChangeEntry"/>
  </nodes>
<!--@Location 27,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UnassignProductBOFromCatalogCategoryBO0">
    <pipelet href="enfinity:/bc_product/pipelets/UnassignProductBOFromCatalogCategoryBO.xml"/>
    <nodeSuccessors name="next" next="GetProductType0"/>
  </nodes>
<!--@Location 27,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetProductType0">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetProductType.xml"/>
    <nodeSuccessors name="next" next="CallNode50"/>
<!--@BendPoints 56,29-->
    <nodeSuccessors name="pipelet_error" next="JoinNode23"/>
    <parameterBindings name="ProductTypeDomainName" objectPath="CatalogCategory:Domain:DomainName"/>
    <parameterBindings name="ProductTypeName" objectPath="CatalogCategory:Name"/>
    <parameterBindings name="ProductTypeUUID" nullBinding="true"/>
  </nodes>
<!--@Location 27,15-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode50">
    <nodeSuccessors name="next" next="JoinNode23"/>
    <parameterBindings name="ExtensibleObject" objectPath="Product"/>
    <parameterBindings name="ProductAttributes" objectPath="ProductType:CustomProductAttributes"/>
    <startNode referencedName="ProcessProductCustomAttributes-RemoveAttributes"/>
  </nodes>
<!--@Location 27,16-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode23">
    <nodeSuccessors name="next" next="CallNode35"/>
  </nodes>
<!--@Location 27,17-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode35">
    <nodeSuccessors name="next" next="RemoveDictionaryValue2"/>
    <startNode referencedName="ProcessProductHistory-UpdateChangeEntry"/>
  </nodes>
<!--@Location 27,18-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveDictionaryValue2">
    <configurationValues name="Key" value="Result"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/RemoveDictionaryValue.xml"/>
<!--@BendPoints 55,39 53,39-->
    <nodeSuccessors name="next" next="JoinNode13"/>
  </nodes>
<!--@Location 26,18-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode13">
<!--@BendPoints 52,37 52,19-->
    <nodeSuccessors name="next" next="CallNode34"/>
  </nodes>
<!--@Location 26,9-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode34">
    <nodeSuccessors name="next" next="Loop9_Entry"/>
    <startNode referencedName="BatchProcessLog-LogResult"/>
  </nodes>
<!--@Location 26,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue1">
    <configurationValues name="Name" value="Result"/>
    <configurationValues name="Value" value="Locked"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode13"/>
  </nodes>
<!--@Location 28,9-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End14"/>
<!--@Location 14,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start6" name="UpdateCustomAttribute"
      callMode="Private">
    <nodeSuccessors name="next" next="CheckForEmptyString9"/>
  </nodes>
<!--@Location 14,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString9">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="CheckForEmptyString10"/>
<!--@BendPoints 31,3-->
    <nodeSuccessors name="pipelet_error" next="Join12"/>
    <parameterBindings name="FilledString" objectPath="CustomAttributeName"/>
  </nodes>
<!--@Location 14,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString10">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="CheckForEmptyString11"/>
    <nodeSuccessors name="pipelet_error" next="Join12"/>
    <parameterBindings name="FilledString" objectPath="CustomAttributeType"/>
  </nodes>
<!--@Location 14,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString11">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="GetLocale1"/>
<!--@BendPoints 30,7 30,11-->
    <nodeSuccessors name="pipelet_error" next="Join13"/>
    <parameterBindings name="FilledString" objectPath="CustomAttributeLocale"/>
  </nodes>
<!--@Location 14,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetLocale1">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetLocale.xml"/>
    <nodeSuccessors name="next" next="Join13"/>
    <parameterBindings name="LocaleId" objectPath="CustomAttributeLocale"/>
    <returnValueBindings name="Locale" objectPath="LocaleInformation"/>
  </nodes>
<!--@Location 14,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join13">
    <nodeSuccessors name="next" next="Pipelet10"/>
  </nodes>
<!--@Location 14,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet10">
    <configurationValues name="Name" value="ProcessName"/>
    <configurationValues name="Value" value="BatchProcess"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="Pipelet15"/>
  </nodes>
<!--@Location 14,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet15">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="GetLocale3"/>
    <parameterBindings name="InValue_1" objectPath="JobConfiguration:Domain"/>
    <parameterBindings name="InValue_2" objectPath="CustomAttributeType"/>
    <parameterBindings name="InValue_3" objectPath="CustomAttributeValue"/>
    <returnValueBindings name="OutValue_1" objectPath="PreferenceDomain"/>
    <returnValueBindings name="OutValue_2" objectPath="AttributeType"/>
    <returnValueBindings name="OutValue_3" objectPath="NewAttributeValue"/>
  </nodes>
<!--@Location 14,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetLocale3">
    <configurationValues name="LocaleFallback" value="Request Locale"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetLocale.xml"/>
    <nodeSuccessors name="next" next="CallNode9"/>
    <parameterBindings name="LocaleId" objectPath="ParsingLocaleID"/>
    <returnValueBindings name="Locale" objectPath="ParsingLocale"/>
  </nodes>
<!--@Location 14,9-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode9">
    <nodeSuccessors name="next" next="CallNode31"/>
    <startNode referencedName="ProcessProductHistory-PrepareData"/>
  </nodes>
<!--@Location 14,10-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode31">
<!--@BendPoints 29,22-->
    <nodeSuccessors name="next" next="Loop5" action="begin"/>
    <startNode referencedName="ProcessCustomAttributes-VerifyAttributeValue"/>
  </nodes>
<!--@Location 14,11-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="Loop5" loop="Objects">
    <nodeSuccessors name="next" next="Join10" action="commit"/>
    <entry key="Product">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode10"/>
    </entry>
  </nodes>
<!--@Location 14,12-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode10" conditionKey="Product:Extension(&quot;PersistentObjectBOExtension&quot;)">
    <nodeSuccessors name="decision_yes" next="KeyMapper13"/>
    <nodeSuccessors name="decision_no" next="JoinNode20"/>
  </nodes>
<!--@Location 15,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper13">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="JoinNode20"/>
    <parameterBindings name="InValue_1" objectPath="Product:Extension(&quot;PersistentObjectBOExtension&quot;):PersistentObject"/>
    <returnValueBindings name="OutValue_1" objectPath="Product"/>
  </nodes>
<!--@Location 14,13-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode20">
    <nodeSuccessors name="next" next="CallNode19"/>
  </nodes>
<!--@Location 14,14-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode19">
    <nodeSuccessors name="next" next="CallNode10"/>
<!--@BendPoints 28,30 27,30-->
    <nodeSuccessors name="LOCKED" next="Pipelet30"/>
    <startNode referencedName="ProcessProductLock_32-CheckUnlocked"/>
  </nodes>
<!--@Location 14,15-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode10">
    <nodeSuccessors name="next" next="UpdateCustomAttribute1"/>
    <startNode referencedName="ProcessProductHistory-CreateChangeEntry"/>
  </nodes>
<!--@Location 14,16-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateCustomAttribute1">
    <pipelet href="enfinity:/bc_foundation/pipelets/UpdateCustomAttribute.xml"/>
    <nodeSuccessors name="next" next="Join9"/>
<!--@BendPoints 30,33 30,35-->
    <nodeSuccessors name="pipelet_error" next="Join9"/>
    <parameterBindings name="AttributeName" objectPath="CustomAttributeName"/>
    <parameterBindings name="AttributeType" objectPath="CustomAttributeType"/>
    <parameterBindings name="AttributeValue" objectPath="NewAttributeValue"/>
    <parameterBindings name="ExtensibleObject" objectPath="Product"/>
  </nodes>
<!--@Location 14,17-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join9">
    <nodeSuccessors name="next" next="CallNode11"/>
  </nodes>
<!--@Location 14,18-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode11">
    <nodeSuccessors name="next" next="Pipelet31"/>
    <startNode referencedName="ProcessProductHistory-UpdateChangeEntry"/>
  </nodes>
<!--@Location 14,19-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet31">
    <configurationValues name="Key" value="Result"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/RemoveDictionaryValue.xml"/>
<!--@BendPoints 29,40 27,40-->
    <nodeSuccessors name="next" next="JoinNode4"/>
  </nodes>
<!--@Location 13,16-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode4">
<!--@BendPoints 26,29 26,23-->
    <nodeSuccessors name="next" next="CallNode29"/>
  </nodes>
<!--@Location 13,11-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode29">
    <nodeSuccessors name="next" next="Loop5_Entry"/>
    <startNode referencedName="BatchProcessLog-LogResult"/>
  </nodes>
<!--@Location 13,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet30">
    <configurationValues name="Name" value="Result"/>
    <configurationValues name="Value" value="Locked"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode4"/>
  </nodes>
<!--@Location 15,11-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join10">
    <nodeSuccessors name="next" next="End7"/>
  </nodes>
<!--@Location 15,12-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End7"/>
<!--@Location 15,2-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join12">
    <nodeSuccessors name="next" next="Join10"/>
  </nodes>
<!--@Location 2,31-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode12" strict="true" name="UpdateProductSearchIndexes"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode66"/>
    <parameters name="SourceDomain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 2,32-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode66">
    <nodeSuccessors name="next" next="GetSharingTargetDomains0"/>
    <parameterBindings name="Domain" objectPath="SourceDomain"/>
    <startNode referencedName="This:UpdateProductSearchIndexesInDomain"/>
  </nodes>
<!--@Location 2,33-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetSharingTargetDomains0">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetSharingTargetDomains.xml"/>
    <nodeSuccessors name="next" next="LoopNode3"/>
    <parameterBindings name="SharingSourceDomain" objectPath="SourceDomain"/>
  </nodes>
<!--@Location 2,34-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode3" loop="SharingTargetDomains">
    <nodeSuccessors name="next" next="EndNode16"/>
    <entry key="SharingTargetDomain">
      <nodeSuccessors name="loop_entry_next" next="CallNode67"/>
    </entry>
  </nodes>
<!--@Location 2,35-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode67">
<!--@BendPoints 3,71 3,69-->
    <nodeSuccessors name="next" next="LoopNode3_Entry"/>
    <parameterBindings name="Domain" objectPath="SharingTargetDomain"/>
    <startNode referencedName="This:UpdateProductSearchIndexesInDomain"/>
  </nodes>
<!--@Location 3,34-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode16" strict="true"/>
<!--@Location 4,31-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode10" strict="true" name="UpdateProductSearchIndexesInDomain"
      callMode="Private">
    <nodeSuccessors name="next" next="UpdateMapping0"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 4,32-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateMapping0">
    <configurationValues name="Mode" value="Add"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/UpdateMapping.xml"/>
    <nodeSuccessors name="next" next="GetSearchIndexesByDomainAndFeatureID0"/>
    <parameterBindings name="InMap" nullBinding="true"/>
    <parameterBindings name="Key" nullBinding="true"/>
    <parameterBindings name="Value" nullBinding="true"/>
    <returnValueBindings name="Keys" nullBinding="true"/>
    <returnValueBindings name="OutMap" objectPath="ImportHandlerContext"/>
    <returnValueBindings name="Values" nullBinding="true"/>
  </nodes>
<!--@Location 4,33-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetSearchIndexesByDomainAndFeatureID0">
    <pipelet href="enfinity:/bc_search/pipelets/GetSearchIndexesByDomainAndFeatureID.xml"/>
    <nodeSuccessors name="next" next="SetDictionaryValue0"/>
    <parameterBindings name="FeatureID" constant="SFProductSearch.solr"/>
  </nodes>
<!--@Location 4,34-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue0">
    <configurationValues name="Name" value="SearchIndexProcessAction"/>
    <configurationValues name="Value" value="Rebuild"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="LoopNode0"/>
  </nodes>
<!--@Location 4,35-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode0" loop="SearchIndexes">
    <nodeSuccessors name="next" next="EndNode15"/>
    <entry key="SearchIndex">
      <nodeSuccessors name="loop_entry_next" next="CallNode65"/>
    </entry>
  </nodes>
<!--@Location 4,36-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode65">
    <nodeSuccessors name="next" next="GetSearchIndexImportHandler0"/>
    <parameterBindings name="ObjectsToRemove&lt;java.util.Iterator>" nullBinding="true"/>
    <parameterBindings name="SearchIndexID" objectPath="SearchIndex:IndexID"/>
    <parameterBindings name="SearchIndexProcessAction" objectPath=""/>
    <parameterBindings name="UnitName" objectPath="Domain:DomainName"/>
    <startNode referencedName="ProcessSearchIndex-InitRebuildIndex"/>
    <returnValueBindings name="SearchIndexImportHandler" nullBinding="true"/>
  </nodes>
<!--@Location 4,37-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetSearchIndexImportHandler0">
    <pipelet href="enfinity:/bc_search/pipelets/GetSearchIndexImportHandler.xml"/>
    <nodeSuccessors name="next" next="JoinNode32"/>
<!--@BendPoints 10,77-->
    <nodeSuccessors name="pipelet_error" next="JoinNode32"/>
    <parameterBindings name="Context" nullBinding="true"/>
    <parameterBindings name="ImportMode" constant="update"/>
  </nodes>
<!--@Location 4,38-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode32">
    <nodeSuccessors name="next" next="CallNode63"/>
  </nodes>
<!--@Location 4,39-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode63">
    <nodeSuccessors name="next" next="JoinNode31"/>
    <startNode referencedName="ProcessSearchIndex-GetObjectsToRemovePageable"/>
  </nodes>
<!--@Location 4,40-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode31">
    <nodeSuccessors name="next" next="RemoveObjectsFromSearchIndex0"/>
  </nodes>
<!--@Location 4,41-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveObjectsFromSearchIndex0">
    <pipelet href="enfinity:/bc_search/pipelets/RemoveObjectsFromSearchIndex.xml"/>
    <nodeSuccessors name="next" next="SwitchToNextPage0"/>
    <parameterBindings name="Objects" objectPath="ObjectsToRemove"/>
  </nodes>
<!--@Location 4,42-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SwitchToNextPage0">
    <pipelet href="enfinity:/bc_foundation/pipelets/SwitchToNextPage.xml"/>
<!--@BendPoints 11,85 11,81-->
    <nodeSuccessors name="next" next="JoinNode31"/>
    <nodeSuccessors name="pipelet_error" next="CallNode62"/>
    <parameterBindings name="PageableIterator" objectPath="ObjectsToRemove"/>
  </nodes>
<!--@Location 4,43-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode62">
<!--@BendPoints 7,87 7,71 8,71-->
    <nodeSuccessors name="next" next="LoopNode0_Entry"/>
    <startNode referencedName="ProcessSearchIndex-PostRebuildIndex"/>
  </nodes>
<!--@Location 5,35-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode15" strict="true"/>
<!--@Location 3,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start1" name="UpdateStandardAttributes"
      callMode="Private">
    <nodeSuccessors name="next" next="Pipelet7"/>
  </nodes>
<!--@Location 3,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet7">
    <configurationValues name="Name" value="ProcessName"/>
    <configurationValues name="Value" value="BatchProcess"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="Pipelet1"/>
  </nodes>
<!--@Location 3,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet1">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="CallNode1"/>
    <parameterBindings name="InValue_1" objectPath="JobConfiguration:Domain"/>
    <returnValueBindings name="OutValue_1" objectPath="PreferenceDomain"/>
  </nodes>
<!--@Location 3,3-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode1">
    <nodeSuccessors name="next" next="Loop1" action="begin"/>
    <startNode referencedName="ProcessProductHistory-PrepareData"/>
  </nodes>
<!--@Location 3,5-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="Loop1" loop="Objects">
    <nodeSuccessors name="next" next="End1" action="commit"/>
    <entry key="Product">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode5"/>
    </entry>
  </nodes>
<!--@Location 3,6-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode5" conditionKey="Product:Extension(&quot;PersistentObjectBOExtension&quot;)">
<!--@BendPoints 9,13-->
    <nodeSuccessors name="decision_yes" next="KeyMapper10"/>
    <nodeSuccessors name="decision_no" next="JoinNode15"/>
  </nodes>
<!--@Location 4,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper10">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="JoinNode15"/>
    <parameterBindings name="InValue_1" objectPath="Product:Extension(&quot;PersistentObjectBOExtension&quot;):PersistentObject"/>
    <returnValueBindings name="OutValue_1" objectPath="Product"/>
  </nodes>
<!--@Location 3,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode15">
    <nodeSuccessors name="next" next="CallNode17"/>
  </nodes>
<!--@Location 3,8-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode17">
    <nodeSuccessors name="next" next="CallNode2"/>
    <nodeSuccessors name="LOCKED" next="Pipelet44"/>
    <startNode referencedName="ProcessProductLock_32-CheckUnlocked"/>
  </nodes>
<!--@Location 3,9-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode2">
    <nodeSuccessors name="next" next="UpdateProduct1"/>
    <startNode referencedName="ProcessProductHistory-CreateChangeEntry"/>
  </nodes>
<!--@Location 3,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProduct1">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProduct.xml"/>
    <nodeSuccessors name="next" next="UpdateCustomAttributes1"/>
  </nodes>
<!--@Location 3,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateCustomAttributes1">
    <configurationValues name="Attribute_1_Name" value="EANCode"/>
    <configurationValues name="Attribute_1_Type" value="String"/>
    <configurationValues name="Attribute_2_Name" value="DeliveryDays"/>
    <configurationValues name="Attribute_2_Type" value="Integer"/>
    <configurationValues name="Attribute_3_Name" value="BaseUnit"/>
    <configurationValues name="Attribute_3_Type" value="String"/>
    <configurationValues name="Attribute_4_Name" value="RatioBasePackingUnit"/>
    <configurationValues name="Attribute_4_Type" value="Double"/>
    <pipelet href="enfinity:/core/pipelets/UpdateCustomAttributes.xml"/>
    <nodeSuccessors name="next" next="CallNode3"/>
    <parameterBindings name="Attribute_1_Value" objectPath="EANCode"/>
    <parameterBindings name="Attribute_2_Value" objectPath="DeliveryDays"/>
    <parameterBindings name="Attribute_3_Value" objectPath="BaseUnit"/>
    <parameterBindings name="Attribute_4_Value" objectPath="RatioBasePackingUnit"/>
    <parameterBindings name="ExtensibleObject" objectPath="Product"/>
  </nodes>
<!--@Location 3,12-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode3">
    <nodeSuccessors name="next" next="Pipelet45"/>
    <startNode referencedName="ProcessProductHistory-UpdateChangeEntry"/>
  </nodes>
<!--@Location 3,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet45">
    <configurationValues name="Key" value="Result"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/RemoveDictionaryValue.xml"/>
<!--@BendPoints 7,28 5,28-->
    <nodeSuccessors name="next" next="JoinNode2"/>
  </nodes>
<!--@Location 2,11-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode2">
<!--@BendPoints 4,19 4,11-->
    <nodeSuccessors name="next" next="CallNode38"/>
  </nodes>
<!--@Location 2,5-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode38">
    <nodeSuccessors name="next" next="Loop1_Entry"/>
    <startNode referencedName="BatchProcessLog-LogResult"/>
  </nodes>
<!--@Location 2,9-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet44">
    <configurationValues name="Name" value="Result"/>
    <configurationValues name="Value" value="Locked"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode2"/>
  </nodes>
<!--@Location 4,5-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End1"/>
</pipeline:Pipeline>
