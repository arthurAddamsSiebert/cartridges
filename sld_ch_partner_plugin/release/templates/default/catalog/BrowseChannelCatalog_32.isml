<iscontent type="text/html" charset="UTF-8" compact="true">
<!-- TEMPLATENAME: CatalogCategory.isml -->
<!-- Working Area -->
<!-- Page Navigator -->
<isif condition="#Category:isRootCategory#">
	<isset name="CatDisplayName" value="#Catalog:DisplayName#" scope="request">
<iselse>
	<ISCategoryDisplayName Category="#Category#" UseIDFallback="true" SkipPrint="true" CatDisplayNameResult="CatDisplayName">
</isif>
	<ISBreadcrumbTrail listview="true" id="#Category:UUID.'-Browse'#" link="#URL(Action('ViewChannelCatalog_32-Dispatch'),Parameter('CatalogCategoryID',CatalogCategoryID),Parameter('CatalogID', Catalog:Id),Parameter('ChannelID',ChannelID), Parameter('HideEmpty', HideEmpty))#" text="#CatDisplayName#">
<!-- EO Page Navigator -->
	<!-- Checks if the category has dynamic product binding (SQD in the current channel domain) -->
<ISCreateMap mapname="GetSQDByNameParamMap" key0="Name" value0="#Category:SearchQueryDefinitionName#">
<ispipeline
  pipeline="ProcessSearchQueryDefinitionBySearchIndex-GetCategorySQDByName"
  params="#GetSQDByNameParamMap#"
  alias="GetSQDByNameResultDict" />



<isform action="#URL(Action('ViewChannelCategory_32-Edit'))#" method="post" name="rootCategoryForm">
	<table border="0" cellspacing="0" cellpadding="4" width="100%" class="infobox aldi">
		<tr>
			<td nowrap="nowrap" class="infobox_title"><ISCategoryDisplayName Category="#Category#" UseIDFallback="true"></td>
			<td width="100%" valign="bottom">
				<isif condition="#Category:isOnline#"><img src="#WebRoot()#/images/status_online.gif" alt="#localizeText('BrowseChannelCatalog_32.Online.alt')#" border="0"/></isif>&nbsp;<isif condition="#Category:ProductBindingType == 1#"><img src="#WebRoot()#/images/status_implicitly_bound.gif" alt="#localizeText('BrowseChannelCatalog_32.ImplicitProductBinding.alt')#" border="0"/></isif>
				<isif condition="#isDefined( GetSQDByNameResultDict:SearchQueryDefinition )#"><img src="#WebRoot()#/images/status_implicitly_bound.gif" alt="#localizeText('BrowseChannelCatalog_32.DynamicProductBinding.alt')#" title="#localizeText('BrowseChannelCatalog_32.DynamicProductBinding.title')#" border="0"/></isif>
			</td>
			
		</tr>
		<tr>
			<td class="infobox_description" width="100%" colspan="2"><isif condition="#Category:Description NE ''#"><isprint value="#Category:Description#"><iselse>&nbsp;
				<isif condition="#isDefined( GetSQDByNameResultDict:SearchQueryDefinition )#">
				  <istext key="BrowseChannelCatalog_32.ThisCategoryUsesDynamicProductBinding.infobox_description" encoding="off"/>
				</isif>
			</td></isif>
			<td align="right">
				<table border="0" cellspacing="4" cellpadding="0">
					<tr>
						<td class="button"><input type="hidden" name="ChannelID" value="#CurrentChannel:UUID#"/><input type="hidden" name="CatalogID" value="<isprint value="#Catalog:Id#">"/><input type="hidden" name="ParentCategoryID" value="#Category:Parent:UUID#"/><input type="hidden" name="CatalogCategoryID" value="#Category:UUID#"/><input type="submit" name="edit" value="<isif condition="#(isDefined(CurrentChannelPermissionMap:SLD_MANAGE_CATALOGS) AND NOT(Catalog:isProxy))#">#localizeText('BrowseChannelCatalog_32.EditProperties.button')#<iselse>#localizeText('BrowseChannelCatalog_32.ViewProperties.button')#</isif>" class="button"/></td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
</isform>
<!--- category tree --->
<isif condition="#(Catalog:TypeCode EQ '2') AND (NOT Category:isRootCategory)#"><!--- only for classification catalogs with parent categories--->
	<table border="0" cellspacing="0" cellpadding="5" width="100%" class="infobox w e s">
		<isset scope="request" name="level" value="#0#">
		<isloop iterator="CategoriesPath" alias="Cat">
			<tr>
				<isif condition="#isDefined (Catalog:ClassificationSystem)#">
					<td class="infobox_description" style="padding-left:#Val(level * 13)+4#px;">
						<isif condition="#level == 0#">
							<istext key="BrowseChannelCatalog_32.Catalog.infobox_description" encoding="off"/>:
						<iselse>
							<%int level = ((Double)getObject("level")).intValue();%>
							<%=((com.intershop.component.mvc.capi.catalog.ClassificationSystem)getObject("Catalog:ClassificationSystem")).getLevelName(level) %>
						</isif>
					</td>
				</isif>
				<td class="infobox_description" width="90%" style="padding-left:#Val(level * 13)+4#px;">
					<isif condition="#Cat:ID NE Category:UUID#">
						<a href="#URL(Action('ViewChannelCatalog_32-Browse'), Parameter('CatalogCategoryID',Cat:ID), Parameter('CatalogID',Catalog:Id), Parameter('ChannelID',ChannelID), Parameter('HideEmpty', HideEmpty))#" class="infobox_link"><isprint value="#pad (Cat:Name, level*2)#">&nbsp;<ISCatalogCategoryBODisplayName CatalogCategoryBO="#Cat#" UseIDFallback="true"></a>
					<iselse>
						<isprint value="#pad (Cat:Name, level*2)#">&nbsp;<ISCatalogCategoryBODisplayName CatalogCategoryBO="#Cat#" UseIDFallback="true">
					</isif>
				</td>
			</tr>
			<isset scope="request" name="level" value="#level + 1#">
		</isloop>
		<tr><td colspan="2"><img src="#WebRoot()#/images/space.gif" width="1" height="1" alt="" border="0"/></td></tr>
	</table>
</isif>

<div><img src="#WebRoot()#/images/space.gif" width="1" height="6" alt="" border="0"/></div>
	<!-- Main Content -->
	<!-- Subcategories -->
<isform action="#URL(Action('ViewChannelCatalog_32-Dispatch'))#" method="post" name="deleteCategoryForm">
	<table cellpadding="0" cellspacing="0" border="0" width="100%">
		<tr>
			<td class="table_title aldi" nowrap="nowrap"><istext key="BrowseChannelCatalog_32.Categories.table_title" encoding="off"/></td>
		</tr>
		<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_CATALOGS)#">
			<!-- delete confirmation for sub-categories -->
			<isif condition="#isDefined(confirmCategoriesDelete) AND (hasLoopElements(SortedCategoryUUIDIterator) OR hasLoopElements(UnsortedCategoryUUIDIterator))#">
				<ISMessageBox subject="categorie"
								type="mdc"
								okbtnname="deleteCategories"
								cancelbtnname="cancelDeleteCategory"
								parametername1="CatalogCategoryID"
								parametervalue1="#Category:UUID#"
								parametername2="CatalogID"
								parametervalue2="#Catalog:Id#">
			</isif>
			<!-- delete confirmation if nothing is selected-->
			<isif condition="#isDefined(confirmCategoriesDelete) AND NOT hasLoopElements(SortedCategoryUUIDIterator) AND NOT hasLoopElements(UnsortedCategoryUUIDIterator)#">
				<ISMessageBox subject="categorie" type="mde">
			</isif>
			<isif condition="#isDefined(copyCategories) and not(hasLoopElements(CategoryUUIDIterator))#">
				<ISMessageBox type="nse" message="#localizeText('BrowseChannelCatalog_32.YouHaveNotSelectedAnythingSelectAtLeastOneCategory.message')#">	 
			</isif>
			<isif condition="#isDefined(sortCategories) AND (NOT(hasElements(UnsortedCategoryUUIDIterator)))#">
				<tr>
					<td class="w e s">
						<table border="0" cellspacing="0" cellpadding="4" width="100%" class="error_box">
							<tr>
								<td class="error_icon e"><img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/></td>
								<td class="error" width="100%"><istext key="BrowseChannelCatalog_32.SelectAtLeastOneUnsortedCategoryAndClickSortAgain.error" encoding="off"/></td>
							</tr>
						</table>
					</td>
				</tr>
			</isif>
			<isif condition="#isDefined(unsortCategories) AND (NOT(hasElements(SortedCategoryUUIDIterator)))#">
				<tr>
					<td class="w e s">
						<table border="0" cellspacing="0" cellpadding="4" width="100%" class="error_box">
							<tr>
								<td class="error_icon e"><img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/></td>
								<td class="error" width="100%">
									<istext key="BrowseChannelCatalog_32.SelectAtLeastOneSortedCategoryAndClickUnsortAgain.error" encoding="off"/>
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</isif>
			<isif condition="#(isDefined(ERROR_SELECTION_MOVE_CATEGORY_UP) OR isDefined(ERROR_SELECTION_MOVE_CATEGORY_DOWN)) AND (NOT(hasElements(SortedCategoryUUIDIterator)))#">
				<tr>
					<td class="w e s">
						<table border="0" cellspacing="0" cellpadding="4" width="100%" class="error_box">
							<tr>
								<td class="error_icon e"><img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/></td>
								<td class="error" width="100%">
									<isif condition="#isDefined(ERROR_SELECTION_MOVE_CATEGORY_UP)#">
										<istext key="BrowseChannelCatalog_32.YouHaveNotSelectedAnythingSelectAtLeastOneSorted.error" encoding="off"/>
									<iselse>
										<istext key="BrowseChannelCatalog_32.YouHaveNotSelectedAnythingSelectAtLeastOneSorted.error2" encoding="off"/>
									</isif>
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</isif>
		</isif>
		<isif condition="#hasElements(SubCategories)#">
			<tr>
				<td class="table_title_description w e s"><istext key="BrowseChannelCatalog_32.TheseCategoriesAreCustomCategoriesCreatedHere.table_title_description" encoding="off"/></td>
			</tr>
		</isif>
	</table>
</isform>

	<!-- SUB CATEGORIES -->
<isform action="#URL(Action('ViewChannelCatalog_32-Dispatch'))#" method="post" name="CategoryForm">
	<input type="hidden" name="SubCategoryFormSubmitted" value="true"/>
	<input type="hidden" name="ChannelID" value="#CurrentChannel:UUID#"/>
	<input type="hidden" name="CatalogID" value="<isprint value="#Catalog:Id#">"/>
	<isif condition="#hasLoopElements(SubCategories)#">
		<table width="100%" border="0" cellspacing="0" cellpadding="0" class="w">
			<isif condition="#(NOT Catalog:isProxy)#">
			<!--- count subcategories with position attribute --->
				<isset scope="request" name ="CategoryRowSpan" value="#0#">
				<isloop iterator="SubCategories" alias = "SubCategory">
					<isif condition="#NOT SubCategory:PositionNull#">
						<isset scope="request" name ="CategoryRowSpan" value="#CategoryRowSpan + 1#">
					</isif>
				</isloop>
				<tr>
					<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_CATALOGS)#">
						<td class="table_header e s" nowrap="nowrap" width="80">
							<div id="A">
								<table border="0" cellspacing="0" cellpadding="0" class="table_header center" width="80">
									<tr>
										<td nowrap="nowrap">
										<a href="javascript:selectAll('CategoryForm','CategoryUUID','A','B');" class="tableheader"><istext key="BrowseChannelCatalog_32.SelectAll.link" encoding="off"/></a>
										</td>
									</tr>
								</table>
							</div>
							<div id="B" style="display:none">
								<table border="0" cellspacing="0" cellpadding="0" class="table_header center" width="80">
									<tr>
										<td nowrap="nowrap">
										<a href="javascript:selectAll('CategoryForm','CategoryUUID','A','B');" class="tableheader"><istext key="BrowseChannelCatalog_32.ClearAll.link" encoding="off"/></a>
										</td>
									</tr>
								</table>
							</div>
						</td>
					</isif>
					<td class="table_header e s" nowrap="nowrap"><istext key="BrowseChannelCatalog_32.Name.table_header" encoding="off"/></td>
					<td class="table_header e s" width="20%"><istext key="BrowseChannelCatalog_32.ID.table_header" encoding="off"/></td>
					<td class="table_header e s" width="60%">
						<isif condition="#Catalog:TypeCode == 2#"><istext key="BrowseChannelCatalog_32.Keywords.table_header" encoding="off"/>
						<iselse><istext key="BrowseChannelCatalog_32.Description.table_header" encoding="off"/>
						</isif>
					</td>
					<td class="table_header e s" width="10%"><istext key="BrowseChannelCatalog_32.Actions.table_header" encoding="off"/></td>
					<!--- show 'Sorting' tab if there are any subcategories with position attribute --->
					<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_CATALOGS) AND (CategoryRowSpan > 0)#">
						<td class="table_header e s left" nowrap="nowrap"><istext key="BrowseChannelCatalog_32.Sorting.table_header" encoding="off"/></td>
					</isif>
				</tr>
			<iselse>
				<tr>
					<td class="table_header e s" nowrap="nowrap"><istext key="BrowseChannelCatalog_32.Name.table_header" encoding="off"/></td>
					<td class="table_header e s" width="20%"><istext key="BrowseChannelCatalog_32.ID.table_header" encoding="off"/></td>
					<td class="table_header e s" width="60%">
						<isif condition="#Catalog:TypeCode == 2#"><istext key="BrowseChannelCatalog_32.Keywords.table_header" encoding="off"/>
						<iselse><istext key="BrowseChannelCatalog_32.Description.table_header" encoding="off"/>
						</isif>
					</td>
					<td class="table_header e s" width="10%"><istext key="BrowseChannelCatalog_32.Actions.table_header" encoding="off"/></td>
				</tr>
			</isif>
			<isset scope="request" name ="StartCategorySorted" value="False">
			<isset scope="request" name ="StartCategoryUnsorted" value="False">
			<isloop iterator="SubCategories" alias="SubCategory">
				<isif condition="#(NOT Catalog:isProxy)#">
					<!--- show sorted categories --->
					<!--- add sorting column if there are subcategories with position attribute --->
					<isif condition="#NOT SubCategory:PositionNull#">
						<tr>
							<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_CATALOGS)#">
								<td class="table_detail2 top e s center">
									<input type="checkbox" name="SelectedSortedCategoryUUID" value="#SubCategory:ID#"	<isif condition="#isDefined(SortedCategoryClipboard) AND (SortedCategoryClipboard:contains(SubCategory:ID))#">checked="checked"</isif>/>
									<input type="hidden" name="SortedCategoryUUID" value="#SubCategory:ID#"/>
								</td>
							</isif>
							<td class="table_detail2 bold top e s" nowrap="nowrap">
								<ISCatalogCategoryBODisplayName DetailLink="#URL(Action('ViewChannelCatalog_32-Browse'), Parameter('CatalogCategoryID',SubCategory:ID),Parameter('CatalogID', Catalog:Id), Parameter('HideEmpty', HideEmpty))#" CatalogCategoryBO="#SubCategory#" UseIDFallback="true">&nbsp;<isif condition="#SubCategory:isOnline#"><img src="#WebRoot()#/images/status_online.gif" alt="#localizeText('BrowseChannelCatalog_32.Online.alt')#" border="0"/></isif><isif condition="#SubCategory:ProductBindingType == 1#"><img src="#WebRoot()#/images/status_implicitly_bound.gif" alt="#localizeText('BrowseChannelCatalog_32.ImplicitProductBinding.alt')#" border="0"/></isif>
							</td>
							<td class="table_detail2 bold top e s" nowrap="nowrap">
								<a href="#URL(Action('ViewChannelCatalog_32-Browse'), Parameter('CatalogCategoryID',SubCategory:ID),Parameter('CatalogID', Catalog:Id), Parameter('HideEmpty', HideEmpty))#" class="table_detail_link"><isprint value="#SubCategory:Name#"></a>&nbsp;<isif condition="#SubCategory:isOnline#"><img src="#WebRoot()#/images/status_online.gif" alt="#localizeText('BrowseChannelCatalog_32.Online.alt')#" border="0"/></isif><isif condition="#SubCategory:ProductBindingType == 1#"><img src="#WebRoot()#/images/status_implicitly_bound.gif" alt="#localizeText('BrowseChannelCatalog_32.ImplicitProductBinding.alt')#" border="0"/></isif>
							</td>
							<td class="table_detail2 e s">
								<isif condition="#SubCategory:Description NE ''#">
									<isprint value="#SubCategory:Description#">
								<iselse>
									<isif condition="#Catalog:TypeCode == 2#">
										<istext key="BrowseChannelCatalog_32.ThereAreNoKeywordsAvailable.catalog_description" encoding="off"/>
									<iselse>
										&nbsp;
									</isif>
								</isif>
							</td>
							<td class="table_detail2 top e s center">
								<a href="#URL(Action('ViewChannelCatalog_32-Dispatch'), Parameter('editCategory',''),Parameter('SubCatalogCategoryID',SubCategory:ID), Parameter('ChannelID', ChannelID),Parameter('CatalogID', Catalog:Id))#">
								<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_CATALOGS)#"><img src="#WebRoot()#/images/edit_category.png" alt="#localizeText('BrowseChannelCatalog_32.Edit.alt')#" title="#localizeText('BrowseChannelCatalog_32.Edit.title')#" border="0"/>
								<iselse><img src="#WebRoot()#/images/view_catalog.png" alt="#localizeText('BrowseChannelCatalog_32.View.alt')#" title="#localizeText('BrowseChannelCatalog_32.View.title')#" border="0"/>
								</isif>
								</a>
							</td>
							<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_CATALOGS) AND (StartCategorySorted EQ 'False')#">
								<td class="table_detail2 top e s center sort" nowrap="nowrap" rowspan="<isprint value = "#CategoryRowSpan#" style="INTEGER">">
									<table border="0" cellpadding="0" cellspacing="0" align="center">
										<tr>
											<td><input type="image" name="moveCategoriesUp" src="#WebRoot()#/images/sort_up.gif" alt=""/></td>
										</tr>
										<tr><td><img src="#WebRoot()#/images/space.gif" width="1" height="4" alt="" border="0"/></td></tr>
										<tr>
											<td><input type="image" name="moveCategoriesDown" src="#WebRoot()#/images/sort_down.gif" alt=""/></td>
										</tr>
									</table>
								</td>
								<isset scope="request" name="StartCategorySorted" value="True">
							</isif>
						</tr>
					<!--- show unsorted categories --->
					<iselse>
						<isif condition="#(StartCategorySorted EQ 'True') AND(StartCategoryUnsorted EQ 'False')#">
							<tr>
								<td class="e s" colspan="6"><img src="#WebRoot()#/images/space.gif" width="1" height="2" alt="" border="0"/></td>
							</tr>
						</isif>
						<isset scope="request" name="StartCategoryUnsorted" value="True">
						<tr>
							<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_CATALOGS)#">
								<td class="table_detail e s center">
									<input type="hidden" name="UnsortedCategoryUUID" value="#SubCategory:ID#"/>
									<input type="checkbox" name="SelectedUnsortedCategoryUUID" value="#SubCategory:ID#"	<isif condition="#isDefined(UnsortedCategoryClipboard) AND (UnsortedCategoryClipboard:contains(SubCategory:ID))#">checked="checked"</isif>/>
								</td>
							</isif>
							<td class="table_detail e s" nowrap="nowrap"><ISCatalogCategoryBODisplayName DetailLink="#URL(Action('ViewChannelCatalog_32-Browse'), Parameter('CatalogCategoryID',SubCategory:ID),Parameter('CatalogID', Catalog:Id), Parameter('HideEmpty', HideEmpty), Parameter('ParentPage', ParentPage.','.CategoryPageLocator:PageNumber))#" CatalogCategoryBO="#SubCategory#" UseIDFallback="true">&nbsp;<isif condition="#SubCategory:isOnline#"><img src="#WebRoot()#/images/status_online.gif" alt="#localizeText('BrowseChannelCatalog_32.Online.alt')#" border="0"/></isif><isif condition="#SubCategory:ProductBindingType == 1#"><img src="#WebRoot()#/images/status_implicitly_bound.gif" alt="#localizeText('BrowseChannelCatalog_32.ImplicitProductBinding.alt')#" border="0"/></isif></td>
							<td class="table_detail e s" nowrap="nowrap"><a href="#URL(Action('ViewChannelCatalog_32-Browse'), Parameter('CatalogCategoryID',SubCategory:ID),Parameter('CatalogID', Catalog:Id), Parameter('HideEmpty', HideEmpty), Parameter('ParentPage', ParentPage.','.CategoryPageLocator:PageNumber))#" class="table_detail_link"><isprint value="#SubCategory:Name#"></a>&nbsp;<isif condition="#SubCategory:isOnline#"><img src="#WebRoot()#/images/status_online.gif" alt="#localizeText('BrowseChannelCatalog_32.Online.alt')#" border="0"/></isif><isif condition="#SubCategory:ProductBindingType == 1#"><img src="#WebRoot()#/images/status_implicitly_bound.gif" alt="#localizeText('BrowseChannelCatalog_32.ImplicitProductBinding.alt')#" border="0"/></isif></td>
							<td class="catalog_description e s">
								<isif condition="#SubCategory:Description NE ''#">
									<isprint value="#SubCategory:Description#">
								<iselse>
									<isif condition="#Catalog:TypeCode == 2#">
										<istext key="BrowseChannelCatalog_32.ThereAreNoKeywordsAvailable.catalog_description" encoding="off"/>
									<iselse>
										&nbsp;
									</isif>
								</isif>
							</td>
							<td class="table_detail top e s center">
								<a href="#URL(Action('ViewChannelCatalog_32-Dispatch'), Parameter('editCategory',''),Parameter('SubCatalogCategoryID',SubCategory:ID), Parameter('ChannelID', ChannelID),Parameter('CatalogID', Catalog:Id))#">
								<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_CATALOGS)#"><img src="#WebRoot()#/images/edit_category.png" alt="#localizeText('BrowseChannelCatalog_32.Edit.alt')#" title="#localizeText('BrowseChannelCatalog_32.Edit.title')#" border="0"/>
								<iselse><img src="#WebRoot()#/images/view_catalog.png" alt="#localizeText('BrowseChannelCatalog_32.View.alt')#" title="#localizeText('BrowseChannelCatalog_32.View.title')#" border="0"/>
								</isif>
								</a>
							</td>
							<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_CATALOGS) AND (CategoryRowSpan > 0)#">
								<td class="table_detail top e s center">&nbsp;</td>
							</isif>
						</tr>
					</isif>
				<iselse>
					<tr>
						<td class="e s">
							<table width="100%" border="0" cellspacing="0" cellpadding="0">
								<tr>
									<td class="table_detail" nowrap="nowrap"><a href="#URL(Action('ViewChannelCatalog_32-Browse'), Parameter('CatalogCategoryID',SubCategory:ID), Parameter('ChannelID', ChannelID),Parameter('CatalogID', Catalog:Id), Parameter('HideEmpty', HideEmpty))#" class="table_detail_link"><ISCategoryDisplayName Category="#SubCategory#" UseIDFallback="true"></a></td>
									<td width="100%"><isif condition="#SubCategory:isOnline#"><img src="#WebRoot()#/images/status_online.gif" alt="#localizeText('BrowseChannelCatalog_32.Online.alt')#" border="0"/></isif><isif condition="#SubCategory:ProductBindingType == 1#"><img src="#WebRoot()#/images/status_implicitly_bound.gif" alt="#localizeText('BrowseChannelCatalog_32.ImplicitProductBinding.alt')#" border="0"/></isif></td>
								</tr>
							</table>
						</td>
						<td class="table_detail3 top e s" nowrap="nowrap"><a href="#URL(Action('ViewChannelCatalog_32-Browse'), Parameter('CatalogCategoryID',SubCategory:ID), Parameter('ChannelID', ChannelID),Parameter('CatalogID', Catalog:Id), Parameter('HideEmpty', HideEmpty))#" class="table_detail_link"><isprint value="#SubCategory:Name#"></a>&nbsp;<isif condition="#SubCategory:isOnline#"><img src="#WebRoot()#/images/status_online.gif" alt="#localizeText('BrowseChannelCatalog_32.Online.alt')#" title="#localizeText('BrowseChannelCatalog_32.Online.title')#" border="0"/></isif>
							<isif condition="#isDefined(GetSubCategorySQDByNameResultDict:SearchQueryDefinition)#"><img src="#WebRoot()#/images/status_implicitly_bound.gif" alt="#localizeText('BrowseChannelCatalog_32.DynamicProductBinding.alt')#" title="#localizeText('BrowseChannelCatalog_32.DynamicProductBinding.title')#" border="0"/></isif>
						</td>						
						<td class="catalog_description e s">
							<isif condition="#SubCategory:Description NE ''#">
								<isprint value="#SubCategory:Description#">
							<iselse>
								<isif condition="#Catalog:TypeCode == 2#">
									<istext key="BrowseChannelCatalog_32.ThereAreNoKeywordsAvailable.catalog_description" encoding="off"/>
								<iselse>
									&nbsp;
								</isif>
							</isif>
						</td>
						<td class="table_detail2 top e s center">
							<a href="#URL(Action('ViewChannelCatalog_32-Dispatch'), Parameter('editCategory',''),Parameter('SubCatalogCategoryID',SubCategory:ID), Parameter('ChannelID', ChannelID),Parameter('CatalogID', Catalog:Id))#">
      						<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_CATALOGS) AND (NOT Catalog:isProxy) AND ((not isdefined(Catalog:ClassificationSystem)) or (Catalog:ClassificationSystem:Name NE 'System'))#"><img src="#WebRoot()#/images/edit_category.png" alt="#localizeText('BrowseChannelCatalog_32.Edit.alt')#" title="#localizeText('BrowseChannelCatalog_32.Edit.title')#" border="0"/><iselse><img src="#WebRoot()#/images/view_catalog.png" alt="#localizeText('BrowseChannelCatalog_32.View.alt')#" title="#localizeText('BrowseChannelCatalog_32.View.title')#" border="0"/></isif>
							</a>
						</td>
					</tr>
				</isif>
			</isloop>
		</table>
		<isif condition="#(NOT Catalog:isProxy) OR (Catalog:TypeCode == 2)#">
			<table width="100%" border="0" cellspacing="0" cellpadding="0" class="w e s">
				<tr>
					<isif condition="#Catalog:TypeCode == 2#">
						<td align="left">
							<table border="0" cellspacing="4" cellpadding="0">
								<tr>
									<td class="button">
										<input type="hidden" name="CatalogCategoryID" value="<isprint value="#Category:UUID#">"/>
										<isif condition="#isDefined(hide) AND isDefined(HideEmpty) AND (HideEmpty EQ 'on')#">
											<input type="hidden" name="HideEmpty" value="off"/>
											<input type="submit" name="show" value="#localizeText('BrowseChannelCatalog_32.ShowEmptyClassifications.button')#" class="button"/>
										<iselseif condition="#hasLoopElements(SubCategories)#">
											<input type="hidden" name="HideEmpty" value="on"/>
											<input type="submit" name="hide" value="#localizeText('BrowseChannelCatalog_32.HideEmptyClassifications.button')#" class="button"/>
										</isif>
									</td>
								</tr>
							</table>
						</td>
					</isif>
					<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_CATALOGS) AND (NOT Catalog:isProxy)#">
						<td align="right" width="100%">
							<table border="0" cellspacing="4" cellpadding="0">
								<tr>
									<td class="button">
										<input type="submit" name="sortCategories" value="#localizeText('BrowseChannelCatalog_32.Sort.button')#" class="button" <isif condition="#StartCategoryUnsorted EQ 'False'#">disabled="disabled"</isif>/>
									</td>
									<td class="button">
										<input type="submit" name="unsortCategories" value="#localizeText('BrowseChannelCatalog_32.Unsort.button')#" class="button" <isif condition="#CategoryRowSpan == 0#">disabled="disabled"</isif> />
									</td>
									<isif condition="#(not isdefined(Catalog:ClassificationSystem)) or (Catalog:ClassificationSystem:Name NE 'System')#">
										<td class="button">
											<input type="hidden" name="CatalogID" value="<isprint value="#Catalog:Id#">"/>
											<input type="hidden" name="ChannelID" value="#CurrentChannel:UUID#"/>
											<input type="hidden" name="ParentCategoryID" value="#Category:UUID#"/>
											<input type="submit" name="newCategory" value="#localizeText('BrowseChannelCatalog_32.New.button')#" class="button"/>
										</td>
										<td class="button">
											<input type="hidden" name="NewCategoryNamePrefix" value="Copy of "/>
											<input type="submit" name="copyCategories" value="#localizeText('BrowseChannelCatalog_32.Copy.button')#" class="button"/>
										</td>
										<td class="button">
											<input type="hidden" name="CatalogCategoryID" value="#Category:UUID#"/>
											<input type="submit" name="confirmCategoriesDelete" value="#localizeText('BrowseChannelCatalog_32.Delete.button')#" class="button"/>
										</td>
									</isif>
								</tr>
							</table>
						</td>
					</isif>
				</tr>
			</table>
		</isif>
		<div><img src="#WebRoot()#/images/space.gif" width="1" height="6" alt="" border="0"/></div>
		<table width="100%" border="0" cellspacing="0" cellpadding="0">
			<tr>
				<td width="100%">
					<ISPagingBar pageable="SubCategories"><input type="hidden" name="CatalogID" value="<isprint value="#Catalog:Id#">"/>
				</td>
			</tr>
		</table>
	<iselse>
		<isif condition="#(NOT Catalog:isProxy) OR (Catalog:TypeCode == 2)#">
			<table width="100%" border="0" cellspacing="0" cellpadding="0"
				class="w e s">
				<tr>
					<td class="table_detail">
						<isif condition="#isDefined(hide) AND isDefined(HideEmpty) AND (HideEmpty EQ 'on')#">
							<istext key="BrowseChannelCatalog_32.ThisCategoryDoesNotContainAnyNonEmptySubCategories.table_detail" encoding="off"/>
						<iselse>
							<istext key="BrowseChannelCatalog_32.ThisCategoryDoesNotContainAnySubCategories.table_detail" encoding="off"/>
						</isif>
					</td>
				</tr>
			</table>
			<table width="100%" border="0" cellspacing="0" cellpadding="0" class="w e s">
				<tr>
					<isif condition="#Catalog:TypeCode == 2#">
						<td align="left">
							<table border="0" cellspacing="4" cellpadding="0">
								<tr>
									<td class="button">
										<input type="hidden" name="CatalogCategoryID" value="<isprint value="#Category:UUID#">"/>
										<isif condition="#isDefined(HideEmpty) AND (HideEmpty EQ 'on')#">
											<input type="hidden" name="HideEmpty" value="off"/>
											<input type="submit" name="show" value="#localizeText('BrowseChannelCatalog_32.ShowEmptyClassifications.button')#" class="button"/>
										<iselseif condition="#hasLoopElements(SubCategories)#">
											<input type="hidden" name="HideEmpty" value="on"/>
											<input type="submit" name="hide" value="#localizeText('BrowseChannelCatalog_32.HideEmptyClassifications.button')#" class="button"/>
										</isif>
									</td>
								</tr>
							</table>
						</td>
					</isif>
					<isif condition="#	isDefined(CurrentChannelPermissionMap:SLD_MANAGE_CATALOGS) AND
										(NOT Catalog:isProxy) AND
										((not isdefined(Catalog:ClassificationSystem)) or (Catalog:ClassificationSystem:Name NE 'System'))#">
						<td align="right">
							<table border="0" cellspacing="4" cellpadding="0">
								<tr>
							<td class="button">
								<input type="hidden" name="CatalogID" value="<isprint value="#Catalog:Id#">"/>
								<input type="hidden" name="ChannelID" value="#CurrentChannel:UUID#"/>
								<input type="hidden" name="ParentCategoryID" value="#Category:UUID#"/>
								<input type="submit" name="newCategory" value="#localizeText('BrowseChannelCatalog_32.New.button')#" class="button"/>
							</td>
								</tr>
							</table>
						</td>
					</isif>
				</tr>
			</table>
		<iselse>
			<table width="100%" border="0" cellspacing="0" cellpadding="0" class="w e s">
				<tr>
					<td class="table_detail" > <istext key="BrowseChannelCatalog_32.ThisCategoryDoesNotContainAnySubCategories.table_detail" encoding="off"/></td>
				</tr>
			</table>
		</isif>
	</isif>
</isform>
<div><img src="#WebRoot()#/images/space.gif" width="1" height="6" alt="" border="0"/></div>

<isform action="#URL(Action('ViewChannelCatalog_32-Dispatch'))#" method="post" name="ProductListForm" id="ProductListForm">
	<input type="hidden" name="hide" value="<isprint value="#hide#"/>">
	<input type="hidden" name="HideEmpty" value="<isprint value="#HideEmpty#"/>">
	<table cellpadding="0" cellspacing="0" border="0" width="100%">
		<tr>
			<td class="table_title aldi" nowrap="nowrap"><istext key="BrowseChannelCatalog_32.Products.table_title" encoding="off"/></td>
		</tr>
		
		<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_CATALOGS)#">
			<isif condition="#isDefined(ConfirmProductsDelete) and (hasLoopElements(SelectedObjectUUIDs) or hasLoopElements(SelectedUnsortedObjectUUIDs))#">
				<tr>
					<td>
						<table width="100%" border="0" cellspacing="0" cellpadding="0">
							<ISMessageBox subject="product"
								type="mdc"
								okbtnname="deleteProducts"
								cancelbtnname="cancelDeleteProducts"
								message="#localizeText('BrowseChannelCatalog_32.DeleteAllSelectedProductsNoteProduct.message')#"
								parametername1="CatalogCategoryID"
								parametervalue1="#Category:UUID#">
						</table>
					</td>
				</tr>
			</isif>
			
			<!-- delete confirmation if nothing is selected-->
			<isif condition="#isDefined(ConfirmProductsDelete) and not(hasLoopElements(SelectedObjectUUIDs) or hasLoopElements(SelectedUnsortedObjectUUIDs))#">
				<tr>
					<td>
						<table width="100%" border="0" cellspacing="0" cellpadding="0">
							<ISMessageBox subject="product" type="mde">
						</table>
					</td>
				</tr>
			</isif>

			<!-- delete confirmation if one is selected, script is found in inc/ConfirmationScript.isml-->
			<isif condition="#(isDefined(ProductDeletionFailed) AND (ProductDeletionFailed EQ 'OffersExist'))#">
				<tr>
					<td>
						<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
							<tr>
								<td class="error_icon e"><img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/></td>
								<td class="error" width="100%"><istext key="BrowseChannelCatalog_32.SomeProductsCouldNotBeDeletedBecauseTheyAreOffered.error" encoding="off"/></td>
							</tr>
						</table>
					</td>
				</tr>
			</isif>
			<isif condition="#(isDefined(ProductDeletionFailed) AND (ProductDeletionFailed EQ 'ProductReferencesExist'))#">
				<tr>
					<td>
						<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
							<tr>
								<td class="error_icon e">
									<img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/>
								</td>
								<td class="error" width="100%">
									<istext key="BrowseChannelCatalog_32.YouCannotDeleteAllOfTheSelectedItemsBecauseTheyAre.error" encoding="off"/>
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</isif>
			<isif condition="#(isDefined(ProductDeletionFailed) AND (ProductDeletionFailed EQ 'CacheClearFailed'))#">
				<tr>
					<td>
						<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
							<tr>
								<td class="error_icon e">
									<img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/>
								</td>
								<td class="error" width="100%">
									<istext key="BrowseChannelCatalog_32.TheProductSCannotBeDeletedPleaseSeeTheErrorLogFor.error" encoding="off"/>
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</isif>
		</isif>				
		
		<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_CATALOGS)#">
			<isif condition="#isDefined(ConfirmUnassignAllProducts)#">
				<tr>
					<td>
						<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
							<tr>
								<td class="error_icon middle e"><img src="#webroot()#/images/confirmation.gif" width="16" height="15" alt="" border="0"/></td>
								<td class="confirm middle" width="100%">
									<istext key="BrowseChannelCatalog_32.AreYouSureYouWantToUnassignAllProductsFromThisCate.error" encoding="off"/>
								</td>
								<td align="right">
									<table border="0" cellspacing="0" cellpadding="0">
										<tr>
											<td class="button"><input type="submit" name="StartUnassignAll" value="#localizeText('BrowseChannelCatalog_32.OK.button')#" class="button"/></td>
											<td>
												<img height="0" border="0" width="4" alt="" src="#WebRoot()#/images/space.gif"/>
												<input type="hidden" name="PageableID" value="<isprint value="#Products:ID#">"/>
												<input type="hidden" name="PageableName" value="Objects"/>
												<input type="hidden" name="CatalogCategoryID" value="<isprint value="#Category:UUID#">"/>
												<input type="hidden" name="ProcessDescription" value="Unassigning all products from category <isprint value="#Category:DisplayName#">."/>
												<input type="hidden" name="OrganizationUUID" value="#Organization:UUID#"/>
											</td>
											<td class="button"><input type="submit" name="CancelUnassign" value="#localizeText('BrowseChannelCatalog_32.Cancel.button')#" class="button"/></td>
										</tr>
									</table>
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</isif>
			<isif condition="#isDefined(ConfirmUnassignSelectedProducts)#">
				<isif condition="#hasLoopElements(SelectedObjectUUIDs)#">
					<tr>
						<td >
							<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
								<tr>
									<td class="error_icon middle e"><img src="#webroot()#/images/confirmation.gif" width="16" height="15" alt="" border="0"/></td>									
									<td width="100%">
										<table border="0" cellspacing="0" cellpadding="0" width="100%">
											<tr>												
												<td class="confirm middle" width="100%">
													<istext key="BrowseChannelCatalog_32.UnassignTheSelectedProductsFromThisCategoryNote.error" encoding="off"/>
												</td>
											</tr>
											<tr>
												<td class="confirm_subtitle middle" width="100%">
													<istext key="BrowseChannelCatalog_32.UnassignTheSelectedProductsFromThisCategoryNote.errorNote" encoding="off"/>
												</td>
											</tr>
											<tr>
												<isif condition="#isDefined(SharedPCAExists)#">
													<td class="confirm_subtitle middle" width="100%">
														<istext key="BrowseChannelCatalog_32.NoteSharedAssignmentsCannotBeRemovedInTheChannel.error" encoding="off"/>
													</td>
												</isif>
											</tr>
										</table>
									</td>
									<td align="right">
										<table border="0" cellspacing="0" cellpadding="0">
											<tr>
												<td class="button"><input type="submit" name="StartUnassignSelected" value="#localizeText('BrowseChannelCatalog_32.OK.button')#" class="button"/></td>
												<td>
													<img height="0" border="0" width="4" alt="" src="#WebRoot()#/images/space.gif"/>
													<input type="hidden" name="CatalogCategoryID" value="<isprint value="#Category:UUID#">"/>
												</td>
												<td class="button"><input type="submit" name="CancelUnassign" value="#localizeText('BrowseChannelCatalog_32.Cancel.button')#" class="button"/></td>
											</tr>
										</table>
									</td>
								</tr>
							</table>
						</td>
					</tr>
				<iselse>
					<tr>
						<td >
							<table border="0" cellspacing="0" cellpadding="4" width="100%" class="error_box w e s">
								<tr>
									<td class="error_icon middle e"><img src="#webroot()#/images/error.gif" width="16" height="15" alt="" border="0"/></td>
									<td class="error middle" width="100%">
										<istext key="BrowseChannelCatalog_32.YouHaveNotSelectedAnyProductsToBeUnassignedUseThe.error" encoding="off"/>
									</td>
								</tr>
							</table>
						</td>
					</tr>
				</isif>
			</isif>
		
			<isif condition="#isDefined(EditSelectedProducts)#">
				<isif condition="#(NOT hasLoopElements(SelectedObjectUUIDs))#">
					<tr>
						<td colspan="7">
							<table border="0" cellspacing="0" cellpadding="4" width="100%" class="error_box w e s">
								<tr>
									<td class="error_icon middle e"><img src="#webroot()#/images/error.gif" width="16" height="15" alt="" border="0"/></td>
									<td class="error middle" width="100%">
										<istext key="BrowseChannelCatalog_32.YouHaveNotSelectedAnyProductsUseTheCheckboxesTo.error" encoding="off"/>
									</td>
								</tr>
							</table>
						</td>
					</tr>
				</isif>
			</isif>
			
			<isif condition="#isDefined(LockedSKUs) AND (LockedSKUs NE '')#">
				<isif condition="#isDefined(assign)#">
					<tr>
						<td>
							<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
								<tr>
									<td class="error_icon e">
										<img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/>
									</td>
									<td class="error" width="100%">
										<istext key="BrowseChannelCatalog_32.TheFollowingProductsCouldNotBeAssignedToThis.error" encoding="off"/>: <isprint value="#LockedSKUs#"/>.
									</td>
								</tr>
							</table>
						</td>
					</tr>
				<iselseif condition="#isDefined(StartUnassignSelected)#"/>
					<tr>
						<td>
							<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
								<tr>
									<td class="error_icon e">
										<img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/>
									</td>
									<td class="error" width="100%">
										<istext key="BrowseChannelCatalog_32.TheFollowingProductsCouldNotBeUnassignedFromThis.error" encoding="off"/>: <isprint value="#LockedSKUs#"/>.
									</td>
								</tr>
							</table>
						</td>
					</tr>
				</isif>
			</isif>
			
			<isif condition="#ErrorCode EQ 'AttributesTypeConflict'#">
				<table border="0" cellspacing="0" cellpadding="4" width="100%" class="error_box w e s">
					<tr>
						<td class="error_icon top e"><img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/></td>
						<td class="error top" width="100%">
							<istext key="CatalogCategoryProducts.ProductsCouldNotBeAssignedToTheClassificationCategory.error"/>
						</td>
					</tr>
				</table>
		    </isif>
				
			<isif condition="#isDefined(AttributesWithTheSameType) AND NOT (AttributesWithTheSameType EQ '')#">
			    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			        <tr>
			            <td>
			                <table border="0" cellspacing="0" cellpadding="4" width="100%" class="error_box w e s">
			                    <tr>
									<td class="information e"><img src="#WebRoot()#/images/confirmation_info.gif" alt="#localizeText('CatalogCategoryProducts.ClassificationAttributeValuesHavePriority.info')#" border="0" align="middle"/></td>
									<td class="information" width="100%"><istext key="CatalogCategoryProducts.ClassificationAttributeValuesHavePriority.info"/></td>
			                    </tr>
			                </table>
			            </td>
			        </tr>
			    </table>
			</isif>
			
			<tr>
				<isif condition="#isDefined(GetSQDByNameResultDict:SearchQueryDefinition)#">
					<td class="table_title_description w e s">
						<istext key="BrowseChannelCatalog_32.TheListShowsAllProductsThatHaveBeenDynamically.table_title_description" encoding="off"/>
					</td>
				<iselseif condition="#hasElements(Products)#"/>
					<td class="table_title_description w e s">
						<istext key="BrowseChannelCatalog_32.TheListShowsAllProductsInThisCategory.table_title_description" encoding="off"/>
					</td>
				</isif>
			</tr>
		</isif>
	</table>

	<!--- Product List --->
	<isif condition="#hasElements(Products)#">
		<table width="100%" border="0" cellspacing="0" cellpadding="0" class="w">
			<tr>
				<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_CATALOGS)#">
					<td class=" table_header e s" nowrap="nowrap" width="80">
						<div id="C">
							<table border="0" cellspacing="0" cellpadding="0" class="table_header center" width="80">
								<tr>
									<td nowrap="nowrap">
										<a href="javascript:selectAll('ProductListForm','SelectedProductUUID','C','D');" class="tableheader"><istext key="BrowseChannelCatalog_32.SelectAll.link" encoding="off"/></a>
									</td>
								</tr>
							</table>
						</div>
						<div id="D" style="display:none">
							<table border="0" cellspacing="0" cellpadding="0" class="table_header center" width="80">
								<tr>
									<td nowrap="nowrap">
										<a href="javascript:selectAll('ProductListForm','SelectedProductUUID','C','D');" class="tableheader"><istext key="BrowseChannelCatalog_32.ClearAll.link" encoding="off"/></a>
									</td>
								</tr>
							</table>
						</div>
					</td>
				</isif>
				<td class="table_header e s left"><istext key="BrowseChannelCatalog_32.Name.table_header" encoding="off"/></td>
				<td class="table_header e s left" nowrap="nowrap"><istext key="BrowseChannelCatalog_32.ID.table_header" encoding="off"/></td>
				<td class="table_header e s left" nowrap="nowrap"><istext key="BrowseChannelCatalog_32.ManufacturerName.table_header" encoding="off"/></td>
				<td class="table_header e s left" nowrap="nowrap"><istext key="BrowseChannelCatalog_32.Supplier.table_header" encoding="off"/></td>
				<td class="table_header e s right" nowrap="nowrap"><istext key="BrowseChannelCatalog_32.ListPrice0.table_header" parameter0="#encodeValue(CurrentSession:Currency:CurrencyName)#" encoding="off"/></td>
				<td class="table_header e s left" width="5%"><istext key="BrowseChannelCatalog_32.Status.table_header" encoding="off"/></td>
				<td class="table_header e s left" width="5%"><istext key="BrowseChannelCatalog_32.Actions.table_header" encoding="off"/></td>
			</tr>
			<isloop iterator="Products" alias="ProductBO">
				<isset name="Product" value="#ProductBO:Extension("PersistentObjectBOExtension"):PersistentObject#" scope="request"/>
				<tr>
					<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_CATALOGS)#">
						<td class="e s center" width="90">
							<input type="hidden" name="ProductUUID" value="#ProductBO:ID#"/>
							<input type="checkbox" name="SelectedProductUUID" value="#ProductBO:ID#" <isif condition="#isdefined(Clipboard) AND Clipboard:contains(ProductBO:ID)#">checked="checked"</isif>/>&nbsp;
						</td>
					</isif>
					<td class="table_detail top e s left" >
						<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_VIEW_PRODUCTS)#">
							<a href="#URL(Action('ViewProduct_32-Edit'), Parameter('ChannelID', CurrentChannel:UUID), Parameter('ProductID', ProductBO:ID), Parameter('CatalogCategoryID', Category:UUID))#" class="table_detail_link"><isprint value="#ProductBO:Name#"></a>&nbsp;
						<iselse>
							<isprint value="#ProductBO:Name#">&nbsp;
						</isif>
					</td>
					<td class="table_detail top e s left" nowrap="nowrap">
						<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_VIEW_PRODUCTS)#">
							<a href="#URL(Action('ViewProduct_32-Edit'), Parameter('ChannelID', CurrentChannel:UUID), Parameter('ProductID', ProductBO:ID), Parameter('CatalogCategoryID', Category:UUID))#" class="table_detail_link"><isprint value="#ProductBO:SKU#"></a>&nbsp;
						<iselse>
							<isprint value="#ProductBO:SKU#">&nbsp;
						</isif>
					</td>
					<td class="table_detail top e s left" nowrap="nowrap"><isprint value="#ProductBO:ManufacturerName#">&nbsp;</td>
					<td class="table_detail top e s left" nowrap="nowrap"><isprint value="#ProductBO:SupplierName#">&nbsp;</td>
					<td class="table_detail top e s right" nowrap="nowrap"><isProductBOPrice ProductBO="#ProductBO#">&nbsp;</td>
					<td class="table_detail_status e s left" nowrap="nowrap" >
						<isif condition="#ProductBO:isAvailable#">
							<img src="#WebRoot()#/images/status_instock.gif" alt="#localizeText('BrowseChannelCatalog_32.InStock.alt')#" title="#localizeText('BrowseChannelCatalog_32.InStock.title')#" border="0"/>
						<iselse>
							&nbsp;
						</isif>
						<isif condition="#ProductBO:hasCatalogCategories#">
							<img src="#WebRoot()#/images/status_explicitly_bound.gif" alt="#localizeText('BrowseChannelCatalog_32.Categorized.alt')#" title="#localizeText('BrowseChannelCatalog_32.Categorized.title')#" border="0"/>
						<iselse>
							&nbsp;
						</isif>
						<isif condition="#ProductBO:getOffersCount>0#">
							<img src="#WebRoot()#/images/status_offers.gif" alt="#localizeText('BrowseChannelCatalog_32.Offered.alt')#" title="#localizeText('BrowseChannelCatalog_32.Offered.title')#" border="0"/>
						<iselse>
							&nbsp;
						</isif>
						<isif condition="#ProductBO:DerivedProduct#">
							<isif condition="#ProductBO:DerivedProductChanged#">
								<img src="#WebRoot()#/images/status_shared_product_from_m.gif" alt="#localizeText('BrowseChannelCatalog_32.SharedFromAnotherAndEdited.alt')#" title="#localizeText('BrowseChannelCatalog_32.SharedFromAnotherAndEdited.title')#" border="0"/>
							<iselse>
								<img src="#WebRoot()#/images/status_shared_product_from.gif" alt="#localizeText('BrowseChannelCatalog_32.SharedFromAnother.alt')#" title="#localizeText('BrowseChannelCatalog_32.SharedFromAnother.title')#" border="0"/>
							</isif>
						<iselse>
							&nbsp;
						</isif>
					</td>
					<td class="table_detail_status e s left" nowrap="nowrap" >
						<table width="100%" cellspacing="0" cellpadding="0" border="0">
							<tr>
								<td class="table_detail_status">
									<isinclude template="category/ProductOnlineStatus.isml">
								</td>
								<td class="table_detail_status">
									<isif condition="#ProductLockActivated EQ 'true'#">
										<isif condition="#LockingLookupHelper:isLockedForMe(Product,CurrentUser)#">
											<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_PRODUCTS)#">
												<a href="#URL(Action('ViewChannelCatalog_32-UnlockProduct'),Parameter('ProductID',ProductBO:ID), Parameter('CatalogCategoryID', CatalogCategoryID),Parameter('JumpTarget', 'ViewChannelCatalog_52-Paging'), Parameter('CatalogID',CatalogID))#">
													<img src="#WebRoot()#/images/lockedForMe.gif" alt="#localizeText('BrowseChannelCatalog_32.LockedForMe.alt')#" title="#localizeText('BrowseChannelCatalog_32.LockedForMe.title')#" border="0"/>
												</a>
											<iselse>
												<img src="#WebRoot()#/images/lockedForMe.gif" alt="#localizeText('BrowseChannelCatalog_32.LockedForMe.alt')#" title="#localizeText('BrowseChannelCatalog_32.LockedForMe.title')#" border="0"/>
											</isif>
										<iselseif condition="#LockingLookupHelper:isLockedForOther(Product,CurrentUser)#">	
											<img src="#WebRoot()#/images/lockedForOther.gif" alt="#localizeText('BrowseChannelCatalog_32.LockedByOther.alt')#" title="#localizeText('BrowseChannelCatalog_32.LockedByOther.title')#" border="0"/>
										<iselse>
											<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_PRODUCTS)#">
												<a href="#URL(Action('ViewChannelCatalog_32-LockProduct'),Parameter('ProductID',ProductBO:ID), Parameter('CatalogCategoryID', CatalogCategoryID), Parameter('CatalogID',CatalogID))#">
													<img src="#WebRoot()#/images/unlocked.gif" alt="#localizeText('BrowseChannelCatalog_32.Unlocked.alt')#" title="#localizeText('BrowseChannelCatalog_32.Unlocked.title')#" border="0"/>
												</a>
											<iselse>
												<img src="#WebRoot()#/images/unlocked.gif" alt="#localizeText('BrowseChannelCatalog_32.Unlocked.alt')#" title="#localizeText('BrowseChannelCatalog_32.Unlocked.title')#" border="0"/>
											</isif>
										</isif>
									</isif>
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</isloop>
		</table>
		<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_CATALOGS)#">
			<table width="100%" border="0" cellspacing="0" cellpadding="0">
				<tr>
					<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_BATCH_PROCESSES)#">
						<td colspan="2" align="left" class="w s">
							<table border="0" cellspacing="4" cellpadding="0">
								<tr>
									<td class="button"><input type="submit" name="EditAllProducts" value="#localizeText('BrowseChannelCatalog_32.EditAll.button')#" class="button"/></td>
									<td class="button"><input type="submit" name="EditSelectedProducts" value="#localizeText('BrowseChannelCatalog_32.EditSelected.button')#" class="button"/></td>
									<isif condition="#NOT(isDefined( GetSQDByNameResultDict:SearchQueryDefinition ))#">
										<td class="button"><input type="submit" name="ConfirmUnassignAllProducts" value="#localizeText('BrowseChannelCatalog_32.UnassignAll.button')#" class="button"/></td>
									</isif>
								</tr>
							</table>
						</td>
					<iselse>
						<td colspan="2" align="left" class="w s">
							&nbsp;
						</td>
					</isif>
					<td colspan="2" class="e s" align="right">
						<isif condition="#NOT isDefined(GetSQDByNameResultDict:SearchQueryDefinition)#">
							<table border="0" cellspacing="4" cellpadding="0">
								<tr>
									<isif condition="#(Catalog:TypeCode != 2) OR (NOT hasLoopElements(Category:SubCategories)) #"><!--- For classification catalogs check subcategories--->
										<td class="button"><input type="submit" name="AddProducts" value="#localizeText('BrowseChannelCatalog_32.Add.button')#" class="button"/></td>
									</isif>
									<td class="button"><input type="submit" name="ConfirmUnassignSelectedProducts" value="#localizeText('BrowseChannelCatalog_32.Unassign.button')#" class="button"/></td>
									<td class="button"><input type="submit" name="ConfirmProductsDelete" value="#localizeText('BrowseChannelCatalog_32.Delete.button')#" class="button"/></td>
								</tr>
							</table>
						<iselse>
							&nbsp;
						</isif>
					</td>
				</tr>
			</table>
		</isif>
		<div><img src="#WebRoot()#/images/space.gif" width="1" height="6" alt="" border="0"/></div>
		<!-- Start Page Cursor -->
		<table width="100%" border="0" cellspacing="0" cellpadding="0">
			<tr>
				<td>
					<input type="hidden" name="CatalogID" value="<isprint value="#Catalog:Id#">"/>
					<input type="hidden" name="CatalogCategoryID" value="#Category:UUID#"/>
					<ISFlexPagingBar2 pageable="Products" variablepagesize="true" rowsperpage="#RowsPerPage#">
				</td>
			</tr>
		</table>
	<iselse>
		<table cellpadding="0" cellspacing="0" border="0" width="100%">
			<tr>
				<td class="table_detail w e s"><istext key="BrowseChannelCatalog_32.ThisCategoryDoesNotContainAnyProducts.table_detail" encoding="off"/></td>
			</tr>
			<isif condition="#NOT(isDefined( GetSQDByNameResultDict:SearchQueryDefinition ))#">
				<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_CATALOGS) AND ((Catalog:TypeCode != 2) OR ((NOT Category:isRootCategory) AND (NOT hasLoopElements(Category:SubCategories))))#"><!--- For classification catalogs check subcategories--->
					<tr>
						<td class="w e s" align="right">
							<input type="hidden" name="CatalogID" value="<isprint value="#Catalog:Id#">"/>
							<input type="hidden" name="CatalogCategoryID" value="<isprint value="#Category:UUID#">"/>
							<table border="0" cellspacing="4" cellpadding="0">
								<tr>
									<td class="button"><input type="submit" name="AddProducts" value="#localizeText('BrowseChannelCatalog_32.Add.button')#" class="button"/></td>
								</tr>
							</table>
						</td>
					</tr>
				</isif>
			</isif>
		</table>
	</isif>
</isform>

<!-- EO Main Content -->

<isif condition="#Category:isRootCategory#">
	<isinclude template="inc/BackToList">
<iselse>
	<isform action="#URL(Action('ViewChannelCatalog_32-Parent'))#" name="backToList" method="post">
		<table width="100%" border="0" cellspacing="0" cellpadding="0">
			<tr>
				<td width="100%" class="backbar_left">
					<table border="0" cellspacing="0" cellpadding="0">
						<tr>
							<td class="button">
								<input type="hidden" name="HideEmpty" value="<isprint value="#HideEmpty#">"/>
								<input type="hidden" name="CatalogID" value="<isprint value="#Catalog:Id#">"/>
								<input type="hidden" name="CatalogCategoryID" value="<isprint value="#Category:Parent:UUID#">"/>
								<input type="hidden" name="ParentPage" value="<isprint value="#ParentPage#">"/>
								<isif condition="#(Category:Parent NE null)#">
									<input type="submit" name="back" value="&lt;&lt;&nbsp;#localizeText('BrowseChannelCatalog_32.BackToParent.button')#" class="button"/>
								</isif>
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</table>
	</isform>
</isif>
<!-- EO Working Area -->