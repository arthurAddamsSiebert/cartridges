<?xml version="1.0" encoding="UTF-8"?>
<!--Process pipeline for TypedProductCategoryAssignments.
@Group Catalog-->

<pipeline:Pipeline xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:pipeline="http://www.intershop.de/pipeline/2010"
    name="ProcessTypedProductCategoryAssignment" type="process">
<!--Creates a TypedProductCategoryAssignment between the given CatalogCategory and the Product. Each TypedProductCategoryAssignment must have a type code that is declared by a TypeCodeDefinition.
If no TypedProductCategoryAssignment could be created (the only possible reason for this is: a TypedProductCategoryAssignment for the given parameters already exists) then the error end node is taken.
The TypedProductCategoryAssignment is created in the domain of the product.
@Location 1,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode1" strict="true" name="Create"
      callMode="Private">
<!--@BendPoints 3,4-->
    <nodeSuccessors name="next" next="CreateTypedProductCategoryAssignment1"/>
    <parameters name="CatalogCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
<!--The type of the TypedProductCategoryAssignment.
Use the string representation of the TypedProductCategoryAssignment TypeCode here (as defined by a TypeCodeDefinition:Name, where TypeCodeDefinition:Group="TypedProductCategoryAssignment").-->
    <parameters name="TypeCodeName" type="java.lang.String"/>
  </nodes>
<!--@Location 1,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateTypedProductCategoryAssignment1">
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateTypedProductCategoryAssignment.xml"/>
<!--@BendPoints 3,6-->
    <nodeSuccessors name="next" next="EndNode1"/>
<!--@BendPoints 5,5 5,6-->
    <nodeSuccessors name="pipelet_error" next="EndNode2"/>
  </nodes>
<!--@Location 1,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode1" strict="true">
<!--the newly created TypedProductCategoryAssignment-->
    <returnValues name="TypedProductCategoryAssignment" type="com.intershop.beehive.xcs.capi.catalog.TypedProductCategoryAssignment"/>
  </nodes>
<!--If no TypedProductCategoryAssignment could be created (the only possible reason for this is: a TypedProductCategoryAssignment for the given parameters already exists) then the error end node is used.
@Location 2,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode2" name="error" strict="true"/>
<!--@Location 3,4-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode8" strict="true" name="CreateForMultipleCategories"
      callMode="Private">
<!--@BendPoints 7,10-->
    <nodeSuccessors name="next" next="LoopNode2"/>
    <parameters name="CatalogCategoryIDs" type="java.util.Iterator"/>
    <parameters name="TypeCodeName" type="java.lang.String"/>
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
  </nodes>
<!--@Location 3,5-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode2" loop="CatalogCategoryIDs">
    <nodeSuccessors name="next" next="Touch0"/>
    <entry key="CatalogCategoryID">
      <nodeSuccessors name="loop_entry_next" next="GetCategoryByUUID1"/>
    </entry>
  </nodes>
<!--@Location 3,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCategoryByUUID1">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetCategoryByUUID.xml"/>
    <nodeSuccessors name="next" next="CallNode3"/>
<!--@BendPoints 9,13 9,19-->
    <nodeSuccessors name="pipelet_error" next="JoinNode2"/>
    <returnValueBindings name="Category" objectPath="CatalogCategory"/>
  </nodes>
<!--@Location 3,7-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode3">
    <nodeSuccessors name="next" next="CallNode27"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-Create"/>
  </nodes>
<!--@Location 3,8-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode27">
    <nodeSuccessors name="next" next="JoinNode2"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-UpdatePositionsForProduct"/>
  </nodes>
<!--@Location 3,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode2">
<!--@BendPoints 6,19 6,11-->
    <nodeSuccessors name="next" next="LoopNode2_Entry"/>
  </nodes>
<!--@Location 4,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Touch0">
    <pipelet href="enfinity:/bc_foundation/pipelets/Touch.xml"/>
    <nodeSuccessors name="next" next="EndNode10"/>
    <parameterBindings name="Object" objectPath="Product"/>
  </nodes>
<!--@Location 5,5-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode10" strict="true"/>
<!--@Location 1,4-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode7" strict="true" name="CreateForMultipleProducts"
      callMode="Private">
<!--@BendPoints 3,10-->
    <nodeSuccessors name="next" next="LoopNode1"/>
    <parameters name="ProductUUIDs" type="java.util.Iterator"/>
    <parameters name="TypeCodeName" type="java.lang.String"/>
    <parameters name="CatalogCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
    <parameters name="ProductDomain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 1,5-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode1" loop="ProductUUIDs">
<!--@BendPoints 4,11-->
    <nodeSuccessors name="next" next="EndNode9"/>
    <entry key="ProductUUID">
<!--@BendPoints 3,12-->
      <nodeSuccessors name="loop_entry_next" next="Pipelet9"/>
    </entry>
  </nodes>
<!--@Location 1,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet9">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetProductByUUID.xml"/>
    <nodeSuccessors name="next" next="CallNode2"/>
<!--@BendPoints 5,13 5,19-->
    <nodeSuccessors name="pipelet_error" next="JoinNode1"/>
  </nodes>
<!--@Location 1,7-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode2">
    <nodeSuccessors name="next" next="CallNode0"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-Create"/>
  </nodes>
<!--@Location 1,8-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode0">
    <nodeSuccessors name="next" next="JoinNode1"/>
    <startNode referencedName="This:UpdatePositions"/>
  </nodes>
<!--@Location 1,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode1">
<!--@BendPoints 2,19 2,11-->
    <nodeSuccessors name="next" next="LoopNode1_Entry"/>
  </nodes>
<!--@Location 2,5-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode9" strict="true"/>
<!--Create multiple product catalog category assignments for the given parameteres. 'SourceProducts' is a collection of products. 'CatalogCategoryIDs is a  collection containing catalog category ids and 'LinkType' is the type used for linking (catalog category assignment). If parameters 'SourceProducts' or 'CatalogCategoryIDs' is empty then an 'ErrorCode' is set in the pipeline dictionary. Valid values for 'ErrorCode' are 'SourceProductsMissing' and 'CatalogCategoryIDsMissing'. If an invalid 'LinkType' is given a PipeletExecutionException is thrown. The pipeline finished in end node with no name if no error occurs.
@Location 1,20-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode26" strict="true" name="CreateForMultipleSourceProducts"
      callMode="Private">
<!--@BendPoints 3,42-->
    <nodeSuccessors name="next" next="DecisionNode12"/>
    <parameters name="SourceProducts" type="java.util.Collection"/>
    <parameters name="LinkType" type="java.lang.String"/>
    <parameters name="CatalogCategoryIDs" type="java.util.Collection"/>
  </nodes>
<!--@Location 1,21-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode12" conditionKey="SourceProducts"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="DecisionNode13"/>
    <nodeSuccessors name="decision_no" next="SetDictionaryValue1"/>
  </nodes>
<!--@Location 1,22-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode13" conditionKey="CatalogCategoryIDs"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="LoopNode17"/>
    <nodeSuccessors name="decision_no" next="SetDictionaryValue2"/>
  </nodes>
<!--@Location 1,23-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode17" loop="SourceProducts">
<!--@BendPoints 4,47-->
    <nodeSuccessors name="next" next="EndNode27"/>
    <entry key="SourceProduct">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode16"/>
    </entry>
  </nodes>
<!--@Location 1,24-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode16" conditionKey="SourceProduct:Extension(&quot;PersistentObjectBOExtension&quot;)">
<!--@BendPoints 5,49-->
    <nodeSuccessors name="decision_yes" next="KeyMapper0"/>
    <nodeSuccessors name="decision_no" next="JoinNode21"/>
  </nodes>
<!--@Location 2,25-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper0">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="JoinNode21"/>
    <parameterBindings name="InValue_1" objectPath="SourceProduct:Extension(&quot;PersistentObjectBOExtension&quot;):PersistentObject"/>
    <returnValueBindings name="OutValue_1" objectPath="SourceProduct"/>
  </nodes>
<!--@Location 1,25-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode21">
    <nodeSuccessors name="next" next="LoopNode16"/>
  </nodes>
<!--@Location 1,26-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode16" loop="CatalogCategoryIDs">
<!--@BendPoints 5,53 5,61 1,61 1,47-->
    <nodeSuccessors name="next" next="LoopNode17_Entry"/>
    <entry key="CatalogCategoryID">
      <nodeSuccessors name="loop_entry_next" next="GetCategoryByUUID2"/>
    </entry>
  </nodes>
<!--@Location 1,27-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCategoryByUUID2">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetCategoryByUUID.xml"/>
    <nodeSuccessors name="next" next="CallNode28"/>
<!--@BendPoints 4,55 4,59-->
    <nodeSuccessors name="pipelet_error" next="JoinNode16"/>
    <returnValueBindings name="Category" objectPath="CatalogCategory"/>
  </nodes>
<!--@Location 1,28-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode28">
    <nodeSuccessors name="next" next="JoinNode16"/>
    <parameterBindings name="Product" objectPath="SourceProduct"/>
    <parameterBindings name="TypeCodeName" objectPath="LinkType"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-Create"/>
  </nodes>
<!--@Location 1,29-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode16">
<!--@BendPoints 2,59 2,53-->
    <nodeSuccessors name="next" next="LoopNode16_Entry"/>
  </nodes>
<!--@Location 2,23-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode27" strict="true"/>
<!--Set ErrorCode to CatalogCategoryIDsMissing
@Location 2,22-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue2">
    <configurationValues name="Name" value="ErrorCode"/>
    <configurationValues name="Value" value="CatalogCategoryIDsMissing"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode14"/>
  </nodes>
<!--@Location 3,22-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode14">
<!--@BendPoints 7,46-->
    <nodeSuccessors name="next" next="EndNode28"/>
  </nodes>
<!--@Location 3,23-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode28" name="Error" strict="true">
    <returnValues name="ErrorCode" type="java.lang.String"/>
  </nodes>
<!--Set ErrorCode to SourceProductsMissing
@Location 2,21-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue1">
    <configurationValues name="Name" value="ErrorCode"/>
    <configurationValues name="Value" value="SourceProductsMissing"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
<!--@BendPoints 7,43-->
    <nodeSuccessors name="next" next="JoinNode14"/>
  </nodes>
<!--@Location 1,11-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode14" strict="true" name="CreateTypedProductCategoryAssignmentRefs"
      callMode="Private">
    <nodeSuccessors name="next" next="Pipelet3"/>
    <parameters name="RefStrings" type="java.util.Iterator"/>
  </nodes>
<!--@Location 1,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet3">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
    <nodeSuccessors name="next" next="LoopNode6"/>
    <parameterBindings name="InVector" nullBinding="true"/>
    <parameterBindings name="Object" nullBinding="true"/>
    <parameterBindings name="Objects" nullBinding="true"/>
    <returnValueBindings name="Iterator" objectPath="TypedProductCategoryAssignmentRefsIterator"/>
    <returnValueBindings name="OutVector" objectPath="TypedProductCategoryAssignmentRefs"/>
  </nodes>
<!--@Location 1,13-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode6" loop="RefStrings">
<!--@BendPoints 5,27 5,32-->
    <nodeSuccessors name="next" next="EndNode16"/>
    <entry key="RefString">
<!--@BendPoints 3,28-->
      <nodeSuccessors name="loop_entry_next" next="GetTypedProductCategoryAssignmentByRef2"/>
    </entry>
  </nodes>
<!--@Location 1,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTypedProductCategoryAssignmentByRef2">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetTypedProductCategoryAssignmentByRef.xml"/>
<!--@BendPoints 3,30-->
    <nodeSuccessors name="next" next="Pipelet6"/>
<!--@BendPoints 4,29 4,33-->
    <nodeSuccessors name="pipelet_error" next="JoinNode11"/>
    <parameterBindings name="TypedProductCategoryAssignmentRef" objectPath="RefString"/>
  </nodes>
<!--@Location 1,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet6">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
    <nodeSuccessors name="next" next="JoinNode11"/>
    <parameterBindings name="InVector" objectPath="TypedProductCategoryAssignmentRefs"/>
    <parameterBindings name="Object" objectPath="TypedProductCategoryAssignment:TypedProductCategoryAssignmentRef"/>
    <parameterBindings name="Objects" nullBinding="true"/>
    <returnValueBindings name="Iterator" objectPath="TypedProductCategoryAssignmentRefsIterator"/>
    <returnValueBindings name="OutVector" objectPath="TypedProductCategoryAssignmentRefs"/>
  </nodes>
<!--@Location 1,16-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode11">
<!--@BendPoints 2,33 2,27-->
    <nodeSuccessors name="next" next="LoopNode6_Entry"/>
  </nodes>
<!--@Location 2,16-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode16" strict="true">
    <returnValues name="TypedProductCategoryAssignmentRefsIterator" type="java.util.Iterator"/>
  </nodes>
<!--@Location 21,10-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode13" strict="true" name="DetermineTypeCodeFilter"
      callMode="Private">
<!--@BendPoints 43,22-->
    <nodeSuccessors name="next" next="DecisionNode5"/>
    <parameters name="SelectedLinkType" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 21,11-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode5" conditionKey="SelectedLinkType">
    <nodeSuccessors name="decision_yes" next="DecisionNode7"/>
<!--@BendPoints 48,23 48,35-->
    <nodeSuccessors name="decision_no" next="JoinNode4"/>
  </nodes>
<!--@Location 21,12-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode7" conditionKey="SelectedLinkType"
      operator="str_empty">
    <nodeSuccessors name="decision_yes" next="JoinNode10"/>
<!--@BendPoints 45,25 45,26-->
    <nodeSuccessors name="decision_no" next="DecisionNode6"/>
  </nodes>
<!--@Location 21,16-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode10">
    <nodeSuccessors name="next" next="JoinNode4"/>
  </nodes>
<!--@Location 21,17-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode4">
<!--@BendPoints 43,36-->
    <nodeSuccessors name="next" next="EndNode15"/>
  </nodes>
<!--@Location 21,18-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode15" strict="true">
    <returnValues name="TypeCodesToShow" type="java.util.Iterator" optional="true"/>
  </nodes>
<!--@Location 22,13-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode6" conditionKey="SelectedLinkType"
      operator="str_eq" conditionValue="0">
    <nodeSuccessors name="decision_yes" next="JoinNode7"/>
<!--@BendPoints 47,27 47,28-->
    <nodeSuccessors name="decision_no" next="AddObjectToVector3"/>
  </nodes>
<!--@Location 22,15-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode7">
<!--@BendPoints 45,33-->
    <nodeSuccessors name="next" next="JoinNode10"/>
  </nodes>
<!--@Location 23,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddObjectToVector3">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
<!--@BendPoints 47,31-->
    <nodeSuccessors name="next" next="JoinNode7"/>
    <parameterBindings name="Object" objectPath="SelectedLinkType"/>
    <returnValueBindings name="Iterator" objectPath="TypeCodesToShow"/>
  </nodes>
<!--@Location 6,5-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode6" strict="true" name="GetAllByCategory"
      callMode="Private">
<!--@BendPoints 13,12-->
    <nodeSuccessors name="next" next="Pipelet11"/>
    <parameters name="TypeCodeNames" type="java.util.Iterator"/>
    <parameters name="CatalogCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
    <parameters name="ProductDomain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 6,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet11">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
    <nodeSuccessors name="next" next="LoopNode5"/>
    <parameterBindings name="InVector" nullBinding="true"/>
    <parameterBindings name="Object" nullBinding="true"/>
    <parameterBindings name="Objects" nullBinding="true"/>
    <returnValueBindings name="Iterator" objectPath="TypedProductCategoryAssignmentsIterator"/>
    <returnValueBindings name="OutVector" objectPath="TypedProductCategoryAssignments"/>
  </nodes>
<!--@Location 6,7-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode5" loop="TypeCodeNames">
<!--@BendPoints 14,15-->
    <nodeSuccessors name="next" next="EndNode8"/>
    <entry key="TypeCodeName">
      <nodeSuccessors name="loop_entry_next" next="CallNode1"/>
    </entry>
  </nodes>
<!--@Location 6,8-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode1">
    <nodeSuccessors name="next" next="Pipelet10"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-GetByCategory"/>
    <returnValueBindings name="TypedProductCategoryAssignments" objectPath="PartialTypedProductCategoryAssignments"/>
  </nodes>
<!--@Location 6,9-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet10">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
<!--@BendPoints 13,20 12,20 12,15-->
    <nodeSuccessors name="next" next="LoopNode5_Entry"/>
    <parameterBindings name="InVector" objectPath="TypedProductCategoryAssignments"/>
    <parameterBindings name="Object" nullBinding="true"/>
    <parameterBindings name="Objects" objectPath="PartialTypedProductCategoryAssignments"/>
    <returnValueBindings name="Iterator" objectPath="TypedProductCategoryAssignmentsIterator"/>
    <returnValueBindings name="OutVector" objectPath="TypedProductCategoryAssignments"/>
  </nodes>
<!--@Location 7,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode8" strict="true">
    <returnValues name="TypedProductCategoryAssignmentsIterator" type="java.util.Iterator"/>
  </nodes>
<!--@Location 10,11-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode20" strict="true" name="GetAllByCategory2"
      callMode="Private">
<!--@BendPoints 21,24-->
    <nodeSuccessors name="next" next="Pipelet4"/>
    <parameters name="LinkTypeSummaryIter" type="java.util.Iterator"/>
    <parameters name="CatalogCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
    <parameters name="ProductDomain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 10,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet4">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
    <nodeSuccessors name="next" next="LoopNode11"/>
    <parameterBindings name="InVector" nullBinding="true"/>
    <parameterBindings name="Object" nullBinding="true"/>
    <parameterBindings name="Objects" nullBinding="true"/>
    <returnValueBindings name="Iterator" objectPath="TypedProductCategoryAssignmentsIterator"/>
    <returnValueBindings name="OutVector" objectPath="TypedProductCategoryAssignments"/>
  </nodes>
<!--@Location 10,13-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode11" loop="LinkTypeSummaryIter">
<!--@BendPoints 23,27-->
    <nodeSuccessors name="next" next="EndNode22"/>
    <entry key="LinkTypeSummary">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode1"/>
    </entry>
  </nodes>
<!--@Location 10,14-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode1" conditionKey="LinkTypeSummary:ProductLinkAllowed"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="DecisionNode9"/>
<!--@BendPoints 22,29 22,35 22,37-->
    <nodeSuccessors name="decision_no" next="JoinNode8"/>
  </nodes>
<!--@Location 10,15-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode9" conditionKey="LinkTypeSummary:ProductLinkAvailable"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="CallNode18"/>
<!--@BendPoints 22,32 22,36-->
    <nodeSuccessors name="decision_no" next="JoinNode8"/>
  </nodes>
<!--@Location 10,16-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode18">
    <nodeSuccessors name="next" next="Pipelet7"/>
    <parameterBindings name="TypeCodeName" objectPath="LinkTypeSummary:TypeCodeDefinition:Name"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-GetByCategory"/>
    <returnValueBindings name="TypedProductCategoryAssignments" objectPath="PartialTypedProductCategoryAssignments"/>
  </nodes>
<!--@Location 10,17-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet7">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
    <nodeSuccessors name="next" next="JoinNode8"/>
    <parameterBindings name="InVector" objectPath="TypedProductCategoryAssignments"/>
    <parameterBindings name="Object" nullBinding="true"/>
    <parameterBindings name="Objects" objectPath="PartialTypedProductCategoryAssignments"/>
    <returnValueBindings name="Iterator" objectPath="TypedProductCategoryAssignmentsIterator"/>
    <returnValueBindings name="OutVector" objectPath="TypedProductCategoryAssignments"/>
  </nodes>
<!--@Location 10,18-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode8">
<!--@BendPoints 20,37 20,27-->
    <nodeSuccessors name="next" next="LoopNode11_Entry"/>
  </nodes>
<!--@Location 11,18-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode22" strict="true">
    <returnValues name="TypedProductCategoryAssignmentsIterator" type="java.util.Iterator"/>
  </nodes>
<!--@Location 8,5-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode9" strict="true" name="GetAllByProduct"
      callMode="Private">
<!--@BendPoints 17,12-->
    <nodeSuccessors name="next" next="Pipelet2"/>
    <parameters name="TypeCodeNames" type="java.util.Iterator"/>
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
  </nodes>
<!--@Location 8,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet2">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
    <nodeSuccessors name="next" next="LoopNode3"/>
    <parameterBindings name="InVector" nullBinding="true"/>
    <parameterBindings name="Object" nullBinding="true"/>
    <parameterBindings name="Objects" nullBinding="true"/>
    <returnValueBindings name="Iterator" objectPath="TypedProductCategoryAssignmentsIterator"/>
    <returnValueBindings name="OutVector" objectPath="TypedProductCategoryAssignments"/>
  </nodes>
<!--@Location 8,7-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode3" loop="TypeCodeNames">
<!--@BendPoints 18,15-->
    <nodeSuccessors name="next" next="EndNode11"/>
    <entry key="TypeCodeName">
      <nodeSuccessors name="loop_entry_next" next="CallNode4"/>
    </entry>
  </nodes>
<!--@Location 8,8-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode4">
    <nodeSuccessors name="next" next="Pipelet1"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-GetByProduct"/>
    <returnValueBindings name="TypedProductCategoryAssignments" objectPath="PartialTypedProductCategoryAssignments"/>
  </nodes>
<!--@Location 8,9-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet1">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
<!--@BendPoints 17,20 16,20 16,15-->
    <nodeSuccessors name="next" next="LoopNode3_Entry"/>
    <parameterBindings name="InVector" objectPath="TypedProductCategoryAssignments"/>
    <parameterBindings name="Object" nullBinding="true"/>
    <parameterBindings name="Objects" objectPath="PartialTypedProductCategoryAssignments"/>
    <returnValueBindings name="Iterator" objectPath="TypedProductCategoryAssignmentsIterator"/>
    <returnValueBindings name="OutVector" objectPath="TypedProductCategoryAssignments"/>
  </nodes>
<!--@Location 9,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode11" strict="true">
    <returnValues name="TypedProductCategoryAssignmentsIterator" type="java.util.Iterator"/>
  </nodes>
<!--@Location 4,11-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode21" strict="true" name="GetAllByProduct2"
      callMode="Private">
<!--@BendPoints 9,24-->
    <nodeSuccessors name="next" next="Pipelet8"/>
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
    <parameters name="LinkTypeSummaryIter" type="java.util.Iterator"/>
  </nodes>
<!--@Location 4,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet8">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
    <nodeSuccessors name="next" next="LoopNode12"/>
    <parameterBindings name="InVector" nullBinding="true"/>
    <parameterBindings name="Object" nullBinding="true"/>
    <parameterBindings name="Objects" nullBinding="true"/>
    <returnValueBindings name="Iterator" objectPath="TypedProductCategoryAssignmentsIterator"/>
    <returnValueBindings name="OutVector" objectPath="TypedProductCategoryAssignments"/>
  </nodes>
<!--@Location 4,13-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode12" loop="LinkTypeSummaryIter">
<!--@BendPoints 11,27-->
    <nodeSuccessors name="next" next="EndNode23"/>
    <entry key="LinkTypeSummary">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode2"/>
    </entry>
  </nodes>
<!--@Location 4,14-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode2" conditionKey="LinkTypeSummary:CategoryLinkAllowed"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="DecisionNode3"/>
<!--@BendPoints 10,29 10,35 10,37-->
    <nodeSuccessors name="decision_no" next="JoinNode9"/>
  </nodes>
<!--@Location 4,15-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode3" conditionKey="LinkTypeSummary:CategoryLinkAvailable"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="CallNode19"/>
<!--@BendPoints 10,31 10,36-->
    <nodeSuccessors name="decision_no" next="JoinNode9"/>
  </nodes>
<!--@Location 4,16-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode19">
    <nodeSuccessors name="next" next="Pipelet5"/>
    <parameterBindings name="TypeCodeName" objectPath="LinkTypeSummary:TypeCodeDefinition:Name"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-GetByProduct"/>
    <returnValueBindings name="TypedProductCategoryAssignments" objectPath="PartialTypedProductCategoryAssignments"/>
  </nodes>
<!--@Location 4,17-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet5">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
    <nodeSuccessors name="next" next="JoinNode9"/>
    <parameterBindings name="InVector" objectPath="TypedProductCategoryAssignments"/>
    <parameterBindings name="Object" nullBinding="true"/>
    <parameterBindings name="Objects" objectPath="PartialTypedProductCategoryAssignments"/>
    <returnValueBindings name="Iterator" objectPath="TypedProductCategoryAssignmentsIterator"/>
    <returnValueBindings name="OutVector" objectPath="TypedProductCategoryAssignments"/>
  </nodes>
<!--@Location 4,18-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode9">
<!--@BendPoints 8,37 8,27-->
    <nodeSuccessors name="next" next="LoopNode12_Entry"/>
  </nodes>
<!--@Location 5,18-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode23" strict="true">
    <returnValues name="TypedProductCategoryAssignmentsIterator" type="java.util.Iterator"/>
  </nodes>
<!--Returns the TypedProductCategoryAssignments for a given CatalogCategory.
If no Domain is supplied then assignments of all domains are returned.
If no TypeCodeName is supplied then assignments for all type codes are returned. Attention: omitting the type code might be slow because multiple database tables might have to be queried!
@Location 9,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode3" strict="true" name="GetByCategory"
      callMode="Private">
    <nodeSuccessors name="next" next="GetTypeCodeDefinition0"/>
<!--The assignments of this catalog category are returned.-->
    <parameters name="CatalogCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
<!--The type of the TypedProductCategoryAssignments to be returned.
Use the string representation of the TypedProductCategoryAssignment TypeCode here (as defined by a TypeCodeDefinition:Name, where TypeCodeDefinition:Group="TypedProductCategoryAssignment").
If no TypeCodeName is supplied then assignments for all type codes are returned. Attention: omitting the type code might be slow because multiple database tables might have to be queried!-->
    <parameters name="TypeCodeName" type="java.lang.String"/>
<!--The domain of the TypedProductCategoryAssignments/assigned products. Product sharing is taken into account. Assignments for the product domain as well as base product domain are returned.-->
    <parameters name="ProductDomain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 9,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTypeCodeDefinition0">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetTypeCodeDefinition.xml"/>
    <nodeSuccessors name="next" next="ExecuteObjectsQuery0"/>
    <parameterBindings name="TypeCodeGroup" constant="TypedProductCategoryAssignment"/>
  </nodes>
<!--@Location 9,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExecuteObjectsQuery0">
    <configurationValues name="ParameterName_01" value="ProductDomain"/>
    <configurationValues name="ParameterName_02" value="Category"/>
    <configurationValues name="ParameterName_03" value="TypeCode"/>
    <configurationValues name="QueryName" value="catalog/GetCategoryProductLinks"/>
    <pipelet href="enfinity:/core/pipelets/ExecuteObjectsQuery.xml"/>
    <nodeSuccessors name="next" next="EndNode4"/>
    <parameterBindings name="ParameterValue_01" objectPath="ProductDomain"/>
    <parameterBindings name="ParameterValue_02" objectPath="CatalogCategory"/>
    <parameterBindings name="ParameterValue_03" objectPath="TypeCodeDefinition:TypeCode"/>
    <returnValueBindings name="SearchResult" objectPath="TypedProductCategoryAssignments"/>
  </nodes>
<!--Returns all matching TypedProductCategoryAssignments ordered by position, TypedProductCategoryAssignments without position last; an empty Collection if no assignments were found
@Location 9,4-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode4" strict="true">
<!--all matching TypedProductCategoryAssignments ordered by position, TypedProductCategoryAssignments without position last; an empty Collection if no assignments were found-->
    <returnValues name="TypedProductCategoryAssignments" type="java.util.Iterator&lt;? extends com.intershop.beehive.xcs.capi.catalog.TypedProductCategoryAssignment>"/>
  </nodes>
<!--Returns the TypedProductCategoryAssignments for a given Product, ordered by position.
Takes product sharing into account. Assignments for the product domain as well as the base product domain are returned.
@Location 6,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode2" strict="true" name="GetByProduct"
      callMode="Private">
<!--@BendPoints 13,4-->
    <nodeSuccessors name="next" next="GetTypedProductCategoryAssignmentsForProduct1"/>
<!--The assignments of this product are returned.-->
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
<!--The type of the TypedProductCategoryAssignments to be returned.
Use the string representation of the TypedProductCategoryAssignment TypeCode here (as defined by a TypeCodeDefinition:Name, where TypeCodeDefinition:Group="TypedProductCategoryAssignment").
If no TypeCodeName is supplied then assignments for all type codes are returned. Attention: omitting the type code might be slow because multiple database tables might have to be queried!-->
    <parameters name="TypeCodeName" type="java.lang.String"/>
  </nodes>
<!--@Location 6,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTypedProductCategoryAssignmentsForProduct1">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetTypedProductCategoryAssignmentsForProduct.xml"/>
<!--@BendPoints 13,6-->
    <nodeSuccessors name="next" next="EndNode3"/>
  </nodes>
<!--Returns all matching TypedProductCategoryAssignments ordered by position, TypedProductCategoryAssignments without position last; an empty Collection if no assignments were found
@Location 6,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode3" strict="true">
<!--all matching TypedProductCategoryAssignments ordered by position, TypedProductCategoryAssignments without position last; an empty Collection if no assignments were found-->
    <returnValues name="TypedProductCategoryAssignments" type="java.util.Iterator&lt;? extends com.intershop.beehive.xcs.capi.catalog.TypedProductCategoryAssignment>"/>
  </nodes>
<!--@Location 11,5-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode19" strict="true" name="GetByProductWithoutSharing"
      callMode="Private">
<!--@BendPoints 23,12-->
    <nodeSuccessors name="next" next="GetTypedProductCategoryAssignmentsForProductWithoutSharing1"/>
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
    <parameters name="TypeCodeName" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 11,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTypedProductCategoryAssignmentsForProductWithoutSharing1">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetTypedProductCategoryAssignmentsForProductWithoutSharing.xml"/>
<!--@BendPoints 23,14-->
    <nodeSuccessors name="next" next="EndNode21"/>
  </nodes>
<!--@Location 11,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode21" strict="true">
    <returnValues name="TypedProductCategoryAssignments" type="java.util.Iterator"/>
  </nodes>
<!--@Location 21,4-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode24" strict="true" name="GetIncomingCategoriesForProduct"
      callMode="Private">
<!--@BendPoints 43,10-->
    <nodeSuccessors name="next" next="Pipelet13"/>
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
    <parameters name="TypeCodeDefinitions" type="java.util.Iterator"/>
  </nodes>
<!--@Location 21,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet13">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
    <nodeSuccessors name="next" next="LoopNode15"/>
    <parameterBindings name="InVector" nullBinding="true"/>
    <parameterBindings name="Object" nullBinding="true"/>
    <parameterBindings name="Objects" nullBinding="true"/>
    <returnValueBindings name="Iterator" objectPath="TypedProductCategoryAssignmentsIterator"/>
    <returnValueBindings name="OutVector" objectPath="TypedProductCategoryAssignments"/>
  </nodes>
<!--@Location 21,6-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode15" loop="TypeCodeDefinitions">
<!--@BendPoints 44,13-->
    <nodeSuccessors name="next" next="EndNode26"/>
    <entry key="TypeCodeDefinition">
      <nodeSuccessors name="loop_entry_next" next="CallNode26"/>
    </entry>
  </nodes>
<!--@Location 21,7-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode26">
    <nodeSuccessors name="next" next="Pipelet12"/>
    <parameterBindings name="TypeCodeName" objectPath="TypeCodeDefinition:Name"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-GetByProduct"/>
    <returnValueBindings name="TypedProductCategoryAssignments" objectPath="PartialTypedProductCategoryAssignments"/>
  </nodes>
<!--@Location 21,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet12">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
<!--@BendPoints 43,18 42,18 42,13-->
    <nodeSuccessors name="next" next="LoopNode15_Entry"/>
    <parameterBindings name="InVector" objectPath="TypedProductCategoryAssignments"/>
    <parameterBindings name="Object" nullBinding="true"/>
    <parameterBindings name="Objects" objectPath="PartialTypedProductCategoryAssignments"/>
    <returnValueBindings name="Iterator" objectPath="TypedProductCategoryAssignmentsIterator"/>
    <returnValueBindings name="OutVector" objectPath="TypedProductCategoryAssignments"/>
  </nodes>
<!--@Location 22,6-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode26" strict="true">
    <returnValues name="TypedProductCategoryAssignmentsIterator" type="java.util.Iterator"/>
  </nodes>
<!--@Location 27,10-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode18" strict="true" name="GetLinkedCategoryIDs"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode17"/>
    <parameters name="TypeCodeName" type="java.lang.String"/>
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
  </nodes>
<!--@Location 27,11-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode17">
    <nodeSuccessors name="next" next="AddObjectToVector5"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-GetByProduct"/>
  </nodes>
<!--@Location 27,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddObjectToVector5">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
<!--@BendPoints 55,26-->
    <nodeSuccessors name="next" next="LoopNode10"/>
    <parameterBindings name="InVector" nullBinding="true"/>
    <parameterBindings name="Object" nullBinding="true"/>
    <parameterBindings name="Objects" nullBinding="true"/>
    <returnValueBindings name="Iterator" objectPath="LinkedCategoryUUIDIterator"/>
    <returnValueBindings name="OutVector" objectPath="LinkedCategoryUUIDs"/>
  </nodes>
<!--@Location 27,13-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode10" loop="TypedProductCategoryAssignments">
<!--@BendPoints 56,27-->
    <nodeSuccessors name="next" next="EndNode20"/>
    <entry key="TypedProductCategoryAssignment">
<!--@BendPoints 55,28-->
      <nodeSuccessors name="loop_entry_next" next="AddObjectToVector4"/>
    </entry>
  </nodes>
<!--@Location 27,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddObjectToVector4">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
<!--@BendPoints 55,30 54,30 54,27-->
    <nodeSuccessors name="next" next="LoopNode10_Entry"/>
    <parameterBindings name="InVector" objectPath="LinkedCategoryUUIDs"/>
    <parameterBindings name="Object" objectPath="TypedProductCategoryAssignment:CatalogCategory:UUID"/>
    <returnValueBindings name="Iterator" objectPath="LinkedCategoryUUIDIterator"/>
    <returnValueBindings name="OutVector" objectPath="LinkedCategoryUUIDs"/>
  </nodes>
<!--@Location 28,13-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode20" strict="true">
    <returnValues name="LinkedCategoryUUIDIterator" type="java.util.Iterator"/>
  </nodes>
<!--@Location 25,10-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode16" strict="true" name="GetLinkedProductIDs"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode14"/>
    <parameters name="TypeCodeName" type="java.lang.String"/>
    <parameters name="CatalogCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
    <parameters name="ProductDomain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 25,11-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode14">
    <nodeSuccessors name="next" next="AddObjectToVector1"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-GetByCategory"/>
  </nodes>
<!--@Location 25,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddObjectToVector1">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
<!--@BendPoints 51,26-->
    <nodeSuccessors name="next" next="LoopNode9"/>
    <parameterBindings name="InVector" nullBinding="true"/>
    <parameterBindings name="Object" nullBinding="true"/>
    <parameterBindings name="Objects" nullBinding="true"/>
    <returnValueBindings name="Iterator" objectPath="LinkedProductUUIDIterator"/>
    <returnValueBindings name="OutVector" objectPath="LinkedProductUUIDs"/>
  </nodes>
<!--@Location 25,13-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode9" loop="TypedProductCategoryAssignments">
<!--@BendPoints 52,27-->
    <nodeSuccessors name="next" next="EndNode18"/>
    <entry key="TypedProductCategoryAssignment">
<!--@BendPoints 51,28-->
      <nodeSuccessors name="loop_entry_next" next="AddObjectToVector2"/>
    </entry>
  </nodes>
<!--@Location 25,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddObjectToVector2">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
<!--@BendPoints 51,30 50,30 50,27-->
    <nodeSuccessors name="next" next="LoopNode9_Entry"/>
    <parameterBindings name="InVector" objectPath="LinkedProductUUIDs"/>
    <parameterBindings name="Object" objectPath="TypedProductCategoryAssignment:Product:UUID"/>
    <returnValueBindings name="Iterator" objectPath="LinkedProductUUIDIterator"/>
    <returnValueBindings name="OutVector" objectPath="LinkedProductUUIDs"/>
  </nodes>
<!--@Location 26,13-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode18" strict="true">
    <returnValues name="LinkedProductUUIDIterator" type="java.util.Iterator"/>
  </nodes>
<!--@Location 15,4-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode11" strict="true" name="GetSelectedLinksForCategory"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode8"/>
    <parameters name="SelectedLinkType" type="java.lang.String" optional="true"/>
    <parameters name="TypeCodesToShow" type="java.util.Iterator"/>
    <parameters name="Category" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
    <parameters name="ProductDomain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 15,5-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode8">
    <nodeSuccessors name="next" next="CallNode6"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-DetermineTypeCodeFilter"/>
  </nodes>
<!--@Location 15,6-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode6">
<!--@BendPoints 31,14-->
    <nodeSuccessors name="next" next="EndNode13"/>
    <parameterBindings name="CatalogCategory" objectPath="Category"/>
    <parameterBindings name="TypeCodeNames" objectPath="TypeCodesToShow"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-GetAllByCategory"/>
    <returnValueBindings name="TypedProductCategoryAssignmentsIterator" objectPath="ProductLinks"/>
  </nodes>
<!--@Location 15,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode13" strict="true">
    <returnValues name="ProductLinks" type="java.util.Iterator"/>
  </nodes>
<!--@Location 18,4-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode12" strict="true" name="GetSelectedLinksForProduct"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode9"/>
    <parameters name="SelectedLinkType" type="java.lang.String" optional="true"/>
    <parameters name="TypeCodesToShow" type="java.util.Iterator"/>
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
  </nodes>
<!--@Location 18,5-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode9">
    <nodeSuccessors name="next" next="CallNode7"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-DetermineTypeCodeFilter"/>
  </nodes>
<!--@Location 18,6-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode7">
<!--@BendPoints 37,14-->
    <nodeSuccessors name="next" next="EndNode14"/>
    <parameterBindings name="TypeCodeNames" objectPath="TypeCodesToShow"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-GetAllByProduct"/>
    <returnValueBindings name="TypedProductCategoryAssignmentsIterator" objectPath="CategoryLinks"/>
  </nodes>
<!--@Location 18,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode14" strict="true">
    <returnValues name="CategoryLinks" type="java.util.Iterator"/>
  </nodes>
<!--@Location 19,11-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode17" strict="true" name="MoveLinkPositionsOfCategory"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode11"/>
    <parameters name="TypeCodeNames" type="java.util.Iterator"/>
    <parameters name="CatalogCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
    <parameters name="SelectedRefStrings" type="java.util.Iterator"/>
    <parameters name="moveDirection" type="java.lang.String"/>
<!--The domain of the TypedProductCategoryAssignments/assigned products. Product sharing is taken into account. Assignments for the product domain as well as base product domain are returned.-->
    <parameters name="ProductDomain" type="com.intershop.beehive.core.capi.domain.Domain"
        optional="true"/>
  </nodes>
<!--@Location 19,12-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode11">
    <nodeSuccessors name="next" next="LoopNode8"/>
    <parameterBindings name="RefStrings" objectPath="SelectedRefStrings"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-CreateTypedProductCategoryAssignmentRefs"/>
    <returnValueBindings name="TypedProductCategoryAssignmentRefsIterator" objectPath="SelectedTPCA_Refs"/>
  </nodes>
<!--@Location 19,13-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode8" loop="TypeCodeNames">
<!--@BendPoints 40,27-->
    <nodeSuccessors name="next" next="EndNode19"/>
    <entry key="TypeCodeName">
      <nodeSuccessors name="loop_entry_next" next="CallNode13"/>
    </entry>
  </nodes>
<!--@Location 19,14-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode13">
    <nodeSuccessors name="next" next="Decision1"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-GetByCategory"/>
  </nodes>
<!--@Location 19,15-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="Decision1" conditionKey="TypedProductCategoryAssignments"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="CallNode16"/>
<!--@BendPoints 40,31 40,35-->
    <nodeSuccessors name="decision_no" next="JoinNode5"/>
  </nodes>
<!--@Location 19,16-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode16">
    <nodeSuccessors name="next" next="JoinNode5"/>
    <parameterBindings name="ObjectIDFieldName" constant="TypedProductCategoryAssignmentRef"/>
    <parameterBindings name="SelectedObjectUUIDs" objectPath="SelectedTPCA_Refs"/>
    <parameterBindings name="SortedPositionables" objectPath="TypedProductCategoryAssignments"/>
    <startNode referencedName="ProcessSorting-MovePositions"/>
  </nodes>
<!--@Location 19,17-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode5">
<!--@BendPoints 38,35 38,27-->
    <nodeSuccessors name="next" next="LoopNode8_Entry"/>
  </nodes>
<!--@Location 20,13-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode19"/>
<!--@Location 13,11-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode23" strict="true" name="MoveLinkPositionsOfCategory2"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode25"/>
    <parameters name="LinkTypeSummaryIter" type="java.util.Iterator"/>
    <parameters name="CatalogCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
    <parameters name="SelectedRefStrings" type="java.util.Iterator"/>
    <parameters name="moveDirection" type="java.lang.String"/>
<!--The domain of the TypedProductCategoryAssignments/assigned products. Product sharing is taken into account. Assignments for the product domain as well as base product domain are returned.-->
    <parameters name="ProductDomain" type="com.intershop.beehive.core.capi.domain.Domain"
        optional="true"/>
  </nodes>
<!--@Location 13,12-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode25">
    <nodeSuccessors name="next" next="LoopNode14"/>
    <parameterBindings name="RefStrings" objectPath="SelectedRefStrings"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-CreateTypedProductCategoryAssignmentRefs"/>
    <returnValueBindings name="TypedProductCategoryAssignmentRefsIterator" objectPath="SelectedTPCA_Refs"/>
  </nodes>
<!--@Location 13,13-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode14" loop="LinkTypeSummaryIter">
<!--@BendPoints 29,27-->
    <nodeSuccessors name="next" next="EndNode25"/>
    <entry key="LinkTypeSummary">
<!--@BendPoints 27,28-->
      <nodeSuccessors name="loop_entry_next" next="DecisionNode11"/>
    </entry>
  </nodes>
<!--@Location 13,14-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode11" conditionKey="LinkTypeSummary:ProductLinkAllowed"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="DecisionNode10"/>
<!--@BendPoints 28,29 28,39-->
    <nodeSuccessors name="decision_no" next="JoinNode13"/>
  </nodes>
<!--@Location 13,15-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode10" conditionKey="LinkTypeSummary:ProductLinkAvailable"
      operator="str_eq" conditionValue="true">
<!--@BendPoints 27,32-->
    <nodeSuccessors name="decision_yes" next="CallNode24"/>
<!--@BendPoints 28,31 28,38-->
    <nodeSuccessors name="decision_no" next="JoinNode13"/>
  </nodes>
<!--@Location 13,16-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode24">
    <nodeSuccessors name="next" next="Decision4"/>
    <parameterBindings name="TypeCodeName" objectPath="LinkTypeSummary:TypeCodeDefinition:Name"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-GetByCategory"/>
  </nodes>
<!--@Location 13,17-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="Decision4" conditionKey="TypedProductCategoryAssignments"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="CallNode23"/>
<!--@BendPoints 28,36 28,37-->
    <nodeSuccessors name="decision_no" next="JoinNode13"/>
  </nodes>
<!--@Location 13,18-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode23">
    <nodeSuccessors name="next" next="JoinNode13"/>
    <parameterBindings name="ObjectIDFieldName" constant="TypedProductCategoryAssignmentRef"/>
    <parameterBindings name="SelectedObjectUUIDs" objectPath="SelectedTPCA_Refs"/>
    <parameterBindings name="SortedPositionables" objectPath="TypedProductCategoryAssignments"/>
    <startNode referencedName="ProcessSorting-MovePositions"/>
  </nodes>
<!--@Location 13,19-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode13">
<!--@BendPoints 26,39 26,27-->
    <nodeSuccessors name="next" next="LoopNode14_Entry"/>
  </nodes>
<!--@Location 14,19-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode25"/>
<!--@Location 17,11-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode15" strict="true" name="MoveLinkPositionsOfProduct"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode15"/>
    <parameters name="TypeCodeNames" type="java.util.Iterator"/>
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
    <parameters name="SelectedRefStrings" type="java.util.Iterator"/>
    <parameters name="moveDirection" type="java.lang.String"/>
  </nodes>
<!--@Location 17,12-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode15">
    <nodeSuccessors name="next" next="LoopNode7"/>
    <parameterBindings name="RefStrings" objectPath="SelectedRefStrings"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-CreateTypedProductCategoryAssignmentRefs"/>
    <returnValueBindings name="TypedProductCategoryAssignmentRefsIterator" objectPath="SelectedTPCA_Refs"/>
  </nodes>
<!--@Location 17,13-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode7" loop="TypeCodeNames">
<!--@BendPoints 36,27-->
    <nodeSuccessors name="next" next="EndNode17"/>
    <entry key="TypeCodeName">
      <nodeSuccessors name="loop_entry_next" next="CallNode12"/>
    </entry>
  </nodes>
<!--@Location 17,14-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode12">
    <nodeSuccessors name="next" next="Decision3"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-GetByProduct"/>
  </nodes>
<!--@Location 17,15-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="Decision3" conditionKey="TypedProductCategoryAssignments"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="CallNode10"/>
<!--@BendPoints 36,31 36,35-->
    <nodeSuccessors name="decision_no" next="JoinNode6"/>
  </nodes>
<!--@Location 17,16-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode10">
    <nodeSuccessors name="next" next="JoinNode6"/>
    <parameterBindings name="ObjectIDFieldName" constant="TypedProductCategoryAssignmentRef"/>
    <parameterBindings name="SelectedObjectUUIDs" objectPath="SelectedTPCA_Refs"/>
    <parameterBindings name="SortedPositionables" objectPath="TypedProductCategoryAssignments"/>
    <startNode referencedName="ProcessSorting-MovePositions"/>
  </nodes>
<!--@Location 17,17-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode6">
<!--@BendPoints 34,35 34,27-->
    <nodeSuccessors name="next" next="LoopNode7_Entry"/>
  </nodes>
<!--@Location 18,13-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode17"/>
<!--@Location 7,11-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode22" strict="true" name="MoveLinkPositionsOfProduct2"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode21"/>
    <parameters name="LinkTypeSummaryIter" type="java.util.Iterator"/>
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
    <parameters name="SelectedRefStrings" type="java.util.Iterator"/>
    <parameters name="moveDirection" type="java.lang.String"/>
  </nodes>
<!--@Location 7,12-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode21">
    <nodeSuccessors name="next" next="LoopNode13"/>
    <parameterBindings name="RefStrings" objectPath="SelectedRefStrings"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-CreateTypedProductCategoryAssignmentRefs"/>
    <returnValueBindings name="TypedProductCategoryAssignmentRefsIterator" objectPath="SelectedTPCA_Refs"/>
  </nodes>
<!--@Location 7,13-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode13" loop="LinkTypeSummaryIter">
<!--@BendPoints 17,27-->
    <nodeSuccessors name="next" next="EndNode24"/>
    <entry key="LinkTypeSummary">
<!--@BendPoints 15,28-->
      <nodeSuccessors name="loop_entry_next" next="DecisionNode8"/>
    </entry>
  </nodes>
<!--@Location 7,14-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode8" conditionKey="LinkTypeSummary:CategoryLinkAllowed"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="DecisionNode4"/>
<!--@BendPoints 16,29 16,39-->
    <nodeSuccessors name="decision_no" next="JoinNode12"/>
  </nodes>
<!--@Location 7,15-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode4" conditionKey="LinkTypeSummary:CategoryLinkAvailable"
      operator="str_eq" conditionValue="true">
<!--@BendPoints 15,32-->
    <nodeSuccessors name="decision_yes" next="CallNode22"/>
<!--@BendPoints 16,31 16,38-->
    <nodeSuccessors name="decision_no" next="JoinNode12"/>
  </nodes>
<!--@Location 7,16-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode22">
    <nodeSuccessors name="next" next="Decision2"/>
    <parameterBindings name="TypeCodeName" objectPath="LinkTypeSummary:TypeCodeDefinition:Name"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-GetByProduct"/>
  </nodes>
<!--@Location 7,17-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="Decision2" conditionKey="TypedProductCategoryAssignments"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="CallNode20"/>
<!--@BendPoints 16,36 16,37-->
    <nodeSuccessors name="decision_no" next="JoinNode12"/>
  </nodes>
<!--@Location 7,18-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode20">
    <nodeSuccessors name="next" next="JoinNode12"/>
    <parameterBindings name="ObjectIDFieldName" constant="TypedProductCategoryAssignmentRef"/>
    <parameterBindings name="SelectedObjectUUIDs" objectPath="SelectedTPCA_Refs"/>
    <parameterBindings name="SortedPositionables" objectPath="TypedProductCategoryAssignments"/>
    <startNode referencedName="ProcessSorting-MovePositions"/>
  </nodes>
<!--@Location 7,19-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode12">
<!--@BendPoints 14,39 14,27-->
    <nodeSuccessors name="next" next="LoopNode13_Entry"/>
  </nodes>
<!--@Location 8,19-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode24"/>
<!--@Location 13,4-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode10" strict="true" name="MultipleRemove"
      callMode="Private">
<!--@BendPoints 27,10-->
    <nodeSuccessors name="next" next="LoopNode4"/>
    <parameters name="DeleteLinkRefs" type="java.util.Iterator"/>
  </nodes>
<!--@Location 13,5-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode4" loop="DeleteLinkRefs">
<!--@BendPoints 28,11-->
    <nodeSuccessors name="next" next="EndNode12"/>
    <entry key="TypedProductCategoryAssignmentRef">
<!--@BendPoints 27,12-->
      <nodeSuccessors name="loop_entry_next" next="GetTypedProductCategoryAssignmentByRef1"/>
    </entry>
  </nodes>
<!--@Location 13,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTypedProductCategoryAssignmentByRef1">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetTypedProductCategoryAssignmentByRef.xml"/>
<!--@BendPoints 27,14-->
    <nodeSuccessors name="next" next="CallNode5"/>
<!--@BendPoints 28,13 28,17-->
    <nodeSuccessors name="pipelet_error" next="JoinNode3"/>
  </nodes>
<!--@Location 13,7-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode5">
    <nodeSuccessors name="next" next="JoinNode3"/>
    <startNode referencedName="ProcessTypedProductCategoryAssignment-Remove"/>
  </nodes>
<!--@Location 13,8-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode3">
<!--@BendPoints 26,17 26,11-->
    <nodeSuccessors name="next" next="LoopNode4_Entry"/>
  </nodes>
<!--@Location 14,5-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode12" strict="true"/>
<!--Removes the given TypedProductCategoryAssignment.
@Location 12,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode4" strict="true" name="Remove"
      callMode="Private">
<!--@BendPoints 25,4-->
    <nodeSuccessors name="next" next="RemoveTypedProductCategoryAssignment1"/>
    <parameters name="TypedProductCategoryAssignment" type="com.intershop.beehive.xcs.capi.catalog.TypedProductCategoryAssignment"/>
  </nodes>
<!--@Location 12,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveTypedProductCategoryAssignment1">
    <pipelet href="enfinity:/bc_mvc/pipelets/RemoveTypedProductCategoryAssignment.xml"/>
<!--@BendPoints 25,6-->
    <nodeSuccessors name="next" next="EndNode5"/>
  </nodes>
<!--@Location 12,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode5" strict="true"/>
<!--Removes the TypedProductCategoryAssignment between the product and the catalog category of the given type code in the product domain. All parameters must match. If no TypedProductCategoryAssignment is found then nothing happens.
@Location 15,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode5" strict="true" name="RemoveByAttributes"
      callMode="Private">
<!--@BendPoints 31,4-->
    <nodeSuccessors name="next" next="RemoveTypedProductCategoryAssignmentByAttributes1"/>
    <parameters name="CatalogCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
<!--The type of the TypedProductCategoryAssignment.
Use the string representation of the TypedProductCategoryAssignment TypeCode here (as defined by a TypeCodeDefinition:Name, where TypeCodeDefinition:Group="TypedProductCategoryAssignment").-->
    <parameters name="TypeCodeName" type="java.lang.String"/>
  </nodes>
<!--@Location 15,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveTypedProductCategoryAssignmentByAttributes1">
    <pipelet href="enfinity:/bc_mvc/pipelets/RemoveTypedProductCategoryAssignmentByAttributes.xml"/>
<!--@BendPoints 31,6-->
    <nodeSuccessors name="next" next="EndNode6"/>
<!--@BendPoints 35,5 35,6-->
    <nodeSuccessors name="pipelet_error" next="EndNode7"/>
  </nodes>
<!--@Location 15,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode6" strict="true"/>
<!--If the specified product is not bound to this category with a TypedProductCategoryAssignment of the given type code, the error end node is taken. The error end node is taken in this case only.
@Location 17,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode7" name="error" strict="true"/>
<!--@Location 24,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode0" strict="true" name="UpdatePositions"
      callMode="Private">
    <nodeSuccessors name="next" next="GetTypedProductCategoryAssignmentsForCategory0"/>
    <parameters name="CatalogCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
    <parameters name="ProductDomain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="TypeCodeName" type="java.lang.String"/>
  </nodes>
<!--@Location 24,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTypedProductCategoryAssignmentsForCategory0">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetTypedProductCategoryAssignmentsForCategory.xml"/>
    <nodeSuccessors name="next" next="JoinNode20"/>
  </nodes>
<!--@Location 24,2-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode20">
    <nodeSuccessors name="next" next="DecisionNode0"/>
  </nodes>
<!--@Location 24,3-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode0" conditionKey="TypedProductCategoryAssignments"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="VerifyDouble0"/>
<!--@BendPoints 51,7-->
    <nodeSuccessors name="decision_no" next="JoinNode17"/>
  </nodes>
<!--@Location 24,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="VerifyDouble0">
    <pipelet href="enfinity:/bc_foundation/pipelets/VerifyDouble.xml"/>
    <nodeSuccessors name="next" next="LoopNode18"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode17"/>
    <parameterBindings name="LocalizedString" constant="1.0"/>
    <returnValueBindings name="DoubleValue" objectPath="Position"/>
  </nodes>
<!--@Location 24,5-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode18" loop="TypedProductCategoryAssignments">
    <nodeSuccessors name="next" next="JoinNode0"/>
    <entry key="TypedProductCategoryAssignment">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode14"/>
    </entry>
  </nodes>
<!--@Location 24,6-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode14" conditionKey="TypedProductCategoryAssignment:PositionNull"
      operator="str_neq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="DecisionNode15"/>
<!--@BendPoints 53,13 53,14-->
    <nodeSuccessors name="decision_no" next="UpdatePositionable0"/>
  </nodes>
<!--@Location 24,7-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode15" conditionKey="TypedProductCategoryAssignment:Position"
      operator="gte" conditionItem="Position">
    <nodeSuccessors name="decision_yes" next="CalculateDouble0"/>
<!--@BendPoints 51,15-->
    <nodeSuccessors name="decision_no" next="JoinNode15"/>
  </nodes>
<!--@Location 24,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CalculateDouble0">
    <configurationValues name="Operand2" value="1"/>
    <configurationValues name="Operation" value="+"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CalculateDouble.xml"/>
    <nodeSuccessors name="next" next="JoinNode18"/>
    <parameterBindings name="Operand1" objectPath="TypedProductCategoryAssignment:Position"/>
    <returnValueBindings name="Result" objectPath="Position"/>
  </nodes>
<!--@Location 24,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode18">
<!--@BendPoints 48,19 48,11-->
    <nodeSuccessors name="next" next="LoopNode18_Entry"/>
  </nodes>
<!--@Location 25,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode15">
    <nodeSuccessors name="next" next="JoinNode18"/>
  </nodes>
<!--@Location 26,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdatePositionable0">
    <pipelet href="enfinity:/core/pipelets/UpdatePositionable.xml"/>
    <nodeSuccessors name="next" next="CalculateDouble1"/>
<!--@BendPoints 55,15 55,19-->
    <nodeSuccessors name="pipelet_error" next="JoinNode19"/>
    <parameterBindings name="Positionable" objectPath="TypedProductCategoryAssignment"/>
  </nodes>
<!--@Location 26,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CalculateDouble1">
    <configurationValues name="Operand2" value="1"/>
    <configurationValues name="Operation" value="+"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CalculateDouble.xml"/>
    <nodeSuccessors name="next" next="JoinNode19"/>
    <parameterBindings name="Operand1" objectPath="Position"/>
    <returnValueBindings name="Result" objectPath="Position"/>
  </nodes>
<!--@Location 26,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode19">
    <nodeSuccessors name="next" next="JoinNode15"/>
  </nodes>
<!--@Location 25,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode0">
    <nodeSuccessors name="next" next="EndNode0"/>
  </nodes>
<!--@Location 26,5-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode0" strict="true"/>
<!--@Location 25,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode17">
    <nodeSuccessors name="next" next="JoinNode0"/>
  </nodes>
<!--@Location 26,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode25" strict="true" name="UpdatePositionsForProduct"
      callMode="Private">
    <nodeSuccessors name="next" next="GetTypedProductCategoryAssignmentsForProduct0"/>
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
    <parameters name="TypeCodeName" type="java.lang.String"/>
  </nodes>
<!--@Location 26,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTypedProductCategoryAssignmentsForProduct0">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetTypedProductCategoryAssignmentsForProduct.xml"/>
<!--@BendPoints 53,5-->
    <nodeSuccessors name="next" next="JoinNode20"/>
  </nodes>
</pipeline:Pipeline>
