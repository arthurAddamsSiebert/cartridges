<?xml version="1.0" encoding="UTF-8"?>
<!--@Group Quote-->

<pipeline:Pipeline xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:pipeline="http://www.intershop.de/pipeline/2010"
    name="ProcessQuote" type="process">
<!--@Location 8,22-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode9" strict="true" name="AcceptByApprover"
      callMode="Private">
<!--@BendPoints 17,46-->
    <nodeSuccessors name="next" next="DecisionNode7"/>
    <parameters name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"
        optional="true"/>
  </nodes>
<!--@Location 8,23-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode7" conditionKey="Quote:State"
      operator="eq" conditionValue="4">
    <nodeSuccessors name="decision_yes" next="JoinNode2"/>
<!--@BendPoints 19,47 19,48-->
    <nodeSuccessors name="decision_no" next="DecisionNode8"/>
  </nodes>
<!--@Location 8,24-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode2">
<!--@BendPoints 17,50-->
    <nodeSuccessors name="next" next="UpdateProductList7"/>
  </nodes>
<!--@Location 8,25-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProductList7">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProductList.xml"/>
<!--@BendPoints 17,52-->
    <nodeSuccessors name="next" next="CreateProductListEvent7"/>
    <parameterBindings name="DisplayName" nullBinding="true"/>
    <parameterBindings name="DocumentNumber" nullBinding="true"/>
    <parameterBindings name="Fixed" nullBinding="true"/>
    <parameterBindings name="IsPublic" nullBinding="true"/>
    <parameterBindings name="Locale" nullBinding="true"/>
    <parameterBindings name="OwningDomain" nullBinding="true"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="Scope" nullBinding="true"/>
    <parameterBindings name="ShortDescription" nullBinding="true"/>
    <parameterBindings name="State" constant="(Integer)7"/>
    <parameterBindings name="Total" nullBinding="true"/>
    <parameterBindings name="TypeCode" nullBinding="true"/>
    <parameterBindings name="ValidFrom" nullBinding="true"/>
    <parameterBindings name="ValidTo" nullBinding="true"/>
  </nodes>
<!--@Location 8,26-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateProductListEvent7">
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateProductListEvent.xml"/>
    <nodeSuccessors name="next" next="JoinNode22"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="TypeCode" constant="AcceptedByApprover"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 8,27-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode22">
    <nodeSuccessors name="next" next="JoinNode23"/>
  </nodes>
<!--@Location 10,27-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode23">
    <nodeSuccessors name="next" next="JoinNode24"/>
  </nodes>
<!--@Location 12,27-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode24">
    <nodeSuccessors name="next" next="JoinNode25"/>
  </nodes>
<!--@Location 14,27-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode25">
    <nodeSuccessors name="next" next="JoinNode26"/>
  </nodes>
<!--@Location 16,27-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode26">
    <nodeSuccessors name="next" next="UpdateProductList16"/>
  </nodes>
<!--@Location 16,28-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProductList16">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProductList.xml"/>
    <nodeSuccessors name="next" next="EndNode20"/>
    <parameterBindings name="DisplayName" nullBinding="true"/>
    <parameterBindings name="DocumentNumber" nullBinding="true"/>
    <parameterBindings name="Fixed" nullBinding="true"/>
    <parameterBindings name="IsPublic" nullBinding="true"/>
    <parameterBindings name="Locale" nullBinding="true"/>
    <parameterBindings name="Modified" constant="(java.lang.Boolean)false"/>
    <parameterBindings name="NegotiationTotal" nullBinding="true"/>
    <parameterBindings name="OriginTotal" nullBinding="true"/>
    <parameterBindings name="OwningDomain" nullBinding="true"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="Scope" nullBinding="true"/>
    <parameterBindings name="ShortDescription" nullBinding="true"/>
    <parameterBindings name="State" nullBinding="true"/>
    <parameterBindings name="Total" nullBinding="true"/>
    <parameterBindings name="TypeCode" nullBinding="true"/>
    <parameterBindings name="ValidFrom" nullBinding="true"/>
    <parameterBindings name="ValidTo" nullBinding="true"/>
  </nodes>
<!--@Location 16,29-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode20"/>
<!--@Location 9,24-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode8" conditionKey="Quote:State"
      operator="eq" conditionValue="6">
    <nodeSuccessors name="decision_yes" next="JoinNode2"/>
<!--@BendPoints 20,49-->
    <nodeSuccessors name="decision_no" next="EndNode15"/>
  </nodes>
<!--@Location 9,25-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode15" name="ERROR"/>
<!--@Location 14,22-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode12" strict="true" name="AcceptBySeller"
      callMode="Private">
<!--@BendPoints 29,46-->
    <nodeSuccessors name="next" next="DecisionNode14"/>
    <parameters name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"
        optional="true"/>
  </nodes>
<!--@Location 14,23-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode14" conditionKey="Quote:State"
      operator="eq" conditionValue="3">
    <nodeSuccessors name="decision_yes" next="JoinNode5"/>
<!--@BendPoints 30,47 30,46 31,46-->
    <nodeSuccessors name="decision_no" next="DecisionNode13"/>
  </nodes>
<!--@Location 14,24-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode5">
<!--@BendPoints 29,50-->
    <nodeSuccessors name="next" next="UpdateProductList10"/>
  </nodes>
<!--@Location 14,25-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProductList10">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProductList.xml"/>
<!--@BendPoints 29,52-->
    <nodeSuccessors name="next" next="CreateProductListEvent10"/>
    <parameterBindings name="DisplayName" nullBinding="true"/>
    <parameterBindings name="DocumentNumber" nullBinding="true"/>
    <parameterBindings name="Fixed" nullBinding="true"/>
    <parameterBindings name="IsPublic" nullBinding="true"/>
    <parameterBindings name="Locale" nullBinding="true"/>
    <parameterBindings name="OwningDomain" nullBinding="true"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="Scope" nullBinding="true"/>
    <parameterBindings name="ShortDescription" nullBinding="true"/>
    <parameterBindings name="State" constant="(Integer)6"/>
    <parameterBindings name="Total" nullBinding="true"/>
    <parameterBindings name="TypeCode" nullBinding="true"/>
    <parameterBindings name="ValidFrom" nullBinding="true"/>
    <parameterBindings name="ValidTo" nullBinding="true"/>
  </nodes>
<!--@Location 14,26-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateProductListEvent10">
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateProductListEvent.xml"/>
    <nodeSuccessors name="next" next="JoinNode25"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="TypeCode" constant="AcceptedBySeller"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 15,23-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode13" conditionKey="Quote:State"
      operator="eq" conditionValue="5">
<!--@BendPoints 31,49-->
    <nodeSuccessors name="decision_yes" next="JoinNode5"/>
<!--@BendPoints 32,47 31,50-->
    <nodeSuccessors name="decision_no" next="EndNode21"/>
  </nodes>
<!--@Location 15,25-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode21" name="ERROR"/>
<!--@Location 2,22-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode6" strict="true" name="Approve"
      callMode="Private">
<!--@BendPoints 5,46-->
    <nodeSuccessors name="next" next="DecisionNode4"/>
    <parameters name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"
        optional="true"/>
  </nodes>
<!--@Location 2,23-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode4" conditionKey="Quote:State"
      operator="eq" conditionValue="1">
<!--@BendPoints 5,48-->
    <nodeSuccessors name="decision_yes" next="UpdateProductList5"/>
<!--@BendPoints 7,47 7,52-->
    <nodeSuccessors name="decision_no" next="EndNode9"/>
  </nodes>
<!--@Location 2,24-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProductList5">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProductList.xml"/>
    <nodeSuccessors name="next" next="CreateProductListEvent5"/>
    <parameterBindings name="DisplayName" nullBinding="true"/>
    <parameterBindings name="DocumentNumber" nullBinding="true"/>
    <parameterBindings name="Fixed" nullBinding="true"/>
    <parameterBindings name="IsPublic" nullBinding="true"/>
    <parameterBindings name="Locale" nullBinding="true"/>
    <parameterBindings name="OwningDomain" nullBinding="true"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="Scope" nullBinding="true"/>
    <parameterBindings name="ShortDescription" nullBinding="true"/>
    <parameterBindings name="State" constant="(Integer)2"/>
    <parameterBindings name="Total" nullBinding="true"/>
    <parameterBindings name="TypeCode" nullBinding="true"/>
    <parameterBindings name="ValidFrom" nullBinding="true"/>
    <parameterBindings name="ValidTo" nullBinding="true"/>
  </nodes>
<!--@Location 2,25-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateProductListEvent5">
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateProductListEvent.xml"/>
    <nodeSuccessors name="next" next="JoinNode19"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="TypeCode" constant="ApprovedByApprover"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 2,27-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode19">
    <nodeSuccessors name="next" next="JoinNode20"/>
  </nodes>
<!--@Location 4,27-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode20">
    <nodeSuccessors name="next" next="JoinNode21"/>
  </nodes>
<!--@Location 6,27-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode21">
    <nodeSuccessors name="next" next="JoinNode22"/>
  </nodes>
<!--@Location 3,26-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode9" name="ERROR"/>
<!--@Location 4,29-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode21" strict="true" name="AutoAccept"
      callMode="Private">
<!--@BendPoints 9,60-->
    <nodeSuccessors name="next" next="DecisionNode23"/>
    <parameters name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"
        optional="true"/>
  </nodes>
<!--@Location 4,30-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode23" conditionKey="Quote:State"
      operator="eq" conditionValue="0">
    <nodeSuccessors name="decision_yes" next="CallNode10"/>
<!--@BendPoints 10,61-->
    <nodeSuccessors name="decision_no" next="EndNode36"/>
  </nodes>
<!--@Location 4,31-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode10">
<!--@BendPoints 9,64-->
    <nodeSuccessors name="next" next="GetCurrentDate6"/>
    <parameterBindings name="Domain" objectPath="Quote:Domain"/>
    <startNode referencedName="ProcessQuote-GetDomainPreferences"/>
  </nodes>
<!--@Location 4,32-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCurrentDate6">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetCurrentDate.xml"/>
<!--@BendPoints 9,66-->
    <nodeSuccessors name="next" next="CalculateDate4"/>
  </nodes>
<!--@Location 4,33-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CalculateDate4">
    <configurationValues name="CalculationMethod" value="Add"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CalculateDate.xml"/>
<!--@BendPoints 9,68-->
    <nodeSuccessors name="next" next="LoopNode11"/>
    <parameterBindings name="Date" objectPath="Quote:CreationDate"/>
    <parameterBindings name="Days" objectPath="QuoteLifeTime"/>
    <parameterBindings name="Hours" nullBinding="true"/>
    <parameterBindings name="Milliseconds" nullBinding="true"/>
    <parameterBindings name="Minutes" nullBinding="true"/>
    <parameterBindings name="Seconds" nullBinding="true"/>
    <returnValueBindings name="CalculatedDate" objectPath="ValidToDate"/>
  </nodes>
<!--@Location 4,34-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode11" loop="Quote:IndependentItems">
<!--@BendPoints 13,69-->
    <nodeSuccessors name="next" next="DecisionNode35"/>
    <entry key="QuoteItem">
<!--@BendPoints 9,70-->
      <nodeSuccessors name="loop_entry_next" next="GetProductByProductRef4"/>
    </entry>
  </nodes>
<!--@Location 4,35-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetProductByProductRef4">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetProductByProductRef.xml"/>
<!--@BendPoints 9,72-->
    <nodeSuccessors name="next" next="CallNode12"/>
<!--@BendPoints 11,71-->
    <nodeSuccessors name="pipelet_error" next="JoinNode35"/>
    <parameterBindings name="ProductRef" objectPath="QuoteItem:ProductRef"/>
    <parameterBindings name="ProductRefID" nullBinding="true"/>
    <parameterBindings name="ProductRefIDs" nullBinding="true"/>
    <parameterBindings name="ProductRefs" nullBinding="true"/>
    <returnValueBindings name="Product" objectPath="Product"/>
    <returnValueBindings name="Products" nullBinding="true"/>
    <returnValueBindings name="ProductsHash" nullBinding="true"/>
  </nodes>
<!--@Location 4,36-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode12">
    <nodeSuccessors name="next" next="JoinNode36"/>
    <nodeSuccessors name="ERROR" next="JoinNode35"/>
    <startNode referencedName="ProcessQuote-GetValidToDate"/>
  </nodes>
<!--@Location 4,39-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode36">
<!--@BendPoints 8,79 8,69-->
    <nodeSuccessors name="next" next="LoopNode11_Entry"/>
  </nodes>
<!--@Location 5,36-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode35">
    <nodeSuccessors name="next" next="SetDictionaryValue6"/>
  </nodes>
<!--@Location 5,37-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue6">
    <configurationValues name="Name" value="ErrorCode"/>
    <configurationValues name="Value" value="ProductOutDated"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
<!--@BendPoints 11,76-->
    <nodeSuccessors name="next" next="AddEntryToMap4"/>
  </nodes>
<!--@Location 5,38-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddEntryToMap4">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddEntryToMap.xml"/>
<!--@BendPoints 11,79-->
    <nodeSuccessors name="next" next="JoinNode36"/>
    <parameterBindings name="InMap" objectPath="ProductErrorMap"/>
    <parameterBindings name="Key" objectPath="QuoteItem:ProductRef"/>
    <parameterBindings name="Value" objectPath="QuoteItem:ProductRef"/>
    <returnValueBindings name="Keys" objectPath="ProductErrorKeys"/>
    <returnValueBindings name="OutMap" objectPath="ProductErrorMap"/>
  </nodes>
<!--@Location 6,35-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode35" conditionKey="ErrorCode"
      operator="undef">
<!--@BendPoints 13,72-->
    <nodeSuccessors name="decision_yes" next="DecisionNode36"/>
<!--@BendPoints 17,71-->
    <nodeSuccessors name="decision_no" next="JoinNode37"/>
  </nodes>
<!--@Location 6,36-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode36" conditionKey="ValidToDate:Time"
      operator="gt" conditionItem="CurrentDate:Time">
    <nodeSuccessors name="decision_yes" next="UpdateProductList12"/>
<!--@BendPoints 14,73-->
    <nodeSuccessors name="decision_no" next="SetDictionaryValue7"/>
  </nodes>
<!--@Location 6,37-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProductList12">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProductList.xml"/>
    <nodeSuccessors name="next" next="CreateProductListEvent15"/>
    <parameterBindings name="DisplayName" nullBinding="true"/>
    <parameterBindings name="DocumentNumber" nullBinding="true"/>
    <parameterBindings name="Fixed" nullBinding="true"/>
    <parameterBindings name="IsPublic" nullBinding="true"/>
    <parameterBindings name="Locale" nullBinding="true"/>
    <parameterBindings name="OwningDomain" nullBinding="true"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="Scope" nullBinding="true"/>
    <parameterBindings name="ShortDescription" nullBinding="true"/>
    <parameterBindings name="State" constant="(Integer)8"/>
    <parameterBindings name="Total" nullBinding="true"/>
    <parameterBindings name="TypeCode" nullBinding="true"/>
    <parameterBindings name="ValidFrom" nullBinding="true"/>
    <parameterBindings name="ValidTo" objectPath="ValidToDate"/>
  </nodes>
<!--@Location 6,38-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateProductListEvent15">
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateProductListEvent.xml"/>
<!--@BendPoints 13,78-->
    <nodeSuccessors name="next" next="CreateProductListEvent12"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="TypeCode" constant="SubmittedToApprover"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 6,39-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateProductListEvent12">
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateProductListEvent.xml"/>
    <nodeSuccessors name="next" next="EndNode34"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="TypeCode" constant="AutoAccepted"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 6,40-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode34" strict="true"/>
<!--@Location 7,36-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue7">
    <configurationValues name="Name" value="ErrorCode"/>
    <configurationValues name="Value" value="ExpiredQuoteLifeTime"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode37"/>
  </nodes>
<!--@Location 8,36-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode37">
    <nodeSuccessors name="next" next="EndNode17"/>
  </nodes>
<!--@Location 8,40-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode17" name="ERROR" strict="true">
    <returnValues name="ProductErrorKeys" type="java.util.Iterator" optional="true"/>
    <returnValues name="ProductErrorMap" type="java.util.Map" optional="true"/>
    <returnValues name="ErrorCode" type="java.lang.String" optional="true"/>
    <returnValues name="QuoteLifeTime" type="java.lang.Integer" optional="true"/>
    <returnValues name="ValidToDate" type="java.util.Date" optional="true"/>
  </nodes>
<!--@Location 5,30-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode36" name="ERROR"/>
<!--@Location 10,22-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode10" strict="true" name="CancelByApprover"
      callMode="Private">
<!--@BendPoints 21,46-->
    <nodeSuccessors name="next" next="DecisionNode10"/>
    <parameters name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"
        optional="true"/>
  </nodes>
<!--@Location 10,23-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode10" conditionKey="Quote:State"
      operator="eq" conditionValue="4">
    <nodeSuccessors name="decision_yes" next="JoinNode3"/>
<!--@BendPoints 22,47 22,46 23,46-->
    <nodeSuccessors name="decision_no" next="DecisionNode9"/>
  </nodes>
<!--@Location 10,24-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode3">
<!--@BendPoints 21,50-->
    <nodeSuccessors name="next" next="UpdateProductList8"/>
  </nodes>
<!--@Location 10,25-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProductList8">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProductList.xml"/>
<!--@BendPoints 21,52-->
    <nodeSuccessors name="next" next="CreateProductListEvent8"/>
    <parameterBindings name="DisplayName" nullBinding="true"/>
    <parameterBindings name="DocumentNumber" nullBinding="true"/>
    <parameterBindings name="Fixed" nullBinding="true"/>
    <parameterBindings name="IsPublic" nullBinding="true"/>
    <parameterBindings name="Locale" nullBinding="true"/>
    <parameterBindings name="OwningDomain" nullBinding="true"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="Scope" nullBinding="true"/>
    <parameterBindings name="ShortDescription" nullBinding="true"/>
    <parameterBindings name="State" constant="(Integer)11"/>
    <parameterBindings name="Total" nullBinding="true"/>
    <parameterBindings name="TypeCode" nullBinding="true"/>
    <parameterBindings name="ValidFrom" nullBinding="true"/>
    <parameterBindings name="ValidTo" nullBinding="true"/>
  </nodes>
<!--@Location 10,26-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateProductListEvent8">
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateProductListEvent.xml"/>
    <nodeSuccessors name="next" next="JoinNode23"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="TypeCode" constant="CancelledByApprover"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 11,23-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode9" conditionKey="Quote:State"
      operator="eq" conditionValue="6">
<!--@BendPoints 23,49-->
    <nodeSuccessors name="decision_yes" next="JoinNode3"/>
<!--@BendPoints 24,47-->
    <nodeSuccessors name="decision_no" next="EndNode16"/>
  </nodes>
<!--@Location 11,25-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode16" name="ERROR"/>
<!--@Location 16,22-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode13" strict="true" name="CancelBySeller"
      callMode="Private">
<!--@BendPoints 33,46-->
    <nodeSuccessors name="next" next="DecisionNode15"/>
    <parameters name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"
        optional="true"/>
  </nodes>
<!--@Location 16,23-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode15" conditionKey="Quote:State"
      operator="eq" conditionValue="3">
    <nodeSuccessors name="decision_yes" next="JoinNode6"/>
<!--@BendPoints 34,47 34,46 35,46-->
    <nodeSuccessors name="decision_no" next="DecisionNode12"/>
  </nodes>
<!--@Location 16,24-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode6">
<!--@BendPoints 33,50-->
    <nodeSuccessors name="next" next="UpdateProductList11"/>
  </nodes>
<!--@Location 16,25-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProductList11">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProductList.xml"/>
<!--@BendPoints 33,52-->
    <nodeSuccessors name="next" next="CreateProductListEvent9"/>
    <parameterBindings name="DisplayName" nullBinding="true"/>
    <parameterBindings name="DocumentNumber" nullBinding="true"/>
    <parameterBindings name="Fixed" nullBinding="true"/>
    <parameterBindings name="IsPublic" nullBinding="true"/>
    <parameterBindings name="Locale" nullBinding="true"/>
    <parameterBindings name="OwningDomain" nullBinding="true"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="Scope" nullBinding="true"/>
    <parameterBindings name="ShortDescription" nullBinding="true"/>
    <parameterBindings name="State" constant="(Integer)10"/>
    <parameterBindings name="Total" nullBinding="true"/>
    <parameterBindings name="TypeCode" nullBinding="true"/>
    <parameterBindings name="ValidFrom" nullBinding="true"/>
    <parameterBindings name="ValidTo" nullBinding="true"/>
  </nodes>
<!--@Location 16,26-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateProductListEvent9">
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateProductListEvent.xml"/>
    <nodeSuccessors name="next" next="JoinNode26"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="TypeCode" constant="CancelledBySeller"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 17,23-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode12" conditionKey="Quote:State"
      operator="eq" conditionValue="5">
<!--@BendPoints 35,49-->
    <nodeSuccessors name="decision_yes" next="JoinNode6"/>
<!--@BendPoints 36,47 36,54 35,54-->
    <nodeSuccessors name="decision_no" next="EndNode22"/>
  </nodes>
<!--@Location 17,27-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode22" name="ERROR"/>
<!--@Location 21,9-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode17" strict="true" name="CheckExpiredQuotesInRequisition"
      callMode="Private">
    <nodeSuccessors name="next" next="GetCurrentDate2"/>
    <parameters name="Requisition" type="com.intershop.beehive.bts.capi.orderprocess.basket.Basket"/>
  </nodes>
<!--@Location 21,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCurrentDate2">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetCurrentDate.xml"/>
    <nodeSuccessors name="next" next="LoopNode6"/>
  </nodes>
<!--@Location 21,11-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode6" loop="Requisition:ProductLineItems">
<!--@BendPoints 44,23-->
    <nodeSuccessors name="next" next="EndNode29"/>
    <entry key="PLI">
<!--@BendPoints 43,24-->
      <nodeSuccessors name="loop_entry_next" next="DecisionNode20"/>
    </entry>
  </nodes>
<!--@Location 21,12-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode20" conditionKey="PLI:QuoteUUID"
      operator="str_empty">
    <nodeSuccessors name="decision_yes" next="JoinNode9"/>
<!--@BendPoints 45,25 45,26-->
    <nodeSuccessors name="decision_no" next="GetProductListByUUID1"/>
  </nodes>
<!--@Location 21,13-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode9">
<!--@BendPoints 42,27 42,23-->
    <nodeSuccessors name="next" next="LoopNode6_Entry"/>
  </nodes>
<!--@Location 22,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetProductListByUUID1">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetProductListByUUID.xml"/>
<!--@BendPoints 45,28-->
    <nodeSuccessors name="next" next="DecisionNode18"/>
<!--@BendPoints 47,27-->
    <nodeSuccessors name="pipelet_error" next="JoinNode10"/>
    <parameterBindings name="ProductListUUID" objectPath="PLI:QuoteUUID"/>
    <returnValueBindings name="ProductList" objectPath="Quote"/>
  </nodes>
<!--@Location 22,14-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode18" conditionKey="CurrentDate:Time"
      operator="gt" conditionItem="Quote:ValidTo:Time">
    <nodeSuccessors name="decision_yes" next="AddEntryToMap3"/>
    <nodeSuccessors name="decision_no" next="JoinNode10"/>
  </nodes>
<!--@Location 22,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddEntryToMap3">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddEntryToMap.xml"/>
    <nodeSuccessors name="next" next="JoinNode11"/>
    <parameterBindings name="InMap" objectPath="ExpiredQuoteMap"/>
    <parameterBindings name="Key" objectPath="PLI:UUID"/>
    <parameterBindings name="Value" objectPath="PLI:QuoteUUID"/>
    <returnValueBindings name="Keys" objectPath="ExpiredQuoteMapKeys"/>
    <returnValueBindings name="OutMap" objectPath="ExpiredQuoteMap"/>
  </nodes>
<!--@Location 22,16-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode11">
<!--@BendPoints 43,33-->
    <nodeSuccessors name="next" next="JoinNode9"/>
  </nodes>
<!--@Location 23,14-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode10">
<!--@BendPoints 47,33-->
    <nodeSuccessors name="next" next="JoinNode11"/>
  </nodes>
<!--@Location 22,11-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode29" strict="true">
    <returnValues name="ExpiredQuoteMap" type="java.util.Map" optional="true"/>
    <returnValues name="ExpiredQuoteMapKeys" type="java.util.Iterator" optional="true"/>
  </nodes>
<!--@Location 23,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode16" strict="true" name="CheckForExistingQuoteInRequisition"
      callMode="Private">
<!--@BendPoints 47,2-->
    <nodeSuccessors name="next" next="LoopNode5"/>
    <parameters name="Requisition" type="com.intershop.beehive.bts.capi.orderprocess.basket.Basket"/>
    <parameters name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"/>
  </nodes>
<!--@Location 23,1-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode5" loop="Requisition:ProductLineItems">
<!--@BendPoints 48,3-->
    <nodeSuccessors name="next" next="EndNode28"/>
    <entry key="PLI">
<!--@BendPoints 47,4-->
      <nodeSuccessors name="loop_entry_next" next="DecisionNode17"/>
    </entry>
  </nodes>
<!--@Location 23,2-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode17" conditionKey="PLI:QuoteUUID"
      operator="str_empty">
    <nodeSuccessors name="decision_yes" next="JoinNode7"/>
<!--@BendPoints 48,5-->
    <nodeSuccessors name="decision_no" next="DecisionNode19"/>
  </nodes>
<!--@Location 23,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode7">
<!--@BendPoints 46,7 46,3-->
    <nodeSuccessors name="next" next="LoopNode5_Entry"/>
  </nodes>
<!--@Location 24,2-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode19" conditionKey="PLI:QuoteUUID"
      operator="str_eq" conditionItem="Quote:UUID">
<!--@BendPoints 50,5 50,8 49,8-->
    <nodeSuccessors name="decision_yes" next="SetDictionaryValue1"/>
<!--@BendPoints 49,7-->
    <nodeSuccessors name="decision_no" next="JoinNode7"/>
  </nodes>
<!--@Location 24,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue1">
    <configurationValues name="Name" value="ErrorCode"/>
    <configurationValues name="Value" value="ExistsInRequisition"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
<!--@BendPoints 49,10-->
    <nodeSuccessors name="next" next="EndNode27"/>
  </nodes>
<!--@Location 24,5-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode27" name="ERROR" strict="true">
    <returnValues name="ErrorCode" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 24,1-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode28" strict="true"/>
<!--@Location 2,29-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode22" strict="true" name="Close"
      callMode="Private">
    <nodeSuccessors name="next" next="UpdateProductList13"/>
    <parameters name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"
        optional="true"/>
  </nodes>
<!--@Location 2,31-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProductList13">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProductList.xml"/>
<!--@BendPoints 5,64-->
    <nodeSuccessors name="next" next="CreateProductListEvent13"/>
    <parameterBindings name="DisplayName" nullBinding="true"/>
    <parameterBindings name="DocumentNumber" nullBinding="true"/>
    <parameterBindings name="Fixed" nullBinding="true"/>
    <parameterBindings name="IsPublic" nullBinding="true"/>
    <parameterBindings name="Locale" nullBinding="true"/>
    <parameterBindings name="OwningDomain" nullBinding="true"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="Scope" nullBinding="true"/>
    <parameterBindings name="ShortDescription" nullBinding="true"/>
    <parameterBindings name="State" constant="(Integer)12"/>
    <parameterBindings name="Total" nullBinding="true"/>
    <parameterBindings name="TypeCode" nullBinding="true"/>
    <parameterBindings name="ValidFrom" nullBinding="true"/>
    <parameterBindings name="ValidTo" nullBinding="true"/>
  </nodes>
<!--@Location 2,32-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateProductListEvent13">
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateProductListEvent.xml"/>
<!--@BendPoints 5,66-->
    <nodeSuccessors name="next" next="EndNode37"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="TypeCode" constant="ClosedByBuyer"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 2,33-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode37"/>
<!--@Location 10,30-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode29" name="ConfigquoteForm"
      callMode="Private">
<!--@BendPoints 21,62-->
    <nodeSuccessors name="next" next="DecisionNode40"/>
    <parameters name="mode" type="java.lang.String"/>
    <parameters name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"/>
    <parameters name="EditMode" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 10,31-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode40" conditionKey="mode"
      operator="str_eq" conditionValue="Owning">
    <nodeSuccessors name="decision_yes" next="DecisionNode41"/>
    <nodeSuccessors name="decision_no" next="JoinNode43"/>
  </nodes>
<!--@Location 10,33-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode41" conditionKey="Quote:State"
      operator="lt" conditionValue="2">
    <nodeSuccessors name="decision_yes" next="SetDictionaryValue11"/>
<!--@BendPoints 23,65-->
    <nodeSuccessors name="decision_no" next="JoinNode43"/>
  </nodes>
<!--ChangeQuantity = true
@Location 10,34-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue11">
    <configurationValues name="Name" value="ChangeQuantity"/>
    <configurationValues name="Value" value="true"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="SetDictionaryValue10"/>
  </nodes>
<!--@Location 10,35-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue10">
    <configurationValues name="Name" value="ChangePrice"/>
    <configurationValues name="Value" value="false"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="SetDictionaryValue12"/>
  </nodes>
<!--@Location 10,36-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue12">
    <configurationValues name="Name" value="ChangeTotal"/>
    <configurationValues name="Value" value="false"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="EndNode38"/>
  </nodes>
<!--@Location 10,37-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode38" strict="true"/>
<!--@Location 11,31-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode43">
    <nodeSuccessors name="next" next="DecisionNode42"/>
  </nodes>
<!--@Location 12,31-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode42" conditionKey="mode"
      operator="str_eq" conditionValue="Negotiation">
<!--@BendPoints 25,64-->
    <nodeSuccessors name="decision_yes" next="DecisionNode43"/>
    <nodeSuccessors name="decision_no" next="JoinNode44"/>
  </nodes>
<!--@Location 12,32-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode43" conditionKey="Quote:State"
      operator="eq" conditionValue="2">
<!--@BendPoints 25,66-->
    <nodeSuccessors name="decision_yes" next="DecisionNode45"/>
<!--@BendPoints 27,65-->
    <nodeSuccessors name="decision_no" next="JoinNode44"/>
  </nodes>
<!--@Location 12,33-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode45" conditionKey="Quote:Fixed"
      operator="str_eq" conditionValue="true">
<!--@BendPoints 25,68-->
    <nodeSuccessors name="decision_yes" next="SetDictionaryValue17"/>
<!--@BendPoints 29,67-->
    <nodeSuccessors name="decision_no" next="SetDictionaryValue20"/>
  </nodes>
<!--@Location 12,34-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue17">
    <configurationValues name="Name" value="ChangeQuantity"/>
    <configurationValues name="Value" value="false"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="SetDictionaryValue18"/>
  </nodes>
<!--@Location 12,35-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue18">
    <configurationValues name="Name" value="ChangePrice"/>
    <configurationValues name="Value" value="false"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="SetDictionaryValue16"/>
  </nodes>
<!--@Location 12,36-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue16">
    <configurationValues name="Name" value="ChangeTotal"/>
    <configurationValues name="Value" value="true"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
<!--@BendPoints 25,74-->
    <nodeSuccessors name="next" next="EndNode42"/>
  </nodes>
<!--@Location 12,37-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode42" strict="true"/>
<!--@Location 14,34-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue20">
    <configurationValues name="Name" value="ChangeQuantity"/>
    <configurationValues name="Value" value="true"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="SetDictionaryValue21"/>
  </nodes>
<!--@Location 14,35-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue21">
    <configurationValues name="Name" value="ChangePrice"/>
    <configurationValues name="Value" value="true"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="SetDictionaryValue19"/>
  </nodes>
<!--@Location 14,36-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue19">
    <configurationValues name="Name" value="ChangeTotal"/>
    <configurationValues name="Value" value="false"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
<!--@BendPoints 29,74-->
    <nodeSuccessors name="next" next="EndNode43"/>
  </nodes>
<!--@Location 14,37-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode43" strict="true"/>
<!--@Location 13,31-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode44">
    <nodeSuccessors name="next" next="DecisionNode46"/>
  </nodes>
<!--@Location 14,31-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode46" conditionKey="EditMode">
    <nodeSuccessors name="decision_yes" next="DecisionNode44"/>
<!--@BendPoints 33,63-->
    <nodeSuccessors name="decision_no" next="JoinNode45"/>
  </nodes>
<!--@Location 14,32-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode44" conditionKey="EditMode"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="DecisionNode45"/>
    <nodeSuccessors name="decision_no" next="JoinNode45"/>
  </nodes>
<!--@Location 16,32-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode45">
    <nodeSuccessors name="next" next="SetDictionaryValue15"/>
  </nodes>
<!--@Location 16,34-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue15">
    <configurationValues name="Name" value="ChangeQuantity"/>
    <configurationValues name="Value" value="false"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="SetDictionaryValue13"/>
  </nodes>
<!--@Location 16,35-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue13">
    <configurationValues name="Name" value="ChangePrice"/>
    <configurationValues name="Value" value="false"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="SetDictionaryValue14"/>
  </nodes>
<!--@Location 16,36-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue14">
    <configurationValues name="Name" value="ChangeTotal"/>
    <configurationValues name="Value" value="false"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
<!--@BendPoints 33,74-->
    <nodeSuccessors name="next" next="EndNode41"/>
  </nodes>
<!--@Location 16,37-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode41" strict="true"/>
<!--@Location 8,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode23" strict="true" name="Copy"
      callMode="Private">
    <nodeSuccessors name="next" next="CreateProductList2"/>
    <parameters name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"/>
    <parameters name="CurrentUser" type="com.intershop.beehive.core.capi.domain.PersistentObject"/>
<!--The Domain of the new ProductList-->
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
<!--The owning domain of the quote.-->
    <parameters name="OwningDomain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 8,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateProductList2">
    <configurationValues name="DefaultTypeCode" value="4"/>
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateProductList.xml"/>
    <nodeSuccessors name="next" next="CallNode11"/>
    <parameterBindings name="Scope" objectPath="CurrentUser:Profile"/>
    <returnValueBindings name="ProductList" objectPath="NewQuote"/>
  </nodes>
<!--@Location 8,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode11">
<!--@BendPoints 17,6-->
    <nodeSuccessors name="next" next="CreateDocumentNumber2"/>
    <startNode referencedName="ProcessQuote-GetDomainPreferences"/>
  </nodes>
<!--@Location 8,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateDocumentNumber2">
    <configurationValues name="DomainSpecific" value="true"/>
    <configurationValues name="SeriesIdentifier" value="Quote.DocumentNo"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CreateDocumentNumber.xml"/>
<!--@BendPoints 17,8-->
    <nodeSuccessors name="next" next="GetCurrentDate7"/>
  </nodes>
<!--@Location 8,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCurrentDate7">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetCurrentDate.xml"/>
<!--@BendPoints 17,10-->
    <nodeSuccessors name="next" next="CalculateDate3"/>
    <returnValueBindings name="CurrentDate" objectPath="ValidFromDate"/>
  </nodes>
<!--@Location 8,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CalculateDate3">
    <configurationValues name="CalculationMethod" value="Add"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CalculateDate.xml"/>
<!--@BendPoints 17,12-->
    <nodeSuccessors name="next" next="GetLocale2"/>
    <parameterBindings name="Date" objectPath="ValidFromDate"/>
    <parameterBindings name="Days" objectPath="QuoteLifeTime"/>
    <parameterBindings name="Hours" nullBinding="true"/>
    <parameterBindings name="Milliseconds" nullBinding="true"/>
    <parameterBindings name="Minutes" nullBinding="true"/>
    <parameterBindings name="Seconds" nullBinding="true"/>
    <returnValueBindings name="CalculatedDate" objectPath="ValidToDate"/>
  </nodes>
<!--@Location 8,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetLocale2">
    <configurationValues name="LocaleFallback" value="Session Locale"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetLocale.xml"/>
<!--@BendPoints 17,14-->
    <nodeSuccessors name="next" next="UpdateProductList14"/>
    <parameterBindings name="LocaleId" nullBinding="true"/>
  </nodes>
<!--@Location 8,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProductList14">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProductList.xml"/>
<!--@BendPoints 17,16-->
    <nodeSuccessors name="next" next="CreateProductListEvent14"/>
    <parameterBindings name="DisplayName" objectPath="DocumentNumber"/>
    <parameterBindings name="Fixed" nullBinding="true"/>
    <parameterBindings name="IsPublic" nullBinding="true"/>
    <parameterBindings name="Modified" nullBinding="true"/>
    <parameterBindings name="NegotiationTotal" objectPath="Quote:Total"/>
    <parameterBindings name="OriginTotal" objectPath="Quote:Total"/>
    <parameterBindings name="ProductList" objectPath="NewQuote"/>
    <parameterBindings name="Scope" nullBinding="true"/>
    <parameterBindings name="ShortDescription" objectPath="Quote:Description"/>
    <parameterBindings name="State" constant="(Integer)0"/>
    <parameterBindings name="Total" objectPath="Quote:Total"/>
    <parameterBindings name="TypeCode" nullBinding="true"/>
  </nodes>
<!--@Location 8,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateProductListEvent14">
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateProductListEvent.xml"/>
<!--@BendPoints 17,18-->
    <nodeSuccessors name="next" next="GetAttributeGroupByID3"/>
    <parameterBindings name="ProductList" objectPath="NewQuote"/>
    <parameterBindings name="TypeCode" constant="CreatedByBuyer"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 8,9-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetAttributeGroupByID3">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetAttributeGroupByID.xml"/>
<!--@BendPoints 17,20-->
    <nodeSuccessors name="next" next="LoopNode9"/>
    <parameterBindings name="Domain" objectPath="OwningDomain"/>
    <parameterBindings name="ID" constant="QUOTE_ITEM_ATTRIBUTES"/>
    <returnValueBindings name="AttributeGroup" objectPath="QuoteAttributeGroup"/>
  </nodes>
<!--@Location 8,10-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode9" loop="Quote:IndependentItems">
<!--@BendPoints 21,21-->
    <nodeSuccessors name="next" next="UpdateProductList17"/>
    <entry key="PLI">
<!--@BendPoints 17,22-->
      <nodeSuccessors name="loop_entry_next" next="GetProductByProductRef5"/>
    </entry>
  </nodes>
<!--@Location 8,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetProductByProductRef5">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetProductByProductRef.xml"/>
<!--@BendPoints 17,24-->
    <nodeSuccessors name="next" next="CallNode13"/>
<!--@BendPoints 19,23-->
    <nodeSuccessors name="pipelet_error" next="JoinNode38"/>
    <parameterBindings name="ProductRef" objectPath="PLI:ProductRef"/>
    <parameterBindings name="ProductRefID" nullBinding="true"/>
    <parameterBindings name="ProductRefIDs" nullBinding="true"/>
    <parameterBindings name="ProductRefs" nullBinding="true"/>
    <returnValueBindings name="Product" objectPath="Product"/>
    <returnValueBindings name="Products" nullBinding="true"/>
    <returnValueBindings name="ProductsHash" nullBinding="true"/>
  </nodes>
<!--@Location 8,12-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode13">
    <nodeSuccessors name="next" next="CallNode15"/>
    <nodeSuccessors name="ERROR" next="JoinNode38"/>
    <startNode referencedName="ProcessQuote-GetValidToDate"/>
  </nodes>
<!--@Location 8,13-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode15">
<!--@BendPoints 17,28-->
    <nodeSuccessors name="next" next="CallNode16"/>
    <parameterBindings name="ProductListItem" objectPath="PLI"/>
    <parameterBindings name="Quote" objectPath="NewQuote"/>
    <startNode referencedName="ProcessQuote-CopyQuoteItem"/>
  </nodes>
<!--@Location 8,14-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode16">
    <nodeSuccessors name="next" next="JoinNode41"/>
    <parameterBindings name="ParentProductListItem" objectPath="NewProductListItem"/>
    <parameterBindings name="ProductListItem" objectPath="PLI"/>
    <parameterBindings name="Quote" objectPath="NewQuote"/>
    <startNode referencedName="ProcessQuote-CopyDependentQuoteItems"/>
  </nodes>
<!--@Location 8,15-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode41">
<!--@BendPoints 16,31 16,21-->
    <nodeSuccessors name="next" next="LoopNode9_Entry"/>
  </nodes>
<!--@Location 9,12-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode38">
    <nodeSuccessors name="next" next="SetDictionaryValue8"/>
  </nodes>
<!--@Location 9,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue8">
    <configurationValues name="Name" value="ErrorCode"/>
    <configurationValues name="Value" value="ProductOutDated"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
<!--@BendPoints 19,28-->
    <nodeSuccessors name="next" next="AddEntryToMap5"/>
  </nodes>
<!--@Location 9,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddEntryToMap5">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddEntryToMap.xml"/>
<!--@BendPoints 19,31-->
    <nodeSuccessors name="next" next="JoinNode41"/>
    <parameterBindings name="InMap" objectPath="ProductErrorMap"/>
    <parameterBindings name="Key" objectPath="PLI:ProductRef"/>
    <parameterBindings name="Value" objectPath="PLI:ProductRef"/>
    <returnValueBindings name="Keys" objectPath="ProductErrorKeys"/>
    <returnValueBindings name="OutMap" objectPath="ProductErrorMap"/>
  </nodes>
<!--@Location 10,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProductList17">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProductList.xml"/>
<!--@BendPoints 21,24-->
    <nodeSuccessors name="next" next="CalculateProductListTotal2"/>
    <parameterBindings name="DisplayName" objectPath="DocumentNumber"/>
    <parameterBindings name="Fixed" nullBinding="true"/>
    <parameterBindings name="IsPublic" nullBinding="true"/>
    <parameterBindings name="Modified" nullBinding="true"/>
    <parameterBindings name="NegotiationTotal" objectPath="Quote:Total"/>
    <parameterBindings name="OriginTotal" objectPath="Quote:Total"/>
    <parameterBindings name="ProductList" objectPath="NewQuote"/>
    <parameterBindings name="Scope" nullBinding="true"/>
    <parameterBindings name="ShortDescription" objectPath="Quote:Description"/>
    <parameterBindings name="State" constant="(Integer)0"/>
    <parameterBindings name="Total" objectPath="Quote:Total"/>
    <parameterBindings name="TypeCode" nullBinding="true"/>
    <parameterBindings name="ValidFrom" objectPath="ValidFromDate"/>
    <parameterBindings name="ValidTo" objectPath="ValidToDate"/>
  </nodes>
<!--@Location 10,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CalculateProductListTotal2">
    <configurationValues name="CalculateProductListItemPrices" value="true"/>
    <pipelet href="enfinity:/bc_mvc/pipelets/CalculateProductListTotal.xml"/>
<!--@BendPoints 21,26-->
    <nodeSuccessors name="next" next="DecisionNode38"/>
    <parameterBindings name="ProductList" objectPath="NewQuote"/>
  </nodes>
<!--@Location 10,13-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode38" conditionKey="NewQuote:IndependentItems"
      operator="has_elements">
<!--@BendPoints 21,32-->
    <nodeSuccessors name="decision_yes" next="EndNode40"/>
<!--@BendPoints 23,27-->
    <nodeSuccessors name="decision_no" next="CallNode17"/>
  </nodes>
<!--@Location 10,16-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode40" strict="true">
    <returnValues name="NewQuote" type="com.intershop.component.mvc.capi.product.ProductList"/>
    <returnValues name="QuoteAutoNegotiation" type="java.lang.Integer"/>
    <returnValues name="ProductErrorKeys" type="java.util.Iterator" optional="true"/>
    <returnValues name="ProductErrorMap" type="java.util.Map" optional="true"/>
    <returnValues name="ErrorCode" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 11,14-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode17">
    <nodeSuccessors name="next" next="SetDictionaryValue9"/>
    <parameterBindings name="Quote" objectPath="NewQuote"/>
    <startNode referencedName="ProcessQuote-DeleteQuote"/>
  </nodes>
<!--@Location 11,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue9">
    <configurationValues name="Name" value="ErrorCode"/>
    <configurationValues name="Value" value="QuoteCopyError"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="EndNode39"/>
  </nodes>
<!--@Location 11,16-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode39" name="ERROR" strict="true">
    <returnValues name="ProductErrorKeys" type="java.util.Iterator" optional="true"/>
    <returnValues name="ProductErrorMap" type="java.util.Map" optional="true"/>
    <returnValues name="ErrorCode" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 10,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode27" strict="true" name="CopyDependentQuoteItems"
      callMode="Private">
<!--@BendPoints 21,2-->
    <nodeSuccessors name="next" next="LoopNode12"/>
    <parameters name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"/>
    <parameters name="ParentProductListItem" type="com.intershop.component.mvc.capi.product.ProductListItem"/>
    <parameters name="Locale" type="com.intershop.beehive.core.capi.localization.LocaleInformation"/>
    <parameters name="QuoteAttributeGroup" type="com.intershop.component.foundation.capi.attributegroup.AttributeGroup"
        optional="true"/>
    <parameters name="ProductListItem" type="com.intershop.beehive.foundation.quantity.Quantity"
        optional="true"/>
  </nodes>
<!--@Location 10,1-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode12" loop="ProductListItem:DependentListItems">
<!--@BendPoints 22,3-->
    <nodeSuccessors name="next" next="EndNode23"/>
    <entry key="PLI">
<!--@BendPoints 21,4-->
      <nodeSuccessors name="loop_entry_next" next="CallNode14"/>
    </entry>
  </nodes>
<!--@Location 10,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode14">
<!--@BendPoints 21,6 20,6 20,3-->
    <nodeSuccessors name="next" next="LoopNode12_Entry"/>
    <parameterBindings name="ProductListItem" objectPath="PLI"/>
    <startNode referencedName="ProcessQuote-CopyQuoteItem"/>
  </nodes>
<!--@Location 11,1-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode23" strict="true"/>
<!--@Location 21,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start19" strict="true" name="CopyOrderRequiredQuoteAttributes"
      callMode="Private">
    <nodeSuccessors name="next" next="GetAttributeGroupByID1"/>
    <parameters name="QuoteItem" type="com.intershop.beehive.core.capi.domain.ExtensibleObject"/>
    <parameters name="OwningDomain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="LineItem" type="com.intershop.beehive.bts.capi.orderprocess.LineItem"/>
  </nodes>
<!--@Location 21,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetAttributeGroupByID1">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetAttributeGroupByID.xml"/>
    <nodeSuccessors name="next" next="JoinNode8"/>
<!--@BendPoints 44,3 44,5-->
    <nodeSuccessors name="pipelet_error" next="JoinNode8"/>
    <parameterBindings name="Domain" objectPath="OwningDomain"/>
    <parameterBindings name="ID" constant="QUOTE_ITEM_ATTRIBUTES"/>
    <returnValueBindings name="AttributeGroup" objectPath="QuoteAttributeGroup"/>
  </nodes>
<!--@Location 21,2-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode8">
    <nodeSuccessors name="next" next="CopyProductIdentifiers4"/>
  </nodes>
<!--@Location 21,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CopyProductIdentifiers4">
    <pipelet href="enfinity:/bc_mvc/pipelets/CopyProductIdentifiers.xml"/>
    <nodeSuccessors name="next" next="Loop10"/>
    <parameterBindings name="Source" objectPath="QuoteItem"/>
    <parameterBindings name="Target" objectPath="LineItem"/>
  </nodes>
<!--@Location 21,4-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="Loop10" loop="QuoteAttributeGroup:AttributeDescriptors">
<!--@BendPoints 44,9-->
    <nodeSuccessors name="next" next="EndNode25"/>
    <entry key="QuoteAttributeDescriptor">
<!--@BendPoints 43,10-->
      <nodeSuccessors name="loop_entry_next" next="CopyCustomAttribute1"/>
    </entry>
  </nodes>
<!--@Location 21,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CopyCustomAttribute1">
    <pipelet href="enfinity:/bc_foundation/pipelets/CopyCustomAttribute.xml"/>
<!--@BendPoints 43,12 42,12 42,9-->
    <nodeSuccessors name="next" next="Loop10_Entry"/>
    <parameterBindings name="AttributeName" objectPath="QuoteAttributeDescriptor:ID"/>
    <parameterBindings name="Source" objectPath="QuoteItem"/>
    <parameterBindings name="Target" objectPath="LineItem"/>
  </nodes>
<!--@Location 22,4-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode25" strict="true"/>
<!--@Location 12,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode28" strict="true" name="CopyQuoteItem"
      callMode="Private">
<!--@BendPoints 25,2-->
    <nodeSuccessors name="next" next="GetProductByProductRef6"/>
    <parameters name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"/>
    <parameters name="ParentProductListItem" type="com.intershop.component.mvc.capi.product.ProductListItem"
        optional="true"/>
    <parameters name="Locale" type="com.intershop.beehive.core.capi.localization.LocaleInformation"/>
    <parameters name="QuoteAttributeGroup" type="com.intershop.component.foundation.capi.attributegroup.AttributeGroup"
        optional="true"/>
    <parameters name="ProductListItem" type="com.intershop.beehive.xcs.common.ProductRef"
        optional="true"/>
  </nodes>
<!--@Location 12,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetProductByProductRef6">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetProductByProductRef.xml"/>
    <nodeSuccessors name="next" next="GetProductListPrice2"/>
    <parameterBindings name="ProductRef" objectPath="ProductListItem:ProductRef"/>
    <parameterBindings name="ProductRefID" nullBinding="true"/>
    <parameterBindings name="ProductRefIDs" nullBinding="true"/>
    <parameterBindings name="ProductRefs" nullBinding="true"/>
    <returnValueBindings name="Product" objectPath="Product"/>
    <returnValueBindings name="Products" nullBinding="true"/>
    <returnValueBindings name="ProductsHash" nullBinding="true"/>
  </nodes>
<!--@Location 12,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetProductListPrice2">
    <pipelet href="enfinity:/bc_pricing/pipelets/GetProductListPrice.xml"/>
    <nodeSuccessors name="next" next="CreateProductListItem4"/>
    <parameterBindings name="CurrencyMnemonic" objectPath="ProductListItem:OriginNetPricePC:CurrencyMnemonic"/>
  </nodes>
<!--@Location 12,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateProductListItem4">
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateProductListItem.xml"/>
    <nodeSuccessors name="next" next="DecisionNode37"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <returnValueBindings name="ProductListItem" objectPath="NewProductListItem"/>
  </nodes>
<!--@Location 12,4-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode37" conditionKey="NewProductListItem:QuantityNull"
      operator="str_eq" conditionValue="false">
    <nodeSuccessors name="decision_yes" next="CalculateQuantity2"/>
<!--@BendPoints 27,9-->
    <nodeSuccessors name="decision_no" next="JoinNode40"/>
  </nodes>
<!--@Location 12,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CalculateQuantity2">
    <configurationValues name="OperationType" value="addition"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CalculateQuantity.xml"/>
    <nodeSuccessors name="next" next="JoinNode39"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode40"/>
    <parameterBindings name="OperandA" objectPath="NewProductListItem:Quantity"/>
    <parameterBindings name="OperandB" objectPath="ProductListItem:Quantity"/>
    <returnValueBindings name="Result" objectPath="LineItemQty"/>
  </nodes>
<!--@Location 12,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode39">
    <nodeSuccessors name="next" next="UpdateProductListItem4"/>
  </nodes>
<!--@Location 12,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProductListItem4">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProductListItem.xml"/>
    <nodeSuccessors name="next" next="CopyProductIdentifiers1"/>
    <parameterBindings name="BasedOnNetPrice" objectPath="ProductListPrice:isNetPrice"/>
    <parameterBindings name="Description" objectPath="Product:ShortDescription"/>
    <parameterBindings name="DisplayName" objectPath="Product:Name"/>
    <parameterBindings name="NegotiationQuantity" objectPath="LineItemQty"/>
    <parameterBindings name="NegotiationSinglePricePC" objectPath="ProductListPrice:Amount"/>
    <parameterBindings name="OriginQuantity" objectPath="LineItemQty"/>
    <parameterBindings name="OriginSinglePricePC" objectPath="ProductListPrice:Amount"/>
    <parameterBindings name="ProductLineItem" nullBinding="true"/>
    <parameterBindings name="ProductListItem" objectPath="NewProductListItem"/>
    <parameterBindings name="Public" constant="(Boolean)false"/>
    <parameterBindings name="Quantity" objectPath="LineItemQty"/>
    <parameterBindings name="SinglePricePC" objectPath="ProductListPrice:Amount"/>
    <parameterBindings name="TaxClassID" objectPath="Product:TaxClassID"/>
  </nodes>
<!--@Location 12,9-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CopyProductIdentifiers1">
    <pipelet href="enfinity:/bc_mvc/pipelets/CopyProductIdentifiers.xml"/>
<!--@BendPoints 25,20-->
    <nodeSuccessors name="next" next="CopyProductAttributes2"/>
    <parameterBindings name="Source" objectPath="Product"/>
    <parameterBindings name="Target" objectPath="NewProductListItem"/>
  </nodes>
<!--@Location 12,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CopyProductAttributes2">
    <pipelet href="enfinity:/bc_mvc/pipelets/CopyProductAttributes.xml"/>
<!--@BendPoints 25,22-->
    <nodeSuccessors name="next" next="EndNode19"/>
    <parameterBindings name="AttributeGroup" objectPath="QuoteAttributeGroup"/>
    <parameterBindings name="ExtensibleObject" objectPath="NewProductListItem"/>
  </nodes>
<!--@Location 12,11-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode19" strict="true">
    <returnValues name="NewProductListItem" type="com.intershop.component.mvc.capi.product.ProductListItem"
        optional="true"/>
  </nodes>
<!--@Location 13,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode40">
<!--@BendPoints 27,12-->
    <nodeSuccessors name="next" next="KeyMapper2"/>
  </nodes>
<!--@Location 13,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper2">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
<!--@BendPoints 27,15-->
    <nodeSuccessors name="next" next="JoinNode39"/>
    <parameterBindings name="InValue_1" objectPath="ProductListItem:Quantity"/>
    <returnValueBindings name="OutValue_1" objectPath="LineItemQty"/>
  </nodes>
<!--@Location 3,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode20" strict="true" name="CreateDependentQuoteItems"
      callMode="Private">
<!--@BendPoints 7,2-->
    <nodeSuccessors name="next" next="LoopNode8"/>
    <parameters name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"/>
<!--If this parameter is set a dependent product list item is created.-->
    <parameters name="ParentProductListItem" type="com.intershop.component.mvc.capi.product.ProductListItem"/>
    <parameters name="LineItem" type="com.intershop.beehive.bts.capi.orderprocess.LineItem"
        optional="true"/>
    <parameters name="Locale" type="com.intershop.beehive.core.capi.localization.LocaleInformation"/>
    <parameters name="QuoteAttributeGroup" type="com.intershop.component.foundation.capi.attributegroup.AttributeGroup"
        optional="true"/>
  </nodes>
<!--@Location 3,1-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode8" loop="LineItem:BundledProductLineItems">
<!--@BendPoints 8,3-->
    <nodeSuccessors name="next" next="EndNode31"/>
    <entry key="PLI">
<!--@BendPoints 7,4-->
      <nodeSuccessors name="loop_entry_next" next="CallNode5"/>
    </entry>
  </nodes>
<!--@Location 3,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode5">
<!--@BendPoints 7,6 6,6 6,3-->
    <nodeSuccessors name="next" next="LoopNode8_Entry"/>
    <parameterBindings name="LineItem" objectPath="PLI"/>
    <startNode referencedName="ProcessQuote-CreateQuoteItem"/>
  </nodes>
<!--@Location 4,1-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode31" strict="true"/>
<!--@Location 24,9-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode14" strict="true" name="CreateOwnerProfileMap"
      callMode="Private">
<!--@BendPoints 49,20-->
    <nodeSuccessors name="next" next="KeyMapper_xWkXYLrnEeeeHdh8splB6A"/>
    <parameters name="Quotes" type="java.util.Iterator" optional="true"/>
  </nodes>
<!--@Location 24,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper_xWkXYLrnEeeeHdh8splB6A">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
<!--@BendPoints 49,22-->
    <nodeSuccessors name="next" next="LoopNode2"/>
    <parameterBindings name="InValue_1" constant="(java.util.HashMap)"/>
    <returnValueBindings name="OutValue_1" objectPath="QuoteOwnerProfileMap"/>
  </nodes>
<!--@Location 24,11-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode2" loop="Quotes">
<!--@BendPoints 50,23-->
    <nodeSuccessors name="next" next="EndNode13"/>
    <entry key="Quote">
      <nodeSuccessors name="loop_entry_next" next="GetProfile_vGYdcLrnEeeeHdh8splB6A"/>
    </entry>
  </nodes>
<!--@Location 24,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetProfile_vGYdcLrnEeeeHdh8splB6A">
    <pipelet href="enfinity:/core/pipelets/GetProfile.xml"/>
    <nodeSuccessors name="next" next="AddEntryToMap_wQYLYLrnEeeeHdh8splB6A"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode_cWCj4LrnEeeeHdh8splB6A"/>
    <parameterBindings name="ProfileID" objectPath="Quote:ScopeUUID"/>
    <returnValueBindings name="Profile" objectPath="UserProfile"/>
  </nodes>
<!--@Location 24,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddEntryToMap_wQYLYLrnEeeeHdh8splB6A">
    <pipelet href="enfinity:/core/pipelets/AddEntryToMap.xml"/>
<!--@BendPoints 48,27-->
    <nodeSuccessors name="next" next="JoinNode_cWCj4LrnEeeeHdh8splB6A"/>
    <parameterBindings name="InMap" objectPath="QuoteOwnerProfileMap"/>
    <parameterBindings name="Key" objectPath="Quote:UUID"/>
    <parameterBindings name="Value" objectPath="UserProfile"/>
    <returnValueBindings name="OutMap" objectPath="QuoteOwnerProfileMap"/>
  </nodes>
<!--@Location 23,12-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode_cWCj4LrnEeeeHdh8splB6A">
<!--@BendPoints 48,23-->
    <nodeSuccessors name="next" next="LoopNode2_Entry"/>
  </nodes>
<!--@Location 25,11-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode13" strict="true">
    <returnValues name="QuoteOwnerProfileMap" type="java.util.Map" optional="true"/>
  </nodes>
<!--@Location 1,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode1" strict="true" name="CreateQuoteFromRequisition"
      callMode="Private">
    <nodeSuccessors name="next" next="CreateProductList1"/>
<!--The domain for the new quote.-->
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
<!--The user to create a quote for.-->
    <parameters name="CurrentUser" type="com.intershop.beehive.core.capi.user.User"/>
<!--The owning domain to create a quote for.-->
    <parameters name="OwningDomain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="Requisition" type="com.intershop.beehive.bts.capi.orderprocess.basket.Basket"
        optional="true"/>
    <parameters name="RemoveLineItemsFromRequistion" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 1,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateProductList1">
    <configurationValues name="DefaultTypeCode" value="4"/>
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateProductList.xml"/>
    <nodeSuccessors name="next" next="CallNode7"/>
    <parameterBindings name="Scope" objectPath="CurrentUser:Profile"/>
    <returnValueBindings name="ProductList" objectPath="Quote"/>
  </nodes>
<!--@Location 1,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode7">
<!--@BendPoints 3,6-->
    <nodeSuccessors name="next" next="CreateDocumentNumber1"/>
    <startNode referencedName="ProcessQuote-GetDomainPreferences"/>
  </nodes>
<!--@Location 1,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateDocumentNumber1">
    <configurationValues name="DomainSpecific" value="true"/>
    <configurationValues name="SeriesIdentifier" value="Quote.DocumentNo"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CreateDocumentNumber.xml"/>
<!--@BendPoints 3,8-->
    <nodeSuccessors name="next" next="GetCurrentDate1"/>
  </nodes>
<!--@Location 1,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCurrentDate1">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetCurrentDate.xml"/>
<!--@BendPoints 3,10-->
    <nodeSuccessors name="next" next="CalculateDate1"/>
    <returnValueBindings name="CurrentDate" objectPath="ValidFromDate"/>
  </nodes>
<!--@Location 1,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CalculateDate1">
    <configurationValues name="CalculationMethod" value="Add"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CalculateDate.xml"/>
<!--@BendPoints 3,12-->
    <nodeSuccessors name="next" next="GetLocale1"/>
    <parameterBindings name="Date" objectPath="ValidFromDate"/>
    <parameterBindings name="Days" objectPath="QuoteLifeTime"/>
    <parameterBindings name="Hours" nullBinding="true"/>
    <parameterBindings name="Milliseconds" nullBinding="true"/>
    <parameterBindings name="Minutes" nullBinding="true"/>
    <parameterBindings name="Seconds" nullBinding="true"/>
    <returnValueBindings name="CalculatedDate" objectPath="ValidToDate"/>
  </nodes>
<!--@Location 1,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetLocale1">
    <configurationValues name="LocaleFallback" value="Session Locale"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetLocale.xml"/>
<!--@BendPoints 3,14-->
    <nodeSuccessors name="next" next="CreateProductListEvent2"/>
    <parameterBindings name="LocaleId" nullBinding="true"/>
  </nodes>
<!--@Location 1,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateProductListEvent2">
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateProductListEvent.xml"/>
    <nodeSuccessors name="next" next="GetAttributeGroupByID2"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="TypeCode" constant="CreatedByBuyer"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 1,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetAttributeGroupByID2">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetAttributeGroupByID.xml"/>
    <nodeSuccessors name="next" next="LoopNode1"/>
    <parameterBindings name="Domain" objectPath="OwningDomain"/>
    <parameterBindings name="ID" constant="QUOTE_ITEM_ATTRIBUTES"/>
    <returnValueBindings name="AttributeGroup" objectPath="QuoteAttributeGroup"/>
  </nodes>
<!--@Location 1,9-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode1" loop="Requisition:ProductLineItems">
<!--@BendPoints 7,19 7,20-->
    <nodeSuccessors name="next" next="UpdateProductList1"/>
    <entry key="PLI">
      <nodeSuccessors name="loop_entry_next" next="GetProductByProductRef2"/>
    </entry>
  </nodes>
<!--@Location 1,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetProductByProductRef2">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetProductByProductRef.xml"/>
    <nodeSuccessors name="next" next="CallNode8"/>
<!--@BendPoints 5,21-->
    <nodeSuccessors name="pipelet_error" next="JoinNode29"/>
    <parameterBindings name="ProductRef" objectPath="PLI:OfferProductRef"/>
    <parameterBindings name="ProductRefID" nullBinding="true"/>
    <parameterBindings name="ProductRefIDs" nullBinding="true"/>
    <parameterBindings name="ProductRefs" nullBinding="true"/>
    <returnValueBindings name="Product" objectPath="Product"/>
    <returnValueBindings name="Products" nullBinding="true"/>
    <returnValueBindings name="ProductsHash" nullBinding="true"/>
  </nodes>
<!--@Location 1,11-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode8">
<!--@BendPoints 3,24-->
    <nodeSuccessors name="next" next="CallNode4"/>
<!--@BendPoints 3,24-->
    <nodeSuccessors name="ERROR" next="JoinNode29"/>
    <startNode referencedName="ProcessQuote-GetValidToDate"/>
  </nodes>
<!--@Location 1,12-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode4">
    <nodeSuccessors name="next" next="CallNode6"/>
    <parameterBindings name="LineItem" objectPath="PLI"/>
    <parameterBindings name="ParentProductListItem" nullBinding="true"/>
    <startNode referencedName="ProcessQuote-CreateQuoteItem"/>
  </nodes>
<!--@Location 1,13-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode6">
    <nodeSuccessors name="next" next="DecisionNode39"/>
    <parameterBindings name="LineItem" objectPath="PLI"/>
    <parameterBindings name="ParentProductListItem" objectPath="ProductListItem"/>
    <startNode referencedName="ProcessQuote-CreateDependentQuoteItems"/>
  </nodes>
<!--@Location 1,14-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode39" conditionKey="RemoveLineItemsFromRequistion">
    <nodeSuccessors name="decision_yes" next="RemoveProductLineItemFromBasket1"/>
    <nodeSuccessors name="decision_no" next="JoinNode42"/>
  </nodes>
<!--@Location 1,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveProductLineItemFromBasket1">
    <pipelet href="enfinity:/bts/pipelets/RemoveProductLineItemFromBasket.xml"/>
    <nodeSuccessors name="next" next="JoinNode33"/>
    <parameterBindings name="Basket" objectPath="Requisition"/>
    <parameterBindings name="LineItemID" objectPath="PLI:UUID"/>
  </nodes>
<!--@Location 1,16-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode33">
<!--@BendPoints 2,33 2,19-->
    <nodeSuccessors name="next" next="LoopNode1_Entry"/>
  </nodes>
<!--@Location 2,14-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode42">
<!--@BendPoints 5,33-->
    <nodeSuccessors name="next" next="JoinNode33"/>
  </nodes>
<!--@Location 2,11-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode29">
<!--@BendPoints 5,24-->
    <nodeSuccessors name="next" next="SetDictionaryValue2"/>
  </nodes>
<!--@Location 2,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue2">
    <configurationValues name="Name" value="ErrorCode"/>
    <configurationValues name="Value" value="ProductOutDated"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
<!--@BendPoints 5,26-->
    <nodeSuccessors name="next" next="AddEntryToMap2"/>
  </nodes>
<!--@Location 2,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddEntryToMap2">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddEntryToMap.xml"/>
    <nodeSuccessors name="next" next="JoinNode42"/>
    <parameterBindings name="InMap" objectPath="ProductErrorMap"/>
    <parameterBindings name="Key" objectPath="PLI:OfferProductRef"/>
    <parameterBindings name="Value" objectPath="PLI:OfferProductRef"/>
    <returnValueBindings name="Keys" objectPath="ProductErrorKeys"/>
    <returnValueBindings name="OutMap" objectPath="ProductErrorMap"/>
  </nodes>
<!--@Location 3,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProductList1">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProductList.xml"/>
<!--@BendPoints 7,22-->
    <nodeSuccessors name="next" next="CalculateProductListTotal1"/>
    <parameterBindings name="DisplayName" objectPath="DocumentNumber"/>
    <parameterBindings name="Fixed" nullBinding="true"/>
    <parameterBindings name="IsPublic" nullBinding="true"/>
    <parameterBindings name="Modified" nullBinding="true"/>
    <parameterBindings name="NegotiationTotal" objectPath="Requisition:SubtotalNetPricePC"/>
    <parameterBindings name="OriginTotal" objectPath="Requisition:SubtotalNetPricePC"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="Scope" nullBinding="true"/>
    <parameterBindings name="ShortDescription" nullBinding="true"/>
    <parameterBindings name="State" constant="(Integer)0"/>
    <parameterBindings name="Total" objectPath="Requisition:SubtotalNetPricePC"/>
    <parameterBindings name="TypeCode" nullBinding="true"/>
    <parameterBindings name="ValidFrom" objectPath="ValidFromDate"/>
    <parameterBindings name="ValidTo" objectPath="ValidToDate"/>
  </nodes>
<!--@Location 3,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CalculateProductListTotal1">
    <configurationValues name="CalculateProductListItemPrices" value="true"/>
    <pipelet href="enfinity:/bc_mvc/pipelets/CalculateProductListTotal.xml"/>
    <nodeSuccessors name="next" next="DecisionNode32"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
  </nodes>
<!--@Location 3,12-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode32" conditionKey="Quote:IndependentItems"
      operator="has_elements">
<!--@BendPoints 7,30-->
    <nodeSuccessors name="decision_yes" next="EndNode2"/>
<!--@BendPoints 9,25-->
    <nodeSuccessors name="decision_no" next="CallNode9"/>
  </nodes>
<!--@Location 3,15-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode2" strict="true">
    <returnValues name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"/>
    <returnValues name="QuoteAutoNegotiation" type="java.lang.Integer"/>
    <returnValues name="ProductErrorKeys" type="java.util.Iterator" optional="true"/>
    <returnValues name="ProductErrorMap" type="java.util.Map" optional="true"/>
    <returnValues name="ErrorCode" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 4,13-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode9">
    <nodeSuccessors name="next" next="SetDictionaryValue5"/>
    <startNode referencedName="ProcessQuote-DeleteQuote"/>
  </nodes>
<!--@Location 4,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue5">
    <configurationValues name="Name" value="GeneralErrorCode"/>
    <configurationValues name="Value" value="QuoteCreationError"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="EndNode14"/>
  </nodes>
<!--@Location 4,15-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode14" name="ERROR" strict="true">
    <returnValues name="ProductErrorKeys" type="java.util.Iterator" optional="true"/>
    <returnValues name="ProductErrorMap" type="java.util.Map" optional="true"/>
    <returnValues name="ErrorCode" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 5,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode18" strict="true" name="CreateQuoteItem"
      callMode="Private">
<!--@BendPoints 11,2-->
    <nodeSuccessors name="next" next="GetProductByProductRef3"/>
    <parameters name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"/>
    <parameters name="LineItem" type="java.lang.Object"/>
<!--If this parameter is set a dependent product list item is created.-->
    <parameters name="ParentProductListItem" type="com.intershop.component.mvc.capi.product.ProductListItem"
        optional="true"/>
    <parameters name="Locale" type="com.intershop.beehive.core.capi.localization.LocaleInformation"/>
    <parameters name="QuoteAttributeGroup" type="com.intershop.component.foundation.capi.attributegroup.AttributeGroup"
        optional="true"/>
  </nodes>
<!--@Location 5,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetProductByProductRef3">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetProductByProductRef.xml"/>
<!--@BendPoints 11,4-->
    <nodeSuccessors name="next" next="CreateProductListItem2"/>
    <parameterBindings name="ProductRef" objectPath="LineItem:OfferProductRef"/>
    <parameterBindings name="ProductRefID" nullBinding="true"/>
    <parameterBindings name="ProductRefIDs" nullBinding="true"/>
    <parameterBindings name="ProductRefs" nullBinding="true"/>
    <returnValueBindings name="Product" objectPath="Product"/>
    <returnValueBindings name="Products" nullBinding="true"/>
    <returnValueBindings name="ProductsHash" nullBinding="true"/>
  </nodes>
<!--@Location 5,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateProductListItem2">
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateProductListItem.xml"/>
    <nodeSuccessors name="next" next="DecisionNode21"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
  </nodes>
<!--@Location 5,3-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode21" conditionKey="ProductListItem:QuantityNull"
      operator="str_eq" conditionValue="false">
    <nodeSuccessors name="decision_yes" next="CalculateQuantity1"/>
<!--@BendPoints 13,7-->
    <nodeSuccessors name="decision_no" next="JoinNode18"/>
  </nodes>
<!--@Location 5,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CalculateQuantity1">
    <configurationValues name="OperationType" value="addition"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CalculateQuantity.xml"/>
    <nodeSuccessors name="next" next="JoinNode17"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode18"/>
    <parameterBindings name="OperandA" objectPath="ProductListItem:Quantity"/>
    <parameterBindings name="OperandB" objectPath="LineItem:Quantity"/>
    <returnValueBindings name="Result" objectPath="LineItemQty"/>
  </nodes>
<!--@Location 5,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode17">
    <nodeSuccessors name="next" next="UpdateProductListItem2"/>
  </nodes>
<!--@Location 5,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProductListItem2">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProductListItem.xml"/>
    <nodeSuccessors name="next" next="CopyProductIdentifiers6"/>
    <parameterBindings name="BasedOnNetPrice" objectPath="LineItem:BasedOnNetPrice"/>
    <parameterBindings name="Description" objectPath="Product:ShortDescription"/>
    <parameterBindings name="DisplayName" objectPath="Product:Name"/>
    <parameterBindings name="NegotiationQuantity" objectPath="LineItemQty"/>
    <parameterBindings name="NegotiationSinglePricePC" objectPath="LineItem:SinglePricePC"/>
    <parameterBindings name="OriginQuantity" objectPath="LineItemQty"/>
    <parameterBindings name="OriginSinglePricePC" objectPath="LineItem:SinglePricePC"/>
    <parameterBindings name="ProductLineItem" nullBinding="true"/>
    <parameterBindings name="Public" constant="(Boolean)false"/>
    <parameterBindings name="Quantity" objectPath="LineItemQty"/>
    <parameterBindings name="SinglePricePC" objectPath="LineItem:SinglePricePC"/>
    <parameterBindings name="TaxClassID" objectPath="Product:TaxClassID"/>
  </nodes>
<!--@Location 5,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CopyProductIdentifiers6">
    <pipelet href="enfinity:/bc_mvc/pipelets/CopyProductIdentifiers.xml"/>
<!--@BendPoints 11,18-->
    <nodeSuccessors name="next" next="CopyProductAttributes1"/>
    <parameterBindings name="Source" objectPath="Product"/>
    <parameterBindings name="Target" objectPath="ProductListItem"/>
  </nodes>
<!--@Location 5,9-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CopyProductAttributes1">
    <pipelet href="enfinity:/bc_mvc/pipelets/CopyProductAttributes.xml"/>
<!--@BendPoints 11,20-->
    <nodeSuccessors name="next" next="EndNode30"/>
    <parameterBindings name="AttributeGroup" objectPath="QuoteAttributeGroup"/>
    <parameterBindings name="ExtensibleObject" objectPath="ProductListItem"/>
  </nodes>
<!--@Location 5,10-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode30" strict="true">
    <returnValues name="ProductListItem" type="com.intershop.component.mvc.capi.product.ProductListItem"
        optional="true"/>
  </nodes>
<!--@Location 6,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode18">
<!--@BendPoints 13,10-->
    <nodeSuccessors name="next" next="KeyMapper4"/>
  </nodes>
<!--@Location 6,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper4">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
<!--@BendPoints 13,13-->
    <nodeSuccessors name="next" next="JoinNode17"/>
    <parameterBindings name="InValue_1" objectPath="LineItem:Quantity"/>
    <returnValueBindings name="OutValue_1" objectPath="LineItemQty"/>
  </nodes>
<!--@Location 15,4-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode2" strict="true" name="DeleteQuote"
      callMode="Private">
<!--@BendPoints 31,10-->
    <nodeSuccessors name="next" next="RemoveProductList1"/>
    <parameters name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"
        optional="true"/>
  </nodes>
<!--@Location 15,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveProductList1">
    <pipelet href="enfinity:/bc_mvc/pipelets/RemoveProductList.xml"/>
<!--@BendPoints 31,12-->
    <nodeSuccessors name="next" next="EndNode1"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
  </nodes>
<!--@Location 15,6-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode1" strict="true"/>
<!--@Location 15,9-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode25" strict="true" name="GetDomainPreferences"
      callMode="Private">
<!--@BendPoints 31,20-->
    <nodeSuccessors name="next" next="GetDomainPreference8"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 15,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetDomainPreference8">
    <configurationValues name="DefaultPreferenceKey" value="QuotePrefix"/>
    <configurationValues name="Type" value="String"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetDomainPreference.xml"/>
<!--@BendPoints 31,22-->
    <nodeSuccessors name="next" next="GetDomainPreference9"/>
    <parameterBindings name="PreferenceDomain" objectPath="Domain"/>
    <parameterBindings name="PreferenceKey" nullBinding="true"/>
    <returnValueBindings name="PreferenceStringValue" objectPath="DocumentNumberPrefix"/>
  </nodes>
<!--@Location 15,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetDomainPreference9">
    <configurationValues name="DefaultPreferenceKey" value="QuoteSuffix"/>
    <configurationValues name="Type" value="String"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetDomainPreference.xml"/>
<!--@BendPoints 31,24-->
    <nodeSuccessors name="next" next="GetDomainPreference10"/>
    <parameterBindings name="PreferenceDomain" objectPath="Domain"/>
    <parameterBindings name="PreferenceKey" nullBinding="true"/>
    <returnValueBindings name="PreferenceStringValue" objectPath="DocumentNumberSuffix"/>
  </nodes>
<!--@Location 15,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetDomainPreference10">
    <configurationValues name="DefaultPreferenceKey" value="QuoteAutoNegotiation"/>
    <configurationValues name="Type" value="Integer"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetDomainPreference.xml"/>
<!--@BendPoints 31,26-->
    <nodeSuccessors name="next" next="GetDomainPreference11"/>
    <parameterBindings name="PreferenceDomain" objectPath="Domain"/>
    <parameterBindings name="PreferenceKey" nullBinding="true"/>
    <returnValueBindings name="PreferenceIntValue" objectPath="QuoteAutoNegotiation"/>
  </nodes>
<!--@Location 15,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetDomainPreference11">
    <configurationValues name="DefaultPreferenceKey" value="QuoteLifeTime"/>
    <configurationValues name="Type" value="Integer"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetDomainPreference.xml"/>
<!--@BendPoints 31,28-->
    <nodeSuccessors name="next" next="EndNode7"/>
    <parameterBindings name="PreferenceDomain" objectPath="Domain"/>
    <parameterBindings name="PreferenceKey" nullBinding="true"/>
    <returnValueBindings name="PreferenceIntValue" objectPath="QuoteLifeTime"/>
  </nodes>
<!--@Location 15,14-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode7" strict="true">
    <returnValues name="DocumentNumberPrefix" type="java.lang.String" optional="true"/>
    <returnValues name="DocumentNumberSuffix" type="java.lang.String" optional="true"/>
    <returnValues name="QuoteAutoNegotiation" type="java.lang.Integer" optional="true"/>
    <returnValues name="QuoteLifeTime" type="java.lang.Integer" optional="true"/>
  </nodes>
<!--@Location 17,9-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode26" strict="true" name="GetValidToDate"
      callMode="Private">
    <nodeSuccessors name="next" next="GetQuoteValidToDate0"/>
<!--The instance of the current processed product.-->
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"
        optional="true"/>
    <parameters name="ValidToDate" type="java.util.Date" optional="true"/>
  </nodes>
<!--@Location 17,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetQuoteValidToDate0">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetQuoteValidToDate.xml"/>
    <nodeSuccessors name="next" next="EndNode11"/>
<!--@BendPoints 37,21-->
    <nodeSuccessors name="pipelet_error" next="EndNode10"/>
  </nodes>
<!--@Location 17,11-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode11" strict="true">
    <returnValues name="ValidToDate" type="java.util.Date" optional="true"/>
  </nodes>
<!--@Location 18,11-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode10" name="ERROR" strict="true"/>
<!--@Location 0,22-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode5" strict="true" name="Refuse"
      callMode="Private">
<!--@BendPoints 1,46-->
    <nodeSuccessors name="next" next="DecisionNode3"/>
    <parameters name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"
        optional="true"/>
  </nodes>
<!--@Location 0,23-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode3" conditionKey="Quote:State"
      operator="eq" conditionValue="1">
<!--@BendPoints 1,48-->
    <nodeSuccessors name="decision_yes" next="UpdateProductList3"/>
<!--@BendPoints 3,47 3,52-->
    <nodeSuccessors name="decision_no" next="EndNode8"/>
  </nodes>
<!--@Location 0,24-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProductList3">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProductList.xml"/>
    <nodeSuccessors name="next" next="CreateProductListEvent4"/>
    <parameterBindings name="DisplayName" nullBinding="true"/>
    <parameterBindings name="DocumentNumber" nullBinding="true"/>
    <parameterBindings name="Fixed" nullBinding="true"/>
    <parameterBindings name="IsPublic" nullBinding="true"/>
    <parameterBindings name="Locale" nullBinding="true"/>
    <parameterBindings name="OwningDomain" nullBinding="true"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="Scope" nullBinding="true"/>
    <parameterBindings name="ShortDescription" nullBinding="true"/>
    <parameterBindings name="State" constant="(Integer)9"/>
    <parameterBindings name="Total" nullBinding="true"/>
    <parameterBindings name="TypeCode" nullBinding="true"/>
    <parameterBindings name="ValidFrom" nullBinding="true"/>
    <parameterBindings name="ValidTo" nullBinding="true"/>
  </nodes>
<!--@Location 0,25-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateProductListEvent4">
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateProductListEvent.xml"/>
<!--@BendPoints 1,55-->
    <nodeSuccessors name="next" next="JoinNode19"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="TypeCode" constant="RefusedByApprover"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 1,26-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode8" name="ERROR"/>
<!--@Location 15,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode24" strict="true" name="RemoveQuoteItem"
      callMode="Private">
<!--@BendPoints 31,2-->
    <nodeSuccessors name="next" next="RemoveProductListItem1"/>
    <parameters name="QuoteListItem" type="com.intershop.component.mvc.capi.product.ProductListItem"
        optional="true"/>
  </nodes>
<!--@Location 15,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveProductListItem1">
    <pipelet href="enfinity:/bc_mvc/pipelets/RemoveProductListItem.xml"/>
<!--@BendPoints 31,4-->
    <nodeSuccessors name="next" next="EndNode6"/>
    <parameterBindings name="ProductListItem" objectPath="QuoteListItem"/>
  </nodes>
<!--@Location 15,2-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode6" strict="true"/>
<!--@Location 12,22-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode11" strict="true" name="RespondToApprover"
      callMode="Private">
<!--@BendPoints 25,46-->
    <nodeSuccessors name="next" next="DecisionNode11"/>
    <parameters name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"
        optional="true"/>
  </nodes>
<!--@Location 12,23-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode11" conditionKey="Quote:State"
      operator="eq" conditionValue="3">
    <nodeSuccessors name="decision_yes" next="JoinNode4"/>
<!--@BendPoints 26,47 26,46 27,46-->
    <nodeSuccessors name="decision_no" next="DecisionNode16"/>
  </nodes>
<!--@Location 12,24-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode4">
<!--@BendPoints 25,50-->
    <nodeSuccessors name="next" next="UpdateProductList9"/>
  </nodes>
<!--@Location 12,25-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProductList9">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProductList.xml"/>
<!--@BendPoints 25,52-->
    <nodeSuccessors name="next" next="CreateProductListEvent11"/>
    <parameterBindings name="DisplayName" nullBinding="true"/>
    <parameterBindings name="DocumentNumber" nullBinding="true"/>
    <parameterBindings name="Fixed" nullBinding="true"/>
    <parameterBindings name="IsPublic" nullBinding="true"/>
    <parameterBindings name="Locale" nullBinding="true"/>
    <parameterBindings name="OwningDomain" nullBinding="true"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="Scope" nullBinding="true"/>
    <parameterBindings name="ShortDescription" nullBinding="true"/>
    <parameterBindings name="State" constant="(Integer)4"/>
    <parameterBindings name="Total" nullBinding="true"/>
    <parameterBindings name="TypeCode" nullBinding="true"/>
    <parameterBindings name="ValidFrom" nullBinding="true"/>
    <parameterBindings name="ValidTo" nullBinding="true"/>
  </nodes>
<!--@Location 12,26-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateProductListEvent11">
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateProductListEvent.xml"/>
    <nodeSuccessors name="next" next="JoinNode24"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="TypeCode" constant="RespondedBySeller"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 13,23-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode16" conditionKey="Quote:State"
      operator="eq" conditionValue="5">
<!--@BendPoints 27,49-->
    <nodeSuccessors name="decision_yes" next="JoinNode4"/>
<!--@BendPoints 28,47 27,50-->
    <nodeSuccessors name="decision_no" next="EndNode24"/>
  </nodes>
<!--@Location 13,25-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode24" name="ERROR"/>
<!--@Location 6,22-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode7" strict="true" name="RespondToSeller"
      callMode="Private">
<!--@BendPoints 13,46-->
    <nodeSuccessors name="next" next="DecisionNode5"/>
    <parameters name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"
        optional="true"/>
  </nodes>
<!--@Location 6,23-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode5" conditionKey="Quote:State"
      operator="eq" conditionValue="4">
    <nodeSuccessors name="decision_yes" next="JoinNode1"/>
<!--@BendPoints 14,47 14,46 15,46-->
    <nodeSuccessors name="decision_no" next="DecisionNode6"/>
  </nodes>
<!--@Location 6,24-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode1">
<!--@BendPoints 13,50-->
    <nodeSuccessors name="next" next="UpdateProductList6"/>
  </nodes>
<!--@Location 6,25-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProductList6">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProductList.xml"/>
<!--@BendPoints 13,52-->
    <nodeSuccessors name="next" next="CreateProductListEvent6"/>
    <parameterBindings name="DisplayName" nullBinding="true"/>
    <parameterBindings name="DocumentNumber" nullBinding="true"/>
    <parameterBindings name="Fixed" nullBinding="true"/>
    <parameterBindings name="IsPublic" nullBinding="true"/>
    <parameterBindings name="Locale" nullBinding="true"/>
    <parameterBindings name="OwningDomain" nullBinding="true"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="Scope" nullBinding="true"/>
    <parameterBindings name="ShortDescription" nullBinding="true"/>
    <parameterBindings name="State" constant="(Integer)5"/>
    <parameterBindings name="Total" nullBinding="true"/>
    <parameterBindings name="TypeCode" nullBinding="true"/>
    <parameterBindings name="ValidFrom" nullBinding="true"/>
    <parameterBindings name="ValidTo" nullBinding="true"/>
  </nodes>
<!--@Location 6,26-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateProductListEvent6">
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateProductListEvent.xml"/>
    <nodeSuccessors name="next" next="JoinNode21"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="TypeCode" constant="RespondedByManager"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 7,23-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode6" conditionKey="Quote:State"
      operator="eq" conditionValue="6">
<!--@BendPoints 15,49-->
    <nodeSuccessors name="decision_yes" next="JoinNode1"/>
<!--@BendPoints 16,47 15,50-->
    <nodeSuccessors name="decision_no" next="EndNode12"/>
  </nodes>
<!--@Location 7,25-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode12" name="ERROR"/>
<!--@Location 0,29-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode3" strict="true" name="SubmitForApproval"
      callMode="Private">
<!--@BendPoints 1,60-->
    <nodeSuccessors name="next" next="DecisionNode1"/>
    <parameters name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"
        optional="true"/>
  </nodes>
<!--@Location 0,30-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode1" conditionKey="Quote:State"
      operator="eq" conditionValue="0">
    <nodeSuccessors name="decision_yes" next="UpdateProductList2"/>
<!--@BendPoints 2,61-->
    <nodeSuccessors name="decision_no" next="EndNode4"/>
  </nodes>
<!--@Location 0,31-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProductList2">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProductList.xml"/>
    <nodeSuccessors name="next" next="CreateProductListEvent1"/>
    <parameterBindings name="DisplayName" nullBinding="true"/>
    <parameterBindings name="DocumentNumber" nullBinding="true"/>
    <parameterBindings name="Fixed" nullBinding="true"/>
    <parameterBindings name="IsPublic" nullBinding="true"/>
    <parameterBindings name="Locale" nullBinding="true"/>
    <parameterBindings name="OwningDomain" nullBinding="true"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="Scope" nullBinding="true"/>
    <parameterBindings name="ShortDescription" nullBinding="true"/>
    <parameterBindings name="State" constant="(Integer)1"/>
    <parameterBindings name="Total" nullBinding="true"/>
    <parameterBindings name="TypeCode" nullBinding="true"/>
    <parameterBindings name="ValidFrom" nullBinding="true"/>
    <parameterBindings name="ValidTo" nullBinding="true"/>
  </nodes>
<!--@Location 0,32-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateProductListEvent1">
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateProductListEvent.xml"/>
    <nodeSuccessors name="next" next="UpdateProductList15"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="TypeCode" constant="SubmittedToApprover"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 0,33-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProductList15">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProductList.xml"/>
    <nodeSuccessors name="next" next="EndNode3"/>
    <parameterBindings name="DisplayName" nullBinding="true"/>
    <parameterBindings name="DocumentNumber" nullBinding="true"/>
    <parameterBindings name="Fixed" nullBinding="true"/>
    <parameterBindings name="IsPublic" nullBinding="true"/>
    <parameterBindings name="Locale" nullBinding="true"/>
    <parameterBindings name="Modified" constant="(java.lang.Boolean)false"/>
    <parameterBindings name="NegotiationTotal" nullBinding="true"/>
    <parameterBindings name="OriginTotal" nullBinding="true"/>
    <parameterBindings name="OwningDomain" nullBinding="true"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="Scope" nullBinding="true"/>
    <parameterBindings name="ShortDescription" nullBinding="true"/>
    <parameterBindings name="State" nullBinding="true"/>
    <parameterBindings name="Total" nullBinding="true"/>
    <parameterBindings name="TypeCode" nullBinding="true"/>
    <parameterBindings name="ValidFrom" nullBinding="true"/>
    <parameterBindings name="ValidTo" nullBinding="true"/>
  </nodes>
<!--@Location 0,34-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode3"/>
<!--@Location 1,30-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode4" name="ERROR"/>
<!--@Location 4,22-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode4" strict="true" name="SubmitToSeller"
      callMode="Private">
<!--@BendPoints 9,46-->
    <nodeSuccessors name="next" next="DecisionNode2"/>
    <parameters name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"
        optional="true"/>
  </nodes>
<!--@Location 4,23-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode2" conditionKey="Quote:State"
      operator="eq" conditionValue="2">
<!--@BendPoints 9,48-->
    <nodeSuccessors name="decision_yes" next="UpdateProductList4"/>
<!--@BendPoints 11,47 11,52-->
    <nodeSuccessors name="decision_no" next="EndNode5"/>
  </nodes>
<!--@Location 4,24-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateProductList4">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateProductList.xml"/>
    <nodeSuccessors name="next" next="CreateProductListEvent3"/>
    <parameterBindings name="DisplayName" nullBinding="true"/>
    <parameterBindings name="DocumentNumber" nullBinding="true"/>
    <parameterBindings name="Fixed" nullBinding="true"/>
    <parameterBindings name="IsPublic" nullBinding="true"/>
    <parameterBindings name="Locale" nullBinding="true"/>
    <parameterBindings name="OwningDomain" nullBinding="true"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="Scope" nullBinding="true"/>
    <parameterBindings name="ShortDescription" nullBinding="true"/>
    <parameterBindings name="State" constant="(Integer)3"/>
    <parameterBindings name="Total" nullBinding="true"/>
    <parameterBindings name="TypeCode" nullBinding="true"/>
    <parameterBindings name="ValidFrom" nullBinding="true"/>
    <parameterBindings name="ValidTo" nullBinding="true"/>
  </nodes>
<!--@Location 4,25-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateProductListEvent3">
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateProductListEvent.xml"/>
    <nodeSuccessors name="next" next="JoinNode20"/>
    <parameterBindings name="ProductList" objectPath="Quote"/>
    <parameterBindings name="TypeCode" constant="SubmittedToSeller"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 5,26-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode5" name="ERROR"/>
<!--@Location 26,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode19" strict="true" name="ValidateQuote"
      callMode="Private">
    <nodeSuccessors name="next" next="GetCurrentDate4"/>
    <parameters name="Quote" type="com.intershop.component.mvc.capi.product.ProductList"
        optional="true"/>
  </nodes>
<!--@Location 26,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCurrentDate4">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetCurrentDate.xml"/>
    <nodeSuccessors name="next" next="DecisionNode27"/>
  </nodes>
<!--@Location 26,2-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode27" conditionKey="Quote:ValidTo:Time"
      operator="gt" conditionItem="CurrentDate:Time">
    <nodeSuccessors name="decision_yes" next="LoopNode7"/>
<!--@BendPoints 54,5-->
    <nodeSuccessors name="decision_no" next="SetDictionaryValue4"/>
  </nodes>
<!--@Location 26,3-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode7" loop="Quote:IndependentItems">
<!--@BendPoints 56,7-->
    <nodeSuccessors name="next" next="EndNode32"/>
    <entry key="QuoteItem">
<!--@BendPoints 53,8-->
      <nodeSuccessors name="loop_entry_next" next="GetProductByProductRef1"/>
    </entry>
  </nodes>
<!--@Location 26,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetProductByProductRef1">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetProductByProductRef.xml"/>
<!--@BendPoints 53,10-->
    <nodeSuccessors name="next" next="CheckProductOnline1"/>
<!--@BendPoints 57,9-->
    <nodeSuccessors name="pipelet_error" next="JoinNode14"/>
    <parameterBindings name="ProductRef" objectPath="QuoteItem:ProductRef"/>
    <parameterBindings name="ProductRefID" nullBinding="true"/>
    <parameterBindings name="ProductRefIDs" nullBinding="true"/>
    <parameterBindings name="ProductRefs" nullBinding="true"/>
    <returnValueBindings name="Product" objectPath="Product"/>
    <returnValueBindings name="Products" nullBinding="true"/>
    <returnValueBindings name="ProductsHash" nullBinding="true"/>
  </nodes>
<!--@Location 26,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckProductOnline1">
    <pipelet href="enfinity:/xcs/pipelets/CheckProductOnline.xml"/>
    <nodeSuccessors name="next" next="DecisionNode24"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode14"/>
  </nodes>
<!--@Location 26,6-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode24" conditionKey="Product:EndOfLife"
      operator="undef">
    <nodeSuccessors name="decision_yes" next="JoinNode12"/>
<!--@BendPoints 55,13 55,14-->
    <nodeSuccessors name="decision_no" next="DecisionNode26"/>
  </nodes>
<!--@Location 26,8-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode12">
    <nodeSuccessors name="next" next="DecisionNode25"/>
  </nodes>
<!--@Location 26,9-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode25" conditionKey="Product:LastOrderDate"
      operator="undef">
    <nodeSuccessors name="decision_yes" next="JoinNode13"/>
<!--@BendPoints 55,19-->
    <nodeSuccessors name="decision_no" next="DecisionNode22"/>
  </nodes>
<!--@Location 26,11-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode13">
<!--@BendPoints 52,23 52,7-->
    <nodeSuccessors name="next" next="LoopNode7_Entry"/>
  </nodes>
<!--@Location 27,10-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode22" conditionKey="Product:LastOrderDate:Time"
      operator="gt" conditionItem="CurrentDate:Time">
<!--@BendPoints 55,23-->
    <nodeSuccessors name="decision_yes" next="JoinNode13"/>
    <nodeSuccessors name="decision_no" next="JoinNode16"/>
  </nodes>
<!--@Location 28,10-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode16">
    <nodeSuccessors name="next" next="SetDictionaryValue3"/>
  </nodes>
<!--@Location 28,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue3">
    <configurationValues name="Name" value="ErrorCode"/>
    <configurationValues name="Value" value="ProductNotAvailable"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="KeyMapper1"/>
  </nodes>
<!--@Location 28,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper1">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
<!--@BendPoints 57,26-->
    <nodeSuccessors name="next" next="EndNode33"/>
    <parameterBindings name="InValue_1" objectPath="QuoteItem:ProductRef:ProductSKU"/>
    <returnValueBindings name="OutValue_1" objectPath="ErrorValue"/>
  </nodes>
<!--@Location 28,13-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode33" name="ERROR" strict="true">
    <returnValues name="ErrorCode" type="java.lang.String" optional="true"/>
    <returnValues name="ErrorValue" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 27,7-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode26" conditionKey="Product:EndOfLife:Time"
      operator="gt" conditionItem="CurrentDate:Time">
<!--@BendPoints 55,17-->
    <nodeSuccessors name="decision_yes" next="JoinNode12"/>
    <nodeSuccessors name="decision_no" next="JoinNode15"/>
  </nodes>
<!--@Location 28,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode15">
    <nodeSuccessors name="next" next="JoinNode16"/>
  </nodes>
<!--@Location 28,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode14">
    <nodeSuccessors name="next" next="JoinNode15"/>
  </nodes>
<!--@Location 28,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode32" strict="true"/>
<!--@Location 27,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue4">
    <configurationValues name="Name" value="ErrorCode"/>
    <configurationValues name="Value" value="ExpiredQuote"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
<!--@BendPoints 56,5-->
    <nodeSuccessors name="next" next="EndNode35"/>
  </nodes>
<!--@Location 28,2-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode35" name="ERROR" strict="true">
    <returnValues name="ErrorCode" type="java.lang.String" optional="true"/>
  </nodes>
</pipeline:Pipeline>
