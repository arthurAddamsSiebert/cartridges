<!DOCTYPE html>
<html>
	<head>
		<title>Gridster - Demo</title>
		<script src="../../../../../../../../../../p_platform/ui_web_library/staticfiles/cartridge/static/default/js/jquery.js"></script>
		<script src="../../../../../../../../../../p_platform/ui_web_library/staticfiles/cartridge/static/default/js/jquery-migrate-1.2.1.js"></script>
		<link href="../../../../css/jquery/gridster/jquery.gridster.css" rel="stylesheet" type="text/css">
		<script src="../jquery.gridster.js"></script>
		<style>
			body {
				margin: 30px 40px;
				font-size: 16px;
				font-family: 'Helvetica Neue', Arial, sans-serif;
				color: #444;
			}

			.gridster {
				margin: 0 auto;
			}

			.gridster .player {
				background: #BBB;
			}

			.gridster .preview-holder {
				background: red;
			}

			.dashboard {
				list-style-type: none;
				background-color: #EFEFEF;
			}

			.widget {
				font-size: 1em;
				font-weight: bold;
				text-align: center;
				line-height: 100%;
			}

			h1 {
				margin: 30px;
			}

			.a {
				background-color: #ec663c;
			}

			.b {
				background-color: #12b0c5;
			}

			.c {
				background-color: #9c4274;
			}

			.d {
				background-color: #47bbb3;
			}

			.e {
				background-color: #ff9618;
			}

			.recent {
				background-color: #222;
				color: #fff;
			}
		</style>
		
		<script>
			function log(s) {
				$('#log').append(s + '<br>');
			}
			
			$(function () {
				var $dashboard = $('.dashboard'),
					columns = 4,
					widgetMargin = 5,
					widgetWidth = parseInt($dashboard.innerWidth() / columns - 2 * widgetMargin, 10),
					widgetHeight = 230;
				
				 var $gridster = $dashboard.gridster({
					widget_base_dimensions: [ widgetWidth, widgetHeight ],
					widget_margins: [ widgetMargin, widgetMargin ],
					min_cols: columns,
					resize: {
						enabled: true,
						start: function () {
							log('resize start');
						},
						stop: function () {
							log('resize stop');
						}
					},
					draggable: {
						start: function () {
							log('drag start');
						},
						stop: function () {
							log('drag stop');
						}
					}
				}).data('gridster');
				
				$('#add').click(function () {
					$gridster.add_widget('<li class="widget recent"><h1>Block</h1></li>');
					log('added widget');
				});
			});
		</script>
	</head>
	<body>
		<a href="http://gridster.net/">More demos and API documentation</a>
		<br><br>
		<button id="add">Add Widget</button>
		<br><br>
		<div class="gridster">
			<ul class="dashboard">
				<li class="widget a" data-row="1" data-col="1" data-sizex="1" data-sizey="2"><h1>Block A</h1></li>
				<li class="widget b" data-row="1" data-col="2" data-sizex="1" data-sizey="1"><h1>Block B</h1></li>
				<li class="widget c" data-row="1" data-col="3" data-sizex="2" data-sizey="1"><h1>Block C</h1></li>
				<li class="widget d" data-row="2" data-col="4" data-sizex="1" data-sizey="1"><h1>Block D</h1></li>
				<li class="widget e" data-row="2" data-col="2" data-sizex="2" data-sizey="1"><h1>Block E</h1></li>
			</ul>
		</div>
		<br>
		<div id="log"></div>
	</body>
</html>