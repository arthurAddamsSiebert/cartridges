<?xml version="1.0" encoding="UTF-8"?>
<!--The pipeline fires different TrackingEvents.
@Group Tracking-->

<pipeline:Pipeline xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:pipeline="http://www.intershop.de/pipeline/2010"
    name="FireTrackingEvents" type="extension">
<!--@Location 3,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode1" strict="true" name="AddProductToBasket"
      callMode="Private">
    <nodeSuccessors name="next" next="JoinNode0"/>
<!--The added Product Line Item-->
    <parameters name="NewProductLineItem" type="com.intershop.beehive.bts.capi.orderprocess.ProductLineItem"/>
    <parameters name="CurrentSession" type="com.intershop.beehive.core.capi.request.Session"
        optional="true"/>
    <parameters name="CurrentUser" type="com.intershop.beehive.core.capi.user.User"
        optional="true"/>
    <parameters name="CurrentRequest" type="com.intershop.beehive.core.capi.request.Request"
        optional="true"/>
  </nodes>
<!--@Location 3,2-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode0">
    <nodeSuccessors name="next" next="Pipelet2"/>
  </nodes>
<!--@Location 3,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet2">
    <configurationValues name="EventClass" value="com.intershop.component.marketing.capi.tracking.data.v1_0.BasketAddProductEvent"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/CheckForEventHandlers.xml"/>
    <nodeSuccessors name="next" next="GetTrackingDataFromRequest1"/>
<!--@BendPoints 9,7 9,15-->
    <nodeSuccessors name="pipelet_error" next="JoinNode1"/>
  </nodes>
<!--@Location 3,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTrackingDataFromRequest1">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/GetTrackingDataFromRequest.xml"/>
    <nodeSuccessors name="next" next="FireBasketAddProductEvent1"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 3,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="FireBasketAddProductEvent1">
    <configurationValues name="PageName" value="addProduct"/>
    <configurationValues name="PageType" value="basket"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/FireBasketAddProductEvent.xml"/>
    <nodeSuccessors name="next" next="PutTrackingDataToRequest1"/>
    <parameterBindings name="ProductLineItem" objectPath="NewProductLineItem"/>
    <parameterBindings name="Session" objectPath="CurrentSession"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 3,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="PutTrackingDataToRequest1">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/PutTrackingDataToRequest.xml"/>
    <nodeSuccessors name="next" next="JoinNode1"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 3,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode1">
<!--@BendPoints 7,16-->
    <nodeSuccessors name="next" next="EndNode1"/>
  </nodes>
<!--@Location 3,8-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode1" strict="true"/>
<!--@Location 21,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode13" strict="true" name="AddProductsToBasket"
      callMode="Private">
    <nodeSuccessors name="next" next="CheckForEventHandlers1"/>
<!--The added Product Line Item-->
    <parameters name="QuantityMap" type="java.util.Map&lt;com.intershop.component.product.capi.ProductBO,com.intershop.beehive.foundation.quantity.Quantity>"/>
    <parameters name="CurrentSession" type="com.intershop.beehive.core.capi.request.Session"
        optional="true"/>
    <parameters name="CurrentUser" type="com.intershop.beehive.core.capi.user.User"
        optional="true"/>
    <parameters name="CurrentRequest" type="com.intershop.beehive.core.capi.request.Request"
        optional="true"/>
  </nodes>
<!--@Location 21,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEventHandlers1">
    <configurationValues name="EventClass" value="com.intershop.component.marketing.capi.tracking.data.v1_0.BasketAddProductEvent"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/CheckForEventHandlers.xml"/>
    <nodeSuccessors name="next" next="GetTrackingDataFromRequest10"/>
<!--@BendPoints 47,3 47,13-->
    <nodeSuccessors name="pipelet_error" next="JoinNode12"/>
  </nodes>
<!--@Location 21,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTrackingDataFromRequest10">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/GetTrackingDataFromRequest.xml"/>
    <nodeSuccessors name="next" next="LoopNode0"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 21,3-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode0" loop="QuantityMap:KeySet">
<!--@BendPoints 45,7 45,11-->
    <nodeSuccessors name="next" next="PutTrackingDataToRequest10"/>
    <entry key="ProductBO">
      <nodeSuccessors name="loop_entry_next" next="FireBasketAddProductEvent0"/>
    </entry>
  </nodes>
<!--@Location 21,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="FireBasketAddProductEvent0">
    <configurationValues name="PageName" value="addProduct"/>
    <configurationValues name="PageType" value="basket"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/FireBasketAddProductEvent.xml"/>
    <nodeSuccessors name="next" next="LoopNode0_Entry"/>
    <parameterBindings name="ProductLineItem" objectPath="ProductBO:Extension(&quot;PersistentObjectBOExtension&quot;):PersistentObject"/>
    <parameterBindings name="Session" objectPath="CurrentSession"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 21,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="PutTrackingDataToRequest10">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/PutTrackingDataToRequest.xml"/>
    <nodeSuccessors name="next" next="JoinNode12"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 21,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode12">
    <nodeSuccessors name="next" next="EndNode10"/>
  </nodes>
<!--@Location 21,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode10" strict="true"/>
<!--@Location 4,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode0" strict="true" name="AddedProductToBasket"
      callMode="Private">
    <nodeSuccessors name="next" next="DecisionNode_Gp0HQLfiEeeq0YTBUGREDw"/>
    <parameters name="AddToBasketResult" type="com.intershop.component.basket.capi.AddToBasketResult"/>
    <parameters name="CurrentSession" type="com.intershop.beehive.core.capi.request.Session"
        optional="true"/>
    <parameters name="CurrentUser" type="com.intershop.beehive.core.capi.user.User"
        optional="true"/>
    <parameters name="CurrentRequest" type="com.intershop.beehive.core.capi.request.Request"
        optional="true"/>
  </nodes>
<!--@Location 4,1-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode_Gp0HQLfiEeeq0YTBUGREDw"
      conditionKey="AddToBasketResult:ResultingLineItem">
    <nodeSuccessors name="decision_yes" next="KeyMapper0"/>
<!--@BendPoints 10,3 10,15-->
    <nodeSuccessors name="decision_no" next="JoinNode1"/>
  </nodes>
<!--@Location 4,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper0">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="JoinNode0"/>
    <parameterBindings name="InValue_1" objectPath="AddToBasketResult:ResultingLineItem:Extension(&quot;PersistentObjectBOExtension&quot;):PersistentObject"/>
    <returnValueBindings name="OutValue_1" objectPath="NewProductLineItem"/>
  </nodes>
<!--@Location 24,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode12" strict="true" name="AddedProductsToBasket"
      callMode="Private">
    <nodeSuccessors name="next" next="CheckForEventHandlers2"/>
    <parameters name="AddToBasketResults" type="com.intershop.component.basket.capi.AddToBasketResults"/>
    <parameters name="CurrentSession" type="com.intershop.beehive.core.capi.request.Session"
        optional="true"/>
    <parameters name="CurrentUser" type="com.intershop.beehive.core.capi.user.User"
        optional="true"/>
    <parameters name="CurrentRequest" type="com.intershop.beehive.core.capi.request.Request"
        optional="true"/>
  </nodes>
<!--@Location 24,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEventHandlers2">
    <configurationValues name="EventClass" value="com.intershop.component.marketing.capi.tracking.data.v1_0.BasketAddProductEvent"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/CheckForEventHandlers.xml"/>
    <nodeSuccessors name="next" next="GetTrackingDataFromRequest11"/>
<!--@BendPoints 53,3 53,15-->
    <nodeSuccessors name="pipelet_error" next="JoinNode13"/>
  </nodes>
<!--@Location 24,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTrackingDataFromRequest11">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/GetTrackingDataFromRequest.xml"/>
    <nodeSuccessors name="next" next="LoopNode1"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 24,3-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode1" loop="AddToBasketResults:Successes:Values">
<!--@BendPoints 51,7 51,13-->
    <nodeSuccessors name="next" next="PutTrackingDataToRequest11"/>
    <entry key="AddToBasketResult">
      <nodeSuccessors name="loop_entry_next" next="KeyMapper2"/>
    </entry>
  </nodes>
<!--@Location 24,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper2">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="FireBasketAddProductEvent2"/>
    <parameterBindings name="InValue_1" objectPath="AddToBasketResult:ResultingLineItem:Extension(&quot;PersistentObjectBOExtension&quot;):PersistentObject"/>
    <returnValueBindings name="OutValue_1" objectPath="NewProductLineItem"/>
  </nodes>
<!--@Location 24,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="FireBasketAddProductEvent2">
    <configurationValues name="PageName" value="addProduct"/>
    <configurationValues name="PageType" value="basket"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/FireBasketAddProductEvent.xml"/>
    <nodeSuccessors name="next" next="LoopNode1_Entry"/>
    <parameterBindings name="ProductLineItem" objectPath="NewProductLineItem"/>
    <parameterBindings name="Session" objectPath="CurrentSession"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 24,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="PutTrackingDataToRequest11">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/PutTrackingDataToRequest.xml"/>
    <nodeSuccessors name="next" next="JoinNode13"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 24,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode13">
<!--@BendPoints 49,16-->
    <nodeSuccessors name="next" next="EndNode11"/>
  </nodes>
<!--@Location 24,8-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode11" strict="true"/>
<!--@Location 11,9-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode15" strict="true" name="ChangedBasketQuantities"
      callMode="Private">
    <nodeSuccessors name="next" next="CheckForEventHandlers4"/>
<!--The added Product Line Item-->
    <parameters name="UpdateQuantityRecords" type="com.intershop.component.basket.capi.UpdateQuantityRecords"/>
    <parameters name="CurrentSession" type="com.intershop.beehive.core.capi.request.Session"
        optional="true"/>
    <parameters name="CurrentUser" type="com.intershop.beehive.core.capi.user.User"
        optional="true"/>
    <parameters name="CurrentRequest" type="com.intershop.beehive.core.capi.request.Request"
        optional="true"/>
    <parameters name="AdjustBasketResults" type="com.intershop.component.basket.capi.AdjustBasketResults"
        optional="true"/>
  </nodes>
<!--@Location 11,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEventHandlers4">
    <configurationValues name="EventClass" value="com.intershop.component.marketing.capi.tracking.data.v1_0.BasketChangeQuantitiesEvent"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/CheckForEventHandlers.xml"/>
    <nodeSuccessors name="next" next="GetTrackingDataFromRequest13"/>
<!--@BendPoints 25,23 25,31-->
    <nodeSuccessors name="pipelet_error" next="JoinNode15"/>
  </nodes>
<!--@Location 11,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTrackingDataFromRequest13">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/GetTrackingDataFromRequest.xml"/>
    <nodeSuccessors name="next" next="FireBasketChangeQuantitiesEvent0"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 11,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="FireBasketChangeQuantitiesEvent0">
    <configurationValues name="PageName" value="changeBasketQuantities"/>
    <configurationValues name="PageType" value="basket"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/FireBasketChangeQuantitiesEvent.xml"/>
    <nodeSuccessors name="next" next="PutTrackingDataToRequest13"/>
    <parameterBindings name="Session" objectPath="CurrentSession"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 11,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="PutTrackingDataToRequest13">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/PutTrackingDataToRequest.xml"/>
    <nodeSuccessors name="next" next="JoinNode15"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 11,15-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode15">
<!--@BendPoints 23,32-->
    <nodeSuccessors name="next" next="EndNode13"/>
  </nodes>
<!--@Location 11,16-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode13" strict="true"/>
<!--@Location 13,9-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode16" strict="true" name="ChangedBasketVariation"
      callMode="Private">
    <nodeSuccessors name="next" next="CheckForEventHandlers5"/>
    <parameters name="CurrentSession" type="com.intershop.beehive.core.capi.request.Session"
        optional="true"/>
    <parameters name="CurrentUser" type="com.intershop.beehive.core.capi.user.User"
        optional="true"/>
    <parameters name="CurrentRequest" type="com.intershop.beehive.core.capi.request.Request"
        optional="true"/>
    <parameters name="UpdateVariationResults" type="com.intershop.component.basket.capi.UpdateVariationResults"/>
  </nodes>
<!--@Location 13,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEventHandlers5">
    <configurationValues name="EventClass" value="com.intershop.component.marketing.capi.tracking.data.v1_0.BasketChangeVariationEvent"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/CheckForEventHandlers.xml"/>
    <nodeSuccessors name="next" next="GetTrackingDataFromRequest14"/>
<!--@BendPoints 29,23 29,31-->
    <nodeSuccessors name="pipelet_error" next="JoinNode16"/>
  </nodes>
<!--@Location 13,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTrackingDataFromRequest14">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/GetTrackingDataFromRequest.xml"/>
    <nodeSuccessors name="next" next="FireBasketChangeVariationEvent0"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 13,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="FireBasketChangeVariationEvent0">
    <configurationValues name="PageName" value="changeBasketVariation"/>
    <configurationValues name="PageType" value="basket"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/FireBasketChangeVariationEvent.xml"/>
    <nodeSuccessors name="next" next="PutTrackingDataToRequest14"/>
    <parameterBindings name="Session" objectPath="CurrentSession"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 13,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="PutTrackingDataToRequest14">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/PutTrackingDataToRequest.xml"/>
    <nodeSuccessors name="next" next="JoinNode16"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 13,15-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode16">
<!--@BendPoints 27,32-->
    <nodeSuccessors name="next" next="EndNode14"/>
  </nodes>
<!--@Location 13,16-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode14" strict="true"/>
<!--@Location 17,9-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode18" strict="true" name="ClickPromotion"
      callMode="Private">
    <nodeSuccessors name="next" next="LoopNode2"/>
    <parameters name="CurrentSession" type="com.intershop.beehive.core.capi.request.Session"
        optional="true"/>
    <parameters name="CurrentUser" type="com.intershop.beehive.core.capi.user.User"
        optional="true"/>
    <parameters name="CurrentRequest" type="com.intershop.beehive.core.capi.request.Request"
        optional="true"/>
    <parameters name="Pagelet" type="com.intershop.component.pmc.internal.pagelet.PageletPO"
        optional="true"/>
  </nodes>
<!--@Location 17,10-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode2" loop="Pagelet:PageletAssignmentPOs">
<!--@BendPoints 37,21-->
    <nodeSuccessors name="next" next="JoinNode19"/>
    <entry key="PageletAssignment">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode0"/>
    </entry>
  </nodes>
<!--@Location 17,11-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode0" conditionKey="PageletAssignment:Promotion">
    <nodeSuccessors name="decision_yes" next="CheckForEventHandlers7"/>
<!--@BendPoints 36,23 36,25 34,25 34,21-->
    <nodeSuccessors name="decision_no" next="LoopNode2_Entry"/>
  </nodes>
<!--@Location 17,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEventHandlers7">
    <configurationValues name="EventClass" value="com.intershop.component.marketing.capi.tracking.data.v1_0.ClickPromotionEvent"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/CheckForEventHandlers.xml"/>
    <nodeSuccessors name="next" next="GetTrackingDataFromRequest16"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode19"/>
  </nodes>
<!--@Location 17,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTrackingDataFromRequest16">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/GetTrackingDataFromRequest.xml"/>
    <nodeSuccessors name="next" next="FireClickPromotionEvent0"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 17,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="FireClickPromotionEvent0">
    <configurationValues name="PageName" value="clickPromotion"/>
    <configurationValues name="PageType" value="promotion"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/FireClickPromotionEvent.xml"/>
    <nodeSuccessors name="next" next="PutTrackingDataToRequest16"/>
    <parameterBindings name="Promotion" objectPath="PageletAssignment:Promotion"/>
    <parameterBindings name="Session" objectPath="CurrentSession"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 17,16-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="PutTrackingDataToRequest16">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/PutTrackingDataToRequest.xml"/>
    <nodeSuccessors name="next" next="JoinNode18"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 17,17-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode18">
<!--@BendPoints 35,36-->
    <nodeSuccessors name="next" next="EndNode16"/>
  </nodes>
<!--@Location 17,18-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode16" strict="true"/>
<!--@Location 18,13-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode19">
<!--@BendPoints 37,35-->
    <nodeSuccessors name="next" next="JoinNode18"/>
  </nodes>
<!--@Location 17,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode9" strict="true" name="OrderPlaced"
      callMode="Private">
    <nodeSuccessors name="next" next="DecisionNode_GvblkB9cEee6qoDG7xDoPQ"/>
    <parameters name="OrderBO" type="com.intershop.component.order.capi.OrderBO" optional="true"/>
    <parameters name="UserBO" type="com.intershop.component.user.capi.UserBO" optional="true"/>
    <parameters name="CurrentOrder" type="com.intershop.beehive.bts.capi.orderprocess.fulfillment.Order"
        optional="true"/>
    <parameters name="CurrentSession" type="com.intershop.beehive.core.capi.request.Session"
        optional="true"/>
    <parameters name="CurrentUser" type="com.intershop.beehive.core.capi.user.User"
        optional="true"/>
    <parameters name="CurrentRequest" type="com.intershop.beehive.core.capi.request.Request"
        optional="true"/>
  </nodes>
<!--@Location 17,1-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode_GvblkB9cEee6qoDG7xDoPQ"
      conditionKey="OrderBO">
    <nodeSuccessors name="decision_yes" next="KeyMapper_ddGQUB9cEee6qoDG7xDoPQ"/>
<!--@BendPoints 37,3 37,7-->
    <nodeSuccessors name="decision_no" next="JoinNode_CMEdMB9eEee6qoDG7xDoPQ"/>
  </nodes>
<!--@Location 17,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper_ddGQUB9cEee6qoDG7xDoPQ">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="JoinNode_CMEdMB9eEee6qoDG7xDoPQ"/>
    <parameterBindings name="InValue_1" objectPath="OrderBO:PersistentObject"/>
    <returnValueBindings name="OutValue_1" objectPath="CurrentOrder"/>
  </nodes>
<!--@Location 17,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode_CMEdMB9eEee6qoDG7xDoPQ">
    <nodeSuccessors name="next" next="DecisionNode_FQ0AkB9eEee6qoDG7xDoPQ"/>
  </nodes>
<!--@Location 17,4-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode_FQ0AkB9eEee6qoDG7xDoPQ"
      conditionKey="CurrentOrder">
    <nodeSuccessors name="decision_yes" next="DecisionNode_k8hPQB9cEee6qoDG7xDoPQ"/>
<!--@BendPoints 37,9-->
    <nodeSuccessors name="decision_no" next="JoinNode_LdgeQB9cEee6qoDG7xDoPQ"/>
  </nodes>
<!--@Location 17,5-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode_k8hPQB9cEee6qoDG7xDoPQ"
      conditionKey="UserBO">
    <nodeSuccessors name="decision_yes" next="DetermineUser_DU3J4B9hEee6qoDG7xDoPQ"/>
<!--@BendPoints 36,11 36,15-->
    <nodeSuccessors name="decision_no" next="JoinNode_sNoscB9cEee6qoDG7xDoPQ"/>
  </nodes>
<!--@Location 17,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="DetermineUser_DU3J4B9hEee6qoDG7xDoPQ">
    <pipelet href="enfinity:/core/pipelets/DetermineUser.xml"/>
    <nodeSuccessors name="next" next="JoinNode_sNoscB9cEee6qoDG7xDoPQ"/>
    <parameterBindings name="UserID" objectPath="UserBO:ID"/>
    <returnValueBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 17,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode_sNoscB9cEee6qoDG7xDoPQ">
    <nodeSuccessors name="next" next="Pipelet9"/>
  </nodes>
<!--@Location 17,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet9">
    <configurationValues name="EventClass" value="com.intershop.component.marketing.capi.tracking.data.v1_0.OrderPlacedEvent"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/CheckForEventHandlers.xml"/>
    <nodeSuccessors name="next" next="GetTrackingDataFromRequest8"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode_LdgeQB9cEee6qoDG7xDoPQ"/>
  </nodes>
<!--@Location 17,9-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTrackingDataFromRequest8">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/GetTrackingDataFromRequest.xml"/>
    <nodeSuccessors name="next" next="FireOrderPlacedEvent1"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 17,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="FireOrderPlacedEvent1">
    <pipelet href="enfinity:/bc_marketing/pipelets/FireOrderPlacedEvent.xml"/>
    <nodeSuccessors name="next" next="PutTrackingDataToRequest8"/>
    <parameterBindings name="Order" objectPath="CurrentOrder"/>
    <parameterBindings name="Session" objectPath="CurrentSession"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 17,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="PutTrackingDataToRequest8">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/PutTrackingDataToRequest.xml"/>
    <nodeSuccessors name="next" next="JoinNode9"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 17,12-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode9">
<!--@BendPoints 35,26-->
    <nodeSuccessors name="next" next="EndNode9"/>
  </nodes>
<!--@Location 17,13-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode9" strict="true"/>
<!--@Location 18,8-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode_LdgeQB9cEee6qoDG7xDoPQ">
<!--@BendPoints 37,25-->
    <nodeSuccessors name="next" next="JoinNode9"/>
  </nodes>
<!--@Location 19,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode11" strict="true" name="ProductSearch"
      callMode="Private">
    <nodeSuccessors name="next" next="CheckForEventHandlers0"/>
    <parameters name="SearchTerm" type="java.lang.String" optional="true"/>
    <parameters name="NumberOfResults" type="java.lang.Number" optional="true"/>
  </nodes>
<!--@Location 19,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEventHandlers0">
    <configurationValues name="EventClass" value="com.intershop.component.marketing.capi.tracking.data.v1_1.ProductSearchEvent"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/CheckForEventHandlers.xml"/>
    <nodeSuccessors name="next" next="GetTrackingDataFromRequest9"/>
    <nodeSuccessors name="pipelet_error" next="GetTrackingDataFromRequest9"/>
  </nodes>
<!--@Location 19,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTrackingDataFromRequest9">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/GetTrackingDataFromRequest.xml"/>
    <nodeSuccessors name="next" next="FireProductSearchEvent0"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 19,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="FireProductSearchEvent0">
    <pipelet href="enfinity:/bc_marketing/pipelets/FireProductSearchEvent.xml"/>
    <nodeSuccessors name="next" next="PutTrackingDataToRequest9"/>
    <parameterBindings name="PageSize" objectPath="NumberOfResults"/>
  </nodes>
<!--@Location 19,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="PutTrackingDataToRequest9">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/PutTrackingDataToRequest.xml"/>
    <nodeSuccessors name="next" next="JoinNode11"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 19,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode11">
<!--@BendPoints 39,14-->
    <nodeSuccessors name="next" next="EndNode0"/>
  </nodes>
<!--@Location 19,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode0" strict="true"/>
<!--@Location 5,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode2" strict="true" name="RemoveFromBasket"
      callMode="Private">
    <nodeSuccessors name="next" next="JoinNode10"/>
<!--The product line item that has been removed from cart-->
    <parameters name="ProductLineItem" type="com.intershop.beehive.bts.capi.orderprocess.ProductLineItem"/>
    <parameters name="CurrentSession" type="com.intershop.beehive.core.capi.request.Session"
        optional="true"/>
    <parameters name="CurrentUser" type="com.intershop.beehive.core.capi.user.User"
        optional="true"/>
    <parameters name="CurrentRequest" type="com.intershop.beehive.core.capi.request.Request"
        optional="true"/>
  </nodes>
<!--@Location 5,1-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode10">
    <nodeSuccessors name="next" next="Pipelet3"/>
  </nodes>
<!--@Location 5,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet3">
    <configurationValues name="EventClass" value="com.intershop.component.marketing.capi.tracking.data.v1_0.BasketRemoveProductEvent"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/CheckForEventHandlers.xml"/>
    <nodeSuccessors name="next" next="GetTrackingDataFromRequest2"/>
<!--@BendPoints 13,5 13,13-->
    <nodeSuccessors name="pipelet_error" next="JoinNode3"/>
  </nodes>
<!--@Location 5,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTrackingDataFromRequest2">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/GetTrackingDataFromRequest.xml"/>
    <nodeSuccessors name="next" next="FireBasketRemoveProductEvent1"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 5,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="FireBasketRemoveProductEvent1">
    <configurationValues name="PageName" value="removeProduct"/>
    <configurationValues name="PageType" value="basket"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/FireBasketRemoveProductEvent.xml"/>
    <nodeSuccessors name="next" next="PutTrackingDataToRequest2"/>
    <parameterBindings name="Session" objectPath="CurrentSession"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 5,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="PutTrackingDataToRequest2">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/PutTrackingDataToRequest.xml"/>
    <nodeSuccessors name="next" next="JoinNode3"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 5,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode3">
<!--@BendPoints 11,14-->
    <nodeSuccessors name="next" next="EndNode2"/>
  </nodes>
<!--@Location 5,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode2" strict="true"/>
<!--@Location 6,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode10" strict="true" name="RemoveLineItemFromBasket"
      callMode="Private">
    <nodeSuccessors name="next" next="KeyMapper1"/>
<!--The product line item that has been removed-->
    <parameters name="ProductLineItem" type="com.intershop.component.basket.capi.BasketProductLineItemBO"/>
    <parameters name="CurrentSession" type="com.intershop.beehive.core.capi.request.Session"
        optional="true"/>
    <parameters name="CurrentUser" type="com.intershop.beehive.core.capi.user.User"
        optional="true"/>
    <parameters name="CurrentRequest" type="com.intershop.beehive.core.capi.request.Request"
        optional="true"/>
  </nodes>
<!--@Location 6,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper1">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="JoinNode10"/>
    <parameterBindings name="InValue_1" objectPath="ProductLineItem:Extension(&quot;PersistentObjectBOExtension&quot;):PersistentObject"/>
    <returnValueBindings name="OutValue_1" objectPath="ProductLineItem"/>
  </nodes>
<!--@Location 7,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode3" strict="true" name="View"
      callMode="Private">
    <nodeSuccessors name="next" next="Pipelet4"/>
    <parameters name="PageName" type="java.lang.String"/>
    <parameters name="PageType" type="java.lang.String" optional="true"/>
    <parameters name="CurrentSession" type="com.intershop.beehive.core.capi.request.Session"
        optional="true"/>
    <parameters name="CurrentUser" type="com.intershop.beehive.core.capi.user.User"
        optional="true"/>
    <parameters name="CurrentRequest" type="com.intershop.beehive.core.capi.request.Request"
        optional="true"/>
  </nodes>
<!--@Location 7,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet4">
    <configurationValues name="EventClass" value="com.intershop.component.marketing.capi.tracking.data.v1_0.ViewEvent"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/CheckForEventHandlers.xml"/>
    <nodeSuccessors name="next" next="GetTrackingDataFromRequest3"/>
<!--@BendPoints 17,5 17,13-->
    <nodeSuccessors name="pipelet_error" next="JoinNode4"/>
  </nodes>
<!--@Location 7,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTrackingDataFromRequest3">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/GetTrackingDataFromRequest.xml"/>
    <nodeSuccessors name="next" next="FireViewEvent1"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 7,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="FireViewEvent1">
    <pipelet href="enfinity:/bc_marketing/pipelets/FireViewEvent.xml"/>
    <nodeSuccessors name="next" next="PutTrackingDataToRequest3"/>
    <parameterBindings name="Session" objectPath="CurrentSession"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 7,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="PutTrackingDataToRequest3">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/PutTrackingDataToRequest.xml"/>
    <nodeSuccessors name="next" next="JoinNode4"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 7,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode4">
<!--@BendPoints 15,14-->
    <nodeSuccessors name="next" next="EndNode3"/>
  </nodes>
<!--@Location 7,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode3" strict="true"/>
<!--@Location 1,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode6" strict="true" name="ViewBasket"
      callMode="Private">
    <nodeSuccessors name="next" next="Pipelet1"/>
    <parameters name="Basket" type="com.intershop.beehive.bts.capi.orderprocess.basket.Basket"/>
    <parameters name="CurrentSession" type="com.intershop.beehive.core.capi.request.Session"
        optional="true"/>
    <parameters name="CurrentUser" type="com.intershop.beehive.core.capi.user.User"
        optional="true"/>
    <parameters name="CurrentRequest" type="com.intershop.beehive.core.capi.request.Request"
        optional="true"/>
  </nodes>
<!--@Location 1,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet1">
    <configurationValues name="EventClass" value="com.intershop.component.marketing.capi.tracking.data.v1_0.ViewBasketEvent"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/CheckForEventHandlers.xml"/>
    <nodeSuccessors name="next" next="GetTrackingDataFromRequest0"/>
<!--@BendPoints 5,5 5,13-->
    <nodeSuccessors name="pipelet_error" next="JoinNode2"/>
  </nodes>
<!--@Location 1,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTrackingDataFromRequest0">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/GetTrackingDataFromRequest.xml"/>
    <nodeSuccessors name="next" next="FireViewBasketEvent1"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 1,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="FireViewBasketEvent1">
    <configurationValues name="PageName" value="viewBasket"/>
    <configurationValues name="PageType" value="basket"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/FireViewBasketEvent.xml"/>
    <nodeSuccessors name="next" next="PutTrackingDataToRequest0"/>
    <parameterBindings name="Session" objectPath="CurrentSession"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 1,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="PutTrackingDataToRequest0">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/PutTrackingDataToRequest.xml"/>
    <nodeSuccessors name="next" next="JoinNode2"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 1,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode2">
<!--@BendPoints 3,14-->
    <nodeSuccessors name="next" next="EndNode4"/>
  </nodes>
<!--@Location 1,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode4" strict="true"/>
<!--@Location 11,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode5" strict="true" name="ViewCategory"
      callMode="Private">
    <nodeSuccessors name="next" next="Pipelet6"/>
    <parameters name="Category" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
    <parameters name="CurrentSession" type="com.intershop.beehive.core.capi.request.Session"
        optional="true"/>
    <parameters name="CurrentUser" type="com.intershop.beehive.core.capi.user.User"
        optional="true"/>
    <parameters name="CurrentRequest" type="com.intershop.beehive.core.capi.request.Request"
        optional="true"/>
  </nodes>
<!--@Location 11,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet6">
    <configurationValues name="EventClass" value="com.intershop.component.marketing.capi.tracking.data.v1_0.ViewCategoryEvent"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/CheckForEventHandlers.xml"/>
    <nodeSuccessors name="next" next="GetTrackingDataFromRequest5"/>
<!--@BendPoints 25,5 25,13-->
    <nodeSuccessors name="pipelet_error" next="JoinNode6"/>
  </nodes>
<!--@Location 11,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTrackingDataFromRequest5">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/GetTrackingDataFromRequest.xml"/>
    <nodeSuccessors name="next" next="FireViewCategoryEvent1"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 11,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="FireViewCategoryEvent1">
    <configurationValues name="PageName" value="category"/>
    <configurationValues name="PageType" value="category"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/FireViewCategoryEvent.xml"/>
    <nodeSuccessors name="next" next="PutTrackingDataToRequest5"/>
    <parameterBindings name="Session" objectPath="CurrentSession"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 11,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="PutTrackingDataToRequest5">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/PutTrackingDataToRequest.xml"/>
    <nodeSuccessors name="next" next="JoinNode6"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 11,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode6">
<!--@BendPoints 23,14-->
    <nodeSuccessors name="next" next="EndNode6"/>
  </nodes>
<!--@Location 11,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode6" strict="true"/>
<!--@Location 15,9-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode17" strict="true" name="ViewCheckout"
      callMode="Private">
    <nodeSuccessors name="next" next="CheckForEventHandlers6"/>
    <parameters name="CurrentSession" type="com.intershop.beehive.core.capi.request.Session"
        optional="true"/>
    <parameters name="CurrentUser" type="com.intershop.beehive.core.capi.user.User"
        optional="true"/>
    <parameters name="CurrentRequest" type="com.intershop.beehive.core.capi.request.Request"
        optional="true"/>
    <parameters name="Basket" type="com.intershop.component.basket.capi.BasketBO"/>
    <parameters name="CheckoutStep" type="java.lang.String"/>
  </nodes>
<!--@Location 15,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEventHandlers6">
    <configurationValues name="EventClass" value="com.intershop.component.marketing.capi.tracking.data.v1_0.ViewCheckoutEvent"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/CheckForEventHandlers.xml"/>
    <nodeSuccessors name="next" next="GetTrackingDataFromRequest15"/>
<!--@BendPoints 33,23 33,31-->
    <nodeSuccessors name="pipelet_error" next="JoinNode17"/>
  </nodes>
<!--@Location 15,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTrackingDataFromRequest15">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/GetTrackingDataFromRequest.xml"/>
    <nodeSuccessors name="next" next="FireViewCheckoutEvent0"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 15,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="FireViewCheckoutEvent0">
    <configurationValues name="PageType" value="checkout"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/FireViewCheckoutEvent.xml"/>
    <nodeSuccessors name="next" next="PutTrackingDataToRequest15"/>
    <parameterBindings name="Session" objectPath="CurrentSession"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 15,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="PutTrackingDataToRequest15">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/PutTrackingDataToRequest.xml"/>
    <nodeSuccessors name="next" next="JoinNode17"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 15,15-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode17">
<!--@BendPoints 31,32-->
    <nodeSuccessors name="next" next="EndNode15"/>
  </nodes>
<!--@Location 15,16-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode15" strict="true"/>
<!--@Location 9,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode4" strict="true" name="ViewProduct"
      callMode="Private">
    <nodeSuccessors name="next" next="Pipelet5"/>
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
    <parameters name="CurrentSession" type="com.intershop.beehive.core.capi.request.Session"
        optional="true"/>
    <parameters name="CurrentUser" type="com.intershop.beehive.core.capi.user.User"
        optional="true"/>
    <parameters name="CurrentRequest" type="com.intershop.beehive.core.capi.request.Request"
        optional="true"/>
  </nodes>
<!--@Location 9,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet5">
    <configurationValues name="EventClass" value="com.intershop.component.marketing.capi.tracking.data.v1_0.ViewProductEvent"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/CheckForEventHandlers.xml"/>
    <nodeSuccessors name="next" next="GetTrackingDataFromRequest4"/>
<!--@BendPoints 21,5 21,13-->
    <nodeSuccessors name="pipelet_error" next="JoinNode5"/>
  </nodes>
<!--@Location 9,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTrackingDataFromRequest4">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/GetTrackingDataFromRequest.xml"/>
    <nodeSuccessors name="next" next="FireViewProductEvent1"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 9,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="FireViewProductEvent1">
    <configurationValues name="PageName" value="product"/>
    <configurationValues name="PageType" value="product"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/FireViewProductEvent.xml"/>
    <nodeSuccessors name="next" next="PutTrackingDataToRequest4"/>
    <parameterBindings name="Session" objectPath="CurrentSession"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 9,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="PutTrackingDataToRequest4">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/PutTrackingDataToRequest.xml"/>
    <nodeSuccessors name="next" next="JoinNode5"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 9,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode5">
<!--@BendPoints 19,14-->
    <nodeSuccessors name="next" next="EndNode5"/>
  </nodes>
<!--@Location 9,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode5" strict="true"/>
<!--@Location 9,9-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode14" strict="true" name="ViewProductList"
      callMode="Private">
    <nodeSuccessors name="next" next="CheckForEventHandlers3"/>
    <parameters name="ProductList" type="java.util.Iterator&lt;com.intershop.beehive.xcs.capi.product.Product>"/>
    <parameters name="CurrentSession" type="com.intershop.beehive.core.capi.request.Session"
        optional="true"/>
    <parameters name="CurrentUser" type="com.intershop.beehive.core.capi.user.User"
        optional="true"/>
    <parameters name="CurrentRequest" type="com.intershop.beehive.core.capi.request.Request"
        optional="true"/>
    <parameters name="PageName" type="java.lang.String"/>
    <parameters name="PageType" type="java.lang.String"/>
    <parameters name="TrackingDataContainer" type="java.lang.Object" optional="true"/>
  </nodes>
<!--@Location 9,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEventHandlers3">
    <configurationValues name="EventClass" value="com.intershop.component.marketing.capi.tracking.data.v1_0.ViewProductListEvent"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/CheckForEventHandlers.xml"/>
    <nodeSuccessors name="next" next="GetTrackingDataFromRequest12"/>
<!--@BendPoints 21,23 21,31-->
    <nodeSuccessors name="pipelet_error" next="JoinNode14"/>
  </nodes>
<!--@Location 9,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTrackingDataFromRequest12">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/GetTrackingDataFromRequest.xml"/>
    <nodeSuccessors name="next" next="FireViewProductListEvent0"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 9,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="FireViewProductListEvent0">
    <pipelet href="enfinity:/bc_marketing/pipelets/FireViewProductListEvent.xml"/>
    <nodeSuccessors name="next" next="PutTrackingDataToRequest12"/>
    <parameterBindings name="Session" objectPath="CurrentSession"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 9,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="PutTrackingDataToRequest12">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/PutTrackingDataToRequest.xml"/>
    <nodeSuccessors name="next" next="JoinNode14"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 9,15-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode14">
<!--@BendPoints 19,32-->
    <nodeSuccessors name="next" next="EndNode12"/>
  </nodes>
<!--@Location 9,16-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode12" strict="true"/>
<!--@Location 13,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode7" strict="true" name="ViewUserLogin"
      callMode="Private">
    <nodeSuccessors name="next" next="Pipelet7"/>
    <parameters name="CurrentSession" type="com.intershop.beehive.core.capi.request.Session"
        optional="true"/>
    <parameters name="CurrentUser" type="com.intershop.beehive.core.capi.user.User"
        optional="true"/>
    <parameters name="CurrentRequest" type="com.intershop.beehive.core.capi.request.Request"
        optional="true"/>
  </nodes>
<!--@Location 13,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet7">
    <configurationValues name="EventClass" value="com.intershop.component.marketing.capi.tracking.data.v1_0.UserLoginEvent"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/CheckForEventHandlers.xml"/>
    <nodeSuccessors name="next" next="GetTrackingDataFromRequest6"/>
<!--@BendPoints 29,5 29,13-->
    <nodeSuccessors name="pipelet_error" next="JoinNode7"/>
  </nodes>
<!--@Location 13,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTrackingDataFromRequest6">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/GetTrackingDataFromRequest.xml"/>
    <nodeSuccessors name="next" next="FireUserLoginEvent1"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 13,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="FireUserLoginEvent1">
    <configurationValues name="PageName" value="loginUser"/>
    <configurationValues name="PageType" value="account"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/FireUserLoginEvent.xml"/>
    <nodeSuccessors name="next" next="PutTrackingDataToRequest6"/>
    <parameterBindings name="Session" objectPath="CurrentSession"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 13,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="PutTrackingDataToRequest6">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/PutTrackingDataToRequest.xml"/>
    <nodeSuccessors name="next" next="JoinNode7"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 13,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode7">
<!--@BendPoints 27,14-->
    <nodeSuccessors name="next" next="EndNode8"/>
  </nodes>
<!--@Location 13,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode8" strict="true">
    <returnValues name="TrackingDataContainer" type="java.lang.Object" optional="true"/>
  </nodes>
<!--@Location 15,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode8" strict="true" name="ViewUserLogout"
      callMode="Private">
    <nodeSuccessors name="next" next="Pipelet8"/>
    <parameters name="CurrentSession" type="com.intershop.beehive.core.capi.request.Session"
        optional="true"/>
    <parameters name="CurrentUser" type="com.intershop.beehive.core.capi.user.User"
        optional="true"/>
    <parameters name="CurrentRequest" type="com.intershop.beehive.core.capi.request.Request"
        optional="true"/>
  </nodes>
<!--@Location 15,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet8">
    <configurationValues name="EventClass" value="com.intershop.component.marketing.capi.tracking.data.v1_0.UserLogoutEvent"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/CheckForEventHandlers.xml"/>
    <nodeSuccessors name="next" next="GetTrackingDataFromRequest7"/>
<!--@BendPoints 33,5 33,13-->
    <nodeSuccessors name="pipelet_error" next="JoinNode8"/>
  </nodes>
<!--@Location 15,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTrackingDataFromRequest7">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/GetTrackingDataFromRequest.xml"/>
    <nodeSuccessors name="next" next="FireUserLogoutEvent1"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 15,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="FireUserLogoutEvent1">
    <configurationValues name="PageName" value="logoutUser"/>
    <configurationValues name="PageType" value="account"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/FireUserLogoutEvent.xml"/>
    <nodeSuccessors name="next" next="PutTrackingDataToRequest7"/>
    <parameterBindings name="Session" objectPath="CurrentSession"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 15,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="PutTrackingDataToRequest7">
    <pipelet href="enfinity:/sld_ch_sf_base/pipelets/PutTrackingDataToRequest.xml"/>
    <nodeSuccessors name="next" next="JoinNode8"/>
    <parameterBindings name="Request" objectPath="CurrentRequest"/>
  </nodes>
<!--@Location 15,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode8">
<!--@BendPoints 31,14-->
    <nodeSuccessors name="next" next="EndNode7"/>
  </nodes>
<!--@Location 15,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode7" strict="true"/>
</pipeline:Pipeline>
