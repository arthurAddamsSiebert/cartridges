<%@  page buffer="none" import="java.util.*,java.io.*,com.intershop.beehive.core.internal.template.*,com.intershop.beehive.core.internal.template.isml.*,com.intershop.beehive.core.capi.log.*,com.intershop.beehive.core.capi.resource.*,com.intershop.beehive.core.capi.util.UUIDMgr,com.intershop.beehive.core.capi.util.XMLHelper,com.intershop.beehive.foundation.util.*,com.intershop.beehive.core.internal.url.*,com.intershop.beehive.core.internal.resource.*,com.intershop.beehive.core.internal.wsrp.*,com.intershop.beehive.core.capi.pipeline.PipelineDictionary,com.intershop.beehive.core.capi.naming.NamingMgr,com.intershop.beehive.core.capi.pagecache.PageCacheMgr,com.intershop.beehive.core.capi.request.SessionMgr,com.intershop.beehive.core.internal.request.SessionMgrImpl,com.intershop.beehive.core.pipelet.PipelineConstants" extends="com.intershop.beehive.core.internal.template.AbstractTemplate" %><% 
boolean _boolean_result=false;
TemplateExecutionConfig context = getTemplateExecutionConfig();
createTemplatePageConfig(context.getServletRequest());
printHeader(out);
 %><% %><%@ page contentType="text/html;charset=utf-8" %><%setEncodingType("text/html"); %><% {out.flush();processLocalIncludeByServer((com.intershop.beehive.core.capi.request.ServletResponse)response,"modules/common/Modules", null, "2");} %><% {out.flush();processLocalIncludeByServer((com.intershop.beehive.core.capi.request.ServletResponse)response,"modules/account/Modules", null, "3");} %><div class="edit-profile-page"><% URLPipelineAction action13 = new URLPipelineAction(context.getFormattedValue(url(true,context.getFormattedValue(getObject("SecureURL"),null), context.getFormattedValue("",null), (new URLPipelineAction(context.getFormattedValue("ViewProfileSettings-UpdateProfile",null)))),null));String site13 = null;String serverGroup13 = null;String actionValue13 = context.getFormattedValue(url(true,context.getFormattedValue(getObject("SecureURL"),null), context.getFormattedValue("",null), (new URLPipelineAction(context.getFormattedValue("ViewProfileSettings-UpdateProfile",null)))),null);if (site13 == null){  site13 = action13.getDomain();  if (site13 == null)  {      site13 = com.intershop.beehive.core.capi.request.Request.getCurrent().getRequestSite().getDomainName();  }}if (serverGroup13 == null){  serverGroup13 = action13.getServerGroup();  if (serverGroup13 == null)  {      serverGroup13 = com.intershop.beehive.core.capi.request.Request.getCurrent().getRequestSite().getServerGroup();  }}out.print("<form");out.print(" method=\"");out.print("post");out.print("\"");out.print(" action=\"");out.print(context.getFormattedValue(url(true,context.getFormattedValue(getObject("SecureURL"),null), context.getFormattedValue("",null), (new URLPipelineAction(context.getFormattedValue("ViewProfileSettings-UpdateProfile",null)))),null));out.print("\"");out.print(" name=\"");out.print("UpdateProfileForm");out.print("\"");out.print(" class=\"");out.print("form-horizontal bv-form");out.print("\"");out.print(">");out.print(context.prepareWACSRFTag(actionValue13, site13, serverGroup13,true)); %><p class="indicates-required"><span class="required">*</span><% {out.write(localizeISText("account.required_field.message","",null,null,null,null,null,null,null,null,null,null,null));} %></p> 
<div class="form-group">
<label for="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentForm:Title:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {9}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" class="col-sm-3 col-md-3 control-label"><% {out.write(localizeISText("account.update_profile.salutation.label","",null,null,null,null,null,null,null,null,null,null,null));} %></label>
<div class="col-md-4 col-sm-6"><% processOpenTag(response, pageContext, "salutationselectbox", new TagParameter[] {
new TagParameter("formparameter",getObject("CurrentForm:Title:QualifiedName")),
new TagParameter("salutation_enumeration_provider",getObject("SalutationEnumerationKeyProvider")),
new TagParameter("salutation",getObject("CurrentUser:Profile:Title"))}, 13); %></div>
</div>
<div class="form-group">
<label for="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentForm:FirstName:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {20}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" class="col-sm-3 col-md-3 control-label"><% {out.write(localizeISText("account.update_profile.firstname.label","",null,null,null,null,null,null,null,null,null,null,null));} %><span class="required">*</span>
</label>
<div class="col-md-4 col-sm-6">
<input class="form-control" maxlength="35" type="text" required
id="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentForm:FirstName:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {25}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
name="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentForm:FirstName:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {26}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
value="<% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("CurrentForm:Submitted"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",27,e);}if (_boolean_result) { %><% {String value = null;try{value=context.getFormattedValue(getObject("CurrentForm:FirstName:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {27}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } else { %><% {String value = null;try{value=context.getFormattedValue(getObject("UserBO:FirstName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {27}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } %>"
data-bv-notempty-message="<% {out.write(localizeISText("account.firstname.error.required","",null,null,null,null,null,null,null,null,null,null,null));} %>"
forbiddensymbols=""
data-bv-forbiddensymbols-message="<% {out.write(localizeISText("error.forbiddensymbols","",null,null,null,null,null,null,null,null,null,null,null));} %>"
data-bv-field="UpdateProfileForm_FirstName"
/>
</div>
</div>
<div class="form-group">
<label for="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentForm:LastName:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {37}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" class="col-sm-3 col-md-3 control-label"><% {out.write(localizeISText("account.update_profile.lastname.label","",null,null,null,null,null,null,null,null,null,null,null));} %><span class="required">*</span>
</label>
<div class="col-md-4 col-sm-6">
<input class="form-control" maxlength="35" type="text" required
id="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentForm:LastName:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {42}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
name="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentForm:LastName:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {43}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
value="<% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("CurrentForm:Submitted"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",44,e);}if (_boolean_result) { %><% {String value = null;try{value=context.getFormattedValue(getObject("CurrentForm:LastName:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {44}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } else { %><% {String value = null;try{value=context.getFormattedValue(getObject("UserBO:LastName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {44}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } %>"
data-bv-notempty-message="<% {out.write(localizeISText("account.lastname.error.required","",null,null,null,null,null,null,null,null,null,null,null));} %>"
forbiddensymbols=""
data-bv-forbiddensymbols-message="<% {out.write(localizeISText("error.forbiddensymbols","",null,null,null,null,null,null,null,null,null,null,null));} %>"
data-bv-field="UpdateProfileForm_LastName"
/>
</div>
</div><% {out.flush();processExtensionPoint((com.intershop.beehive.core.capi.request.ServletResponse)response,"AccountProfileDepartmentExtensions", null, "53");} %><% {out.flush();processLocalIncludeByServer((com.intershop.beehive.core.capi.request.ServletResponse)response,"account/profile/PhoneEdit", null, "55");} %><div class="form-group">
<label for="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentForm:Fax:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {58}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" class="col-sm-3 col-md-3 control-label"><% {out.write(localizeISText("account.update_profile.fax.label","",null,null,null,null,null,null,null,null,null,null,null));} %></label>
<div class="col-md-4 col-sm-6">
<input class="form-control" maxlength="20" type="text"
id="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentForm:Fax:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {63}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
name="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentForm:Fax:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {64}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
value="<% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("CurrentForm:Submitted"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",65,e);}if (_boolean_result) { %><% {String value = null;try{value=context.getFormattedValue(getObject("CurrentForm:Fax:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {65}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } else { %><% {String value = null;try{value=context.getFormattedValue(getObject("UserBO:Fax"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {65}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } %>"/>
</div>
</div>
<div class="form-group<% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("CurrentForm:Birthday:Month:isInvalid")).booleanValue() || ((Boolean) getObject("CurrentForm:Birthday:Day:isInvalid")).booleanValue() || ((Boolean) getObject("CurrentForm:Birthday:Year:isInvalid")).booleanValue() || ((Boolean) getObject("CurrentForm:Birthday:isInvalid")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",71,e);}if (_boolean_result) { %> has-error<% } %>"
>
<label for="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentForm:Birthday:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {76}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" class="col-sm-3 col-md-3 control-label" ><% {out.write(localizeISText("account.update_profile.birthday.label","",null,null,null,null,null,null,null,null,null,null,null));} %></label>
<div class="col-md-5 col-sm-6"><% processOpenTag(response, pageContext, "birthdayinput", new TagParameter[] {
new TagParameter("birthday",getObject("UserBO:BirthdayDate")),
new TagParameter("formparameter",getObject("CurrentForm:Birthday")),
new TagParameter("type","select"),
new TagParameter("required","false")}, 80); %></div>
</div>
<div class="form-group">
<label for="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentForm:LocaleID:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {90}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" class="col-sm-3 col-md-3 control-label"><% {out.write(localizeISText("account.update_profile.preferred_language.label","",null,null,null,null,null,null,null,null,null,null,null));} %><span class="required">*</span>
</label>
<div class="col-md-4 col-sm-6"><% processOpenTag(response, pageContext, "preferredlocaleselectbox", new TagParameter[] {
new TagParameter("currentlocale",getObject("CurrentSession:Locale")),
new TagParameter("parametername",getObject("CurrentForm:LocaleID:QualifiedName")),
new TagParameter("selected",getObject("UserBO:Extension(\"UserBOPreferencesExtension\"):PreferredLocale:LocaleID"))}, 94); %></div>
</div>
<div class="form-group">
<div class="checkbox col-sm-offset-3 col-sm-8"> 
<label for="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentForm:Newsletter:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {103}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>">
<input
type="checkbox"
id="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentForm:Newsletter:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {106}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
name="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentForm:Newsletter:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {107}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
value = "<% {String value = null;try{value=context.getFormattedValue(((((Boolean) (disableErrorMessages().isDefined(getObject("ReceiveNewsletters")))).booleanValue() && ((Boolean) getObject("ReceiveNewsletters")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {108}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
<% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("ReceiveNewsletters")))).booleanValue() && ((Boolean) getObject("ReceiveNewsletters")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",109,e);}if (_boolean_result) { %>checked="checked"<% } %>/> 
<% {out.write(localizeISText("account.register.newsletter.checkbox.text","",null,null,null,null,null,null,null,null,null,null,null));} %><br>
<small class="input-help"><% {out.write(localizeISText("account.notification.note.text",null,null,url(true,(new URLPipelineAction(context.getFormattedValue("ViewContent-Start",null))),(new URLParameterSet().addURLParameter(context.getFormattedValue("PageletEntryPointID",null),context.getFormattedValue("systeminclude.dialog.privacyPolicy.pagelet2-Include",null)))),null,null,null,null,null,null,null,null,null));} %></small>
</label>
</div>
</div>
<div class="form-group">
<div class="col-sm-offset-3 col-sm-8">
<button class="btn btn-primary" type="submit" value="UpdateProfile" name="UpdateProfile" ><% {out.write(localizeISText("account.update.button.label","",null,null,null,null,null,null,null,null,null,null,null));} %></button>
<a class="btn btn-default" href="<% {String value = null;try{value=context.getFormattedValue(url(true,context.getFormattedValue(getObject("SecureURL"),null), context.getFormattedValue("",null), (new URLPipelineAction(context.getFormattedValue("ViewProfileSettings-ViewProfile",null)))),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {122}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"><% {out.write(localizeISText("account.cancel.link","",null,null,null,null,null,null,null,null,null,null,null));} %></a>
</div>
</div><% out.print("</form>"); %></div><% printFooter(out); %>