<%@  page buffer="none" import="java.util.*,java.io.*,com.intershop.beehive.core.internal.template.*,com.intershop.beehive.core.internal.template.isml.*,com.intershop.beehive.core.capi.log.*,com.intershop.beehive.core.capi.resource.*,com.intershop.beehive.core.capi.util.UUIDMgr,com.intershop.beehive.core.capi.util.XMLHelper,com.intershop.beehive.foundation.util.*,com.intershop.beehive.core.internal.url.*,com.intershop.beehive.core.internal.resource.*,com.intershop.beehive.core.internal.wsrp.*,com.intershop.beehive.core.capi.pipeline.PipelineDictionary,com.intershop.beehive.core.capi.naming.NamingMgr,com.intershop.beehive.core.capi.pagecache.PageCacheMgr,com.intershop.beehive.core.capi.request.SessionMgr,com.intershop.beehive.core.internal.request.SessionMgrImpl,com.intershop.beehive.core.pipelet.PipelineConstants" extends="com.intershop.beehive.core.internal.template.AbstractTemplate" %><% 
boolean _boolean_result=false;
TemplateExecutionConfig context = getTemplateExecutionConfig();
createTemplatePageConfig(context.getServletRequest());
printHeader(out);
 %><% %><%@ page contentType="text/html;charset=utf-8" %><%response.setHeader(TemplateConstants.PERSONALIZED_HEADER, "1");setEncodingType("text/html"); %><% processOpenTag(response, pageContext, "currentcustomerbo", new TagParameter[] {
new TagParameter("currentcustomerbo","CustomerBO")}, 3); %><% processOpenTag(response, pageContext, "getproductpricecontext", new TagParameter[] {
new TagParameter("ContextProductBO",getObject("ProductBO")),
new TagParameter("CustomerBO",getObject("CustomerBO")),
new TagParameter("ProductPriceContext","ProductPriceContext")}, 4); %><% {Object temp_obj = (getObject("ProductBO:Extension(\"Warranty\"):WarrantyBOs")); getPipelineDictionary().put("Warranties", temp_obj);} %><% {Object temp_obj = (getObject("ProductBO:Extension(\"Warranty\"):isAnyWarrantyOnline")); getPipelineDictionary().put("WarrantyIsOnline", temp_obj);} %><% _boolean_result=false;try {_boolean_result=((Boolean)((hasLoopElements("Warranties") ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",8,e);}if (_boolean_result) { %><% _boolean_result=false;try {_boolean_result=((Boolean)((((((Boolean) ((disableErrorMessages().isDefined(getObject("WarrantyIsOnline"))))).booleanValue() && ((Boolean) ((((context.getFormattedValue(getObject("WarrantyIsOnline"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",9,e);}if (_boolean_result) { %><div class="product-warranty" data-testing-id="product-details-warranty"><% _boolean_result=false;try {_boolean_result=((Boolean)(((((context.getFormattedValue(getObject("DisplayType"),null).equals(context.getFormattedValue("dropdown",null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",11,e);}if (_boolean_result) { %><select name="<% {String value = null;try{value=context.getFormattedValue(context.getFormattedValue("DependentSKU_",null) + context.getFormattedValue(getObject("ProductBO:SKU"),null),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {12}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" data-testing-id="product-details-warranty-select"><% while (loop("Warranties","Warranty",null)) { %><option value="<% {String value = null;try{value=context.getFormattedValue(context.getFormattedValue("Warranty_",null) + context.getFormattedValue(getObject("Warranty:ProductRef:ProductSKU"),null),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {14}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"><% {String value = null;try{value=context.getFormattedValue(getObject("Warranty:DisplayName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {15}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %> - <% {String value = null;try{value=context.getFormattedValue(getObject("Warranty:Extension(\"Pricing\"):Price(\"WarrantyPrice\",Currency,ProductPriceContext):Price"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {15}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% processOpenTag(response, pageContext, "productpriceadditionaltext", new TagParameter[] {
new TagParameter("ProductBO",getObject("ProductBO"))}, 16); %></option><% } %><option value="NoWarranty" selected="selected"><% {out.write(localizeISText("product.warranty.nowarranty","",null,null,null,null,null,null,null,null,null,null,null));} %></option>
</select><% } else { %><div class="product-warranty-title"><% {out.write(localizeISText("product.warranty.text","",null,null,null,null,null,null,null,null,null,null,null));} %></div>
<dl class="product-warranty-list" data-testing-id="product-details-warranty-list"><% while (loop("Warranties","Warranty",null)) { %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("Warranty:Online")).booleanValue() && !((Boolean) (getObject("Warranty:EndOfLife"))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",25,e);}if (_boolean_result) { %><dd>
<label>
<input type="radio" 
name="<% {String value = null;try{value=context.getFormattedValue(context.getFormattedValue("DependentSKU_",null) + context.getFormattedValue(getObject("ProductBO:SKU"),null),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {29}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" 
value="<% {String value = null;try{value=context.getFormattedValue(context.getFormattedValue("Warranty_",null) + context.getFormattedValue(getObject("Warranty:ProductRef:ProductSKU"),null),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {30}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
<a href="<%=context.getFormattedValue(url(true,(new URLPipelineAction(context.getFormattedValue("ViewWarrantyDetails-Start",null))),(new URLParameterSet().addURLParameter(context.getFormattedValue("SKU",null),context.getFormattedValue(getObject("Warranty:ProductRef:ProductSKU"),null)))),null)%>" data-dialog rel="nofollow"><% {String value = null;try{value=context.getFormattedValue(getObject("Warranty:DisplayName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {32}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></a>
<span class="product-warranty-cost">
- <% {String value = null;try{value=context.getFormattedValue(getObject("Warranty:Extension(\"Pricing\"):Price(\"WarrantyPrice\",Currency,ProductPriceContext):Price"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {35}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></span><% processOpenTag(response, pageContext, "productpriceadditionaltext", new TagParameter[] {
new TagParameter("ProductBO",getObject("ProductBO"))}, 37); %></label> 
</dd><% } %><% } %><dd>
<input type="radio" id="<% {String value = null;try{value=context.getFormattedValue(context.getFormattedValue("DependentSKU_",null) + context.getFormattedValue(getObject("ProductBO:SKU"),null),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {43}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" name="<% {String value = null;try{value=context.getFormattedValue(context.getFormattedValue("DependentSKU_",null) + context.getFormattedValue(getObject("ProductBO:SKU"),null),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {43}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" value="" checked="checked" />
<label for="<% {String value = null;try{value=context.getFormattedValue(context.getFormattedValue("DependentSKU_",null) + context.getFormattedValue(getObject("ProductBO:SKU"),null),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {44}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"><% {out.write(localizeISText("product.warranty.nowarranty","",null,null,null,null,null,null,null,null,null,null,null));} %></label>
</dd>
</dl><% } %></div><% } %><% } %><% printFooter(out); %>