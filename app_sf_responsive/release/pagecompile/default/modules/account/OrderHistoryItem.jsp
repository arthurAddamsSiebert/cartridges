<%@  page buffer="none" import="java.util.*,java.io.*,com.intershop.beehive.core.internal.template.*,com.intershop.beehive.core.internal.template.isml.*,com.intershop.beehive.core.capi.log.*,com.intershop.beehive.core.capi.resource.*,com.intershop.beehive.core.capi.util.UUIDMgr,com.intershop.beehive.core.capi.util.XMLHelper,com.intershop.beehive.foundation.util.*,com.intershop.beehive.core.internal.url.*,com.intershop.beehive.core.internal.resource.*,com.intershop.beehive.core.internal.wsrp.*,com.intershop.beehive.core.capi.pipeline.PipelineDictionary,com.intershop.beehive.core.capi.naming.NamingMgr,com.intershop.beehive.core.capi.pagecache.PageCacheMgr,com.intershop.beehive.core.capi.request.SessionMgr,com.intershop.beehive.core.internal.request.SessionMgrImpl,com.intershop.beehive.core.pipelet.PipelineConstants" extends="com.intershop.beehive.core.internal.template.AbstractTemplate" %><% 
boolean _boolean_result=false;
TemplateExecutionConfig context = getTemplateExecutionConfig();
createTemplatePageConfig(context.getServletRequest());
printHeader(out);
 %><% %><%@ page contentType="text/html;charset=utf-8" %><%setEncodingType("text/html"); %><% {Object temp_obj = (getObject("OrderBO:Extension(\"RecurringOrder\")")); getPipelineDictionary().put("RecurringOrder", temp_obj);} %><% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("OrderBO:Status"),null).equals(context.getFormattedValue("PAYMENTCANCELLED",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",5,e);}if (_boolean_result) { %><div class="list-item-row-big list-item-row">
<div class="col-xs-7 col-sm-2 list-item"><% {String value = null;try{value=context.getFormattedValue(getObject("OrderBO:CreationDate"),new Integer(DATE_SHORT),null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {9}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><label class="hidden-lg hidden-md hidden-sm control-label">&nbsp;</label><% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("RecurringOrder:Recurring"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",11,e);}if (_boolean_result) { %>
&nbsp;<span class="glyphicon glyphicon-refresh" title="<% {out.write(localizeISText("account.subscription.order.tooltip","",null,null,null,null,null,null,null,null,null,null,null));} %>"></span><% } %></div>
<div class="col-xs-3 col-sm-2 col-sm-push-7 list-item column-price"><% {String value = null;try{value=context.getFormattedValue(getObject("OrderBO:BasketTotalPriceMinusLimitedTenderGross"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {18}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></div>
<div class="col-xs-2 col-sm-1 col-sm-push-7 list-item text-right">
<a href="<%=context.getFormattedValue(url(true,context.getFormattedValue(getObject("SecureURL"),null), context.getFormattedValue("",null), (new URLPipelineAction(context.getFormattedValue("ViewOrders-Detail",null))), (new URLParameterSet().addURLParameter(context.getFormattedValue("OrderID",null),context.getFormattedValue(getObject("OrderBO:ID"),null)))),null)%>"><% {out.write(localizeISText("account.order.view_this_order.link","",null,null,null,null,null,null,null,null,null,null,null));} %></a><% {out.flush();processExtensionPoint((com.intershop.beehive.core.capi.request.ServletResponse)response,"OrderHistoryItemLinksExtensions", null, "25");} %></div><% {out.flush();processExtensionPoint((com.intershop.beehive.core.capi.request.ServletResponse)response,"OrderHistoryItemOrderDetails", null, "28");} %><% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("showOrderNumber"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",31,e);}if (_boolean_result) { %><div class="clearfix visible-xs-block"></div>
<div class="col-sm-<% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("orderNumberColumnWith"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",33,e);}if (_boolean_result) { %><% {String value = null;try{value=context.getFormattedValue(getObject("orderNumberColumnWith"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {33}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } else { %>2<% } %> col-sm-pull-3 list-item">
<label class="hidden-lg hidden-md hidden-sm control-label"><% {out.write(localizeISText("account.orderlist.orderDetails.orderNo.label","",null,null,null,null,null,null,null,null,null,null,null));} %></label>
<a href="<%=context.getFormattedValue(url(true,context.getFormattedValue(getObject("SecureURL"),null), context.getFormattedValue("",null), (new URLPipelineAction(context.getFormattedValue("ViewOrders-Detail",null))), (new URLParameterSet().addURLParameter(context.getFormattedValue("OrderID",null),context.getFormattedValue(getObject("OrderBO:ID"),null)))),null)%>"><% {String value = null;try{value=context.getFormattedValue(getObject("OrderBO:DocumentNo"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {35}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></a>
</div><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("showNumberOfItems"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",39,e);}if (_boolean_result) { %><div class="clearfix visible-xs-block"></div>
<div class="col-sm-<% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("numberOfItemsColumnWith"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",41,e);}if (_boolean_result) { %><% {String value = null;try{value=context.getFormattedValue(getObject("numberOfItemsColumnWith"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {41}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } else { %>1<% } %> col-sm-pull-3 list-item">
<label class="hidden-lg hidden-md hidden-sm control-label"><% {out.write(localizeISText("account.orderlist.orderDetails.items.label","",null,null,null,null,null,null,null,null,null,null,null));} %></label><% {String value = null;try{value=context.getFormattedValue(getObject("OrderBO:TotalProductQuantity"),new Integer(QUANTITY_SHORT),null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {43}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></div> 
<% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((((context.getFormattedValue(getObject("showPurchaser"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) (((!(context.getFormattedValue(getObject("showOrderDetails"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",48,e);}if (_boolean_result) { %><div class="clearfix visible-xs-block"></div>
<div class="col-sm-2 col-sm-pull-3 list-item">
<label class="hidden-lg hidden-md hidden-sm control-label"><% {out.write(localizeISText("account.orderlist.orderDetails.purchaser.label","",null,null,null,null,null,null,null,null,null,null,null));} %></label><% {String value = null;try{value=context.getFormattedValue(getObject("OrderBO:User:Profile:DataSheet:FirstName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {52}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %> <% {String value = null;try{value=context.getFormattedValue(getObject("OrderBO:User:Profile:DataSheet:LastName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {52}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></div><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("showOrderStatus"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",57,e);}if (_boolean_result) { %><div class="col-sm-2 col-sm-pull-3 list-item">
<label class="hidden-lg hidden-md hidden-sm control-label"><% {out.write(localizeISText("account.orderlist.orderDetails.status.label","",null,null,null,null,null,null,null,null,null,null,null));} %></label>
<span class="label label-default"><% {String value = null;try{value=context.getFormattedValue(getObject("OrderBO:StatusDisplayName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {60}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></span>
</div><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("showDestination"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",65,e);}if (_boolean_result) { %><div class="clearfix visible-xs-block"></div>
<div class="col-sm-2 col-sm-pull-3 list-item"><% {Object temp_obj = (getObject("OrderBO:Extension(\"ShippingBucket\")")); getPipelineDictionary().put("OrderShippingBucketExtension", temp_obj);} %><% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("OrderShippingBucketExtension:MultipleShipToAddresses"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",69,e);}if (_boolean_result) { %><p><% {out.write(localizeISText("account.orderlist.table.multiple_shipping_message","",null,null,null,null,null,null,null,null,null,null,null));} %></p><% while (loop("OrderShippingBucketExtension:ShippingBucketBOs","Bucket",null)) { %><% processOpenTag(response, pageContext, "address", new TagParameter[] {
new TagParameter("address",getObject("Bucket:ShipToAddressBO")),
new TagParameter("compact","true")}, 73); %><% } %><% } else {_boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("OrderShippingBucketExtension:SoleShipToAddressBO"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",75,e);}if (_boolean_result) { %><% processOpenTag(response, pageContext, "address", new TagParameter[] {
new TagParameter("address",getObject("OrderShippingBucketExtension:SoleShipToAddressBO")),
new TagParameter("compact","true")}, 76); %><% } else { %><% {out.write(localizeISText("account.orderlist.table.unavailable_address_message","",null,null,null,null,null,null,null,null,null,null,null));} %><% }} %></div><% } %></div><% } %><% printFooter(out); %>