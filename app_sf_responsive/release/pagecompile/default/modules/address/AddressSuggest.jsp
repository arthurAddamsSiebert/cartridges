<%@  page buffer="none" import="java.util.*,java.io.*,com.intershop.beehive.core.internal.template.*,com.intershop.beehive.core.internal.template.isml.*,com.intershop.beehive.core.capi.log.*,com.intershop.beehive.core.capi.resource.*,com.intershop.beehive.core.capi.util.UUIDMgr,com.intershop.beehive.core.capi.util.XMLHelper,com.intershop.beehive.foundation.util.*,com.intershop.beehive.core.internal.url.*,com.intershop.beehive.core.internal.resource.*,com.intershop.beehive.core.internal.wsrp.*,com.intershop.beehive.core.capi.pipeline.PipelineDictionary,com.intershop.beehive.core.capi.naming.NamingMgr,com.intershop.beehive.core.capi.pagecache.PageCacheMgr,com.intershop.beehive.core.capi.request.SessionMgr,com.intershop.beehive.core.internal.request.SessionMgrImpl,com.intershop.beehive.core.pipelet.PipelineConstants" extends="com.intershop.beehive.core.internal.template.AbstractTemplate" %><% 
boolean _boolean_result=false;
TemplateExecutionConfig context = getTemplateExecutionConfig();
createTemplatePageConfig(context.getServletRequest());
printHeader(out);
 %><% %><%@ page contentType="text/html;charset=utf-8" %><%setEncodingType("text/html"); %><% {out.flush();processLocalIncludeByServer((com.intershop.beehive.core.capi.request.ServletResponse)response,"modules/Modules", null, "2");} %><div class="alert alert-danger"><% _boolean_result=false;try {_boolean_result=((Boolean)((hasLoopElements("suggestedaddresses") ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",5,e);}if (_boolean_result) { %><% {out.write(localizeISText("checkout.validate_address.text","",null,null,null,null,null,null,null,null,null,null,null));} %><% } else { %><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("validateaddressnoresultmessagekey"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",8,e);}if (_boolean_result) { %><% {out.write(localizeISText(context.getFormattedValue(getObject("validateaddressnoresultmessagekey"),null),"",null,null,null,null,null,null,null,null,null,null,null));} %><% } else { %><% {out.write(localizeISText("checkout.validate_address.no_result","",null,null,null,null,null,null,null,null,null,null,null));} %><% } %><% } %></div>
<div class="row"><% _boolean_result=false;try {_boolean_result=((Boolean)((hasLoopElements("suggestedaddresses") ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",16,e);}if (_boolean_result) { %><div class="form-group">
<label class="col-xs-12 col-sm-3"><% {out.write(localizeISText("checkout.validate_address.found","",null,null,null,null,null,null,null,null,null,null,null));} %></label>
<div class="radio clearfix">
<div class="col-xs-12 col-sm-9"><% while (loop("suggestedaddresses","Address",null)) { %><div><label><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((!(context.getFormattedValue(getObject("sourceaddress:AddressLine1"),null).equals(context.getFormattedValue(getObject("Address:AddressLine1"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) ((( ((Number) (new Double(context.getFormattedValue(getObject("Address:AddressLine1"),null).length()))).doubleValue() >((Number)(new Double(0))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",23,e);}if (_boolean_result) { %><% {Object temp_obj = ("true"); getPipelineDictionary().put("address1Change", temp_obj);} %><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((!(context.getFormattedValue(getObject("sourceaddress:AddressLine2"),null).equals(context.getFormattedValue(getObject("Address:AddressLine2"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) ((( ((Number) (new Double(context.getFormattedValue(getObject("Address:AddressLine2"),null).length()))).doubleValue() >((Number)(new Double(0))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",24,e);}if (_boolean_result) { %><% {Object temp_obj = ("true"); getPipelineDictionary().put("address2Change", temp_obj);} %><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((!(context.getFormattedValue(getObject("sourceaddress:AddressLine3"),null).equals(context.getFormattedValue(getObject("Address:AddressLine3"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) ((( ((Number) (new Double(context.getFormattedValue(getObject("Address:AddressLine3"),null).length()))).doubleValue() >((Number)(new Double(0))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",25,e);}if (_boolean_result) { %><% {Object temp_obj = ("true"); getPipelineDictionary().put("address3Change", temp_obj);} %><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((!(context.getFormattedValue(getObject("sourceaddress:MainDivision"),null).equals(context.getFormattedValue(getObject("Address:MainDivision"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) ((( ((Number) (new Double(context.getFormattedValue(getObject("Address:MainDivision"),null).length()))).doubleValue() >((Number)(new Double(0))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",26,e);}if (_boolean_result) { %><% {Object temp_obj = ("true"); getPipelineDictionary().put("stateChange", temp_obj);} %><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((!(context.getFormattedValue(getObject("sourceaddress:PostalCode"),null).equals(context.getFormattedValue(getObject("Address:PostalCode"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) ((( ((Number) (new Double(context.getFormattedValue(getObject("Address:PostalCode"),null).length()))).doubleValue() >((Number)(new Double(0))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",27,e);}if (_boolean_result) { %><% {Object temp_obj = ("true"); getPipelineDictionary().put("postalCodeChange", temp_obj);} %><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((!(context.getFormattedValue(getObject("sourceaddress:PostBox"),null).equals(context.getFormattedValue(getObject("Address:PostBox"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) ((( ((Number) (new Double(context.getFormattedValue(getObject("Address:PostBox"),null).length()))).doubleValue() >((Number)(new Double(0))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",28,e);}if (_boolean_result) { %><% {Object temp_obj = ("true"); getPipelineDictionary().put("postBoxChange", temp_obj);} %><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((!(context.getFormattedValue(getObject("sourceaddress:City"),null).equals(context.getFormattedValue(getObject("Address:City"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) ((( ((Number) (new Double(context.getFormattedValue(getObject("Address:City"),null).length()))).doubleValue() >((Number)(new Double(0))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",29,e);}if (_boolean_result) { %><% {Object temp_obj = ("true"); getPipelineDictionary().put("cityChange", temp_obj);} %><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((!(context.getFormattedValue(getObject("sourceaddress:SubDivision"),null).equals(context.getFormattedValue(getObject("Address:SubDivision"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) ((( ((Number) (new Double(context.getFormattedValue(getObject("Address:SubDivision"),null).length()))).doubleValue() >((Number)(new Double(0))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",30,e);}if (_boolean_result) { %><% {Object temp_obj = ("true"); getPipelineDictionary().put("countyChange", temp_obj);} %><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((!(context.getFormattedValue(getObject("sourceaddress:CountryCode"),null).equals(context.getFormattedValue(getObject("Address:CountryCode"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) ((( ((Number) (new Double(context.getFormattedValue(getObject("Address:CountryCode"),null).length()))).doubleValue() >((Number)(new Double(0))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",31,e);}if (_boolean_result) { %><% {Object temp_obj = ("true"); getPipelineDictionary().put("countryCodeChange", temp_obj);} %><% } %><input data-validate="requiredRadioGrp" data-validate-error-message="You must make a selection" data-validate-post-failure-events="click" type="radio" name="<% {String value = null;try{value=context.getFormattedValue(getObject("formprefix"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {33}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>Selection" value="<% {String value = null;try{value=context.getFormattedValue(getObject("Address:ID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {33}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/><% processOpenTag(response, pageContext, "addresssuggestitemproperty", new TagParameter[] {
new TagParameter("highlighted",((!(context.getFormattedValue(getObject("sourceaddress:AddressLine1"),null).equals(context.getFormattedValue(getObject("Address:AddressLine1"),null)))) ? Boolean.TRUE : Boolean.FALSE)),
new TagParameter("text",context.getFormattedValue(getObject("Address:AddressLine1"),null))}, 35); %><% processOpenTag(response, pageContext, "addresssuggestitemproperty", new TagParameter[] {
new TagParameter("highlighted",((!(context.getFormattedValue(getObject("sourceaddress:AddressLine2"),null).equals(context.getFormattedValue(getObject("Address:AddressLine2"),null)))) ? Boolean.TRUE : Boolean.FALSE)),
new TagParameter("text",context.getFormattedValue(getObject("Address:AddressLine2"),null))}, 36); %><% processOpenTag(response, pageContext, "addresssuggestitemproperty", new TagParameter[] {
new TagParameter("highlighted",((!(context.getFormattedValue(getObject("sourceaddress:AddressLine3"),null).equals(context.getFormattedValue(getObject("Address:AddressLine3"),null)))) ? Boolean.TRUE : Boolean.FALSE)),
new TagParameter("text",context.getFormattedValue(getObject("Address:AddressLine3"),null))}, 37); %><% processOpenTag(response, pageContext, "addresssuggestitemproperty", new TagParameter[] {
new TagParameter("highlighted",((!(context.getFormattedValue(getObject("sourceaddress:MainDivision"),null).equals(context.getFormattedValue(getObject("Address:MainDivision"),null)))) ? Boolean.TRUE : Boolean.FALSE)),
new TagParameter("text",context.getFormattedValue(getObject("Address:MainDivision"),null))}, 38); %><% processOpenTag(response, pageContext, "addresssuggestitemproperty", new TagParameter[] {
new TagParameter("highlighted",((!(context.getFormattedValue(getObject("sourceaddress:PostalCode"),null).equals(context.getFormattedValue(getObject("Address:PostalCode"),null)))) ? Boolean.TRUE : Boolean.FALSE)),
new TagParameter("text",context.getFormattedValue(getObject("Address:PostalCode"),null))}, 39); %><% processOpenTag(response, pageContext, "addresssuggestitemproperty", new TagParameter[] {
new TagParameter("highlighted",((!(context.getFormattedValue(getObject("sourceaddress:PostBox"),null).equals(context.getFormattedValue(getObject("Address:PostBox"),null)))) ? Boolean.TRUE : Boolean.FALSE)),
new TagParameter("text",context.getFormattedValue(getObject("Address:PostBox"),null))}, 40); %><% processOpenTag(response, pageContext, "addresssuggestitemproperty", new TagParameter[] {
new TagParameter("highlighted",((!(context.getFormattedValue(getObject("sourceaddress:City"),null).equals(context.getFormattedValue(getObject("Address:City"),null)))) ? Boolean.TRUE : Boolean.FALSE)),
new TagParameter("text",context.getFormattedValue(getObject("Address:City"),null))}, 41); %><% processOpenTag(response, pageContext, "addresssuggestitemproperty", new TagParameter[] {
new TagParameter("highlighted",((!(context.getFormattedValue(getObject("sourceaddress:SubDivision"),null).equals(context.getFormattedValue(getObject("Address:SubDivision"),null)))) ? Boolean.TRUE : Boolean.FALSE)),
new TagParameter("text",context.getFormattedValue(getObject("Address:SubDivision"),null))}, 42); %><% processOpenTag(response, pageContext, "addresssuggestitemproperty", new TagParameter[] {
new TagParameter("highlighted",((!(context.getFormattedValue(getObject("sourceaddress:CountryCode"),null).equals(context.getFormattedValue(getObject("Address:CountryCode"),null)))) ? Boolean.TRUE : Boolean.FALSE)),
new TagParameter("text",context.getFormattedValue(getObject("Address:Country"),null))}, 43); %></label></div><% } %></div>
</div>
</div><% } %></div>
<div class="row suggest-address-entered">
<div class="form-group">
<label class="col-xs-12 col-sm-3"><% {out.write(localizeISText("checkout.validate_address.entered","",null,null,null,null,null,null,null,null,null,null,null));} %></label>
<div class="radio clearfix">
<div class="col-xs-12 col-sm-9">
<div><label><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("targetaddress:ID"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",58,e);}if (_boolean_result) { %><input type="hidden" name="<% {String value = null;try{value=context.getFormattedValue(getObject("formprefix"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {59}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>TargetAddressID" value="<% {String value = null;try{value=context.getFormattedValue(getObject("targetaddress:ID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {59}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/><% } else { %> 
<input type="hidden" name="<% {String value = null;try{value=context.getFormattedValue(getObject("formprefix"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {61}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>TargetAddressID" value="<% {String value = null;try{value=context.getFormattedValue(getObject("targetaddress:UUID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {61}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("sourceaddress:ID"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",63,e);}if (_boolean_result) { %><input type="hidden" name="<% {String value = null;try{value=context.getFormattedValue(getObject("formprefix"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {64}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>SourceAddressID" value="<% {String value = null;try{value=context.getFormattedValue(getObject("sourceaddress:ID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {64}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
<input type="radio" checked="checked" name="<% {String value = null;try{value=context.getFormattedValue(getObject("formprefix"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {65}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>Selection" value="<% {String value = null;try{value=context.getFormattedValue(getObject("sourceaddress:ID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {65}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/><% } else { %> 
<input type="hidden" name="<% {String value = null;try{value=context.getFormattedValue(getObject("formprefix"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {67}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>SourceAddressID" value="<% {String value = null;try{value=context.getFormattedValue(getObject("sourceaddress:UUID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {67}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
<input type="radio" checked="checked" name="<% {String value = null;try{value=context.getFormattedValue(getObject("formprefix"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {68}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>Selection" value="<% {String value = null;try{value=context.getFormattedValue(getObject("sourceaddress:UUID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {68}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/><% } %><% processOpenTag(response, pageContext, "addresssuggestitemproperty", new TagParameter[] {
new TagParameter("highlighted",(disableErrorMessages().isDefined(getObject("address1Change")))),
new TagParameter("text",context.getFormattedValue(getObject("sourceaddress:AddressLine1"),null))}, 71); %><% processOpenTag(response, pageContext, "addresssuggestitemproperty", new TagParameter[] {
new TagParameter("highlighted",(disableErrorMessages().isDefined(getObject("address2Change")))),
new TagParameter("text",context.getFormattedValue(getObject("sourceaddress:AddressLine2"),null))}, 72); %><% processOpenTag(response, pageContext, "addresssuggestitemproperty", new TagParameter[] {
new TagParameter("highlighted",(disableErrorMessages().isDefined(getObject("address3Change")))),
new TagParameter("text",context.getFormattedValue(getObject("sourceaddress:AddressLine3"),null))}, 73); %><% processOpenTag(response, pageContext, "addresssuggestitemproperty", new TagParameter[] {
new TagParameter("highlighted",(disableErrorMessages().isDefined(getObject("stateChange")))),
new TagParameter("text",context.getFormattedValue(getObject("sourceaddress:MainDivision"),null))}, 74); %><% processOpenTag(response, pageContext, "addresssuggestitemproperty", new TagParameter[] {
new TagParameter("highlighted",(disableErrorMessages().isDefined(getObject("postalCodeChange")))),
new TagParameter("text",context.getFormattedValue(getObject("sourceaddress:PostalCode"),null))}, 75); %><% processOpenTag(response, pageContext, "addresssuggestitemproperty", new TagParameter[] {
new TagParameter("highlighted",(disableErrorMessages().isDefined(getObject("postBoxChange")))),
new TagParameter("text",context.getFormattedValue(getObject("sourceaddress:PostBox"),null))}, 76); %><% processOpenTag(response, pageContext, "addresssuggestitemproperty", new TagParameter[] {
new TagParameter("highlighted",(disableErrorMessages().isDefined(getObject("cityChange")))),
new TagParameter("text",context.getFormattedValue(getObject("sourceaddress:City"),null))}, 77); %><% processOpenTag(response, pageContext, "addresssuggestitemproperty", new TagParameter[] {
new TagParameter("highlighted",(disableErrorMessages().isDefined(getObject("countyChange")))),
new TagParameter("text",context.getFormattedValue(getObject("sourceaddress:SubDivision"),null))}, 78); %><% processOpenTag(response, pageContext, "addresssuggestitemproperty", new TagParameter[] {
new TagParameter("highlighted",(disableErrorMessages().isDefined(getObject("countryCodeChange")))),
new TagParameter("text",context.getFormattedValue(getObject("sourceaddress:Country"),null))}, 79); %></label></div>
</div>
<div class="help-block col-xs-12 col-sm-9 col-sm-offset-3"><% {out.write(localizeISText("checkout.validate_address.star","",null,null,null,null,null,null,null,null,null,null,null));} %></div>
</div> 
</div>
</div><% {out.flush();processExtensionPoint((com.intershop.beehive.core.capi.request.ServletResponse)response,"AddressSuggestExtensions", null, "88");} %><% printFooter(out); %>