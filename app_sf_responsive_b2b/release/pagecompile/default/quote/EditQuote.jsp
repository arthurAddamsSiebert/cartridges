<%@  page buffer="none" import="java.util.*,java.io.*,com.intershop.beehive.core.internal.template.*,com.intershop.beehive.core.internal.template.isml.*,com.intershop.beehive.core.capi.log.*,com.intershop.beehive.core.capi.resource.*,com.intershop.beehive.core.capi.util.UUIDMgr,com.intershop.beehive.core.capi.util.XMLHelper,com.intershop.beehive.foundation.util.*,com.intershop.beehive.core.internal.url.*,com.intershop.beehive.core.internal.resource.*,com.intershop.beehive.core.internal.wsrp.*,com.intershop.beehive.core.capi.pipeline.PipelineDictionary,com.intershop.beehive.core.capi.naming.NamingMgr,com.intershop.beehive.core.capi.pagecache.PageCacheMgr,com.intershop.beehive.core.capi.request.SessionMgr,com.intershop.beehive.core.internal.request.SessionMgrImpl,com.intershop.beehive.core.pipelet.PipelineConstants" extends="com.intershop.beehive.core.internal.template.AbstractTemplate" %><% 
boolean _boolean_result=false;
TemplateExecutionConfig context = getTemplateExecutionConfig();
createTemplatePageConfig(context.getServletRequest());
printHeader(out);
 %><% %><%@ page contentType="text/html;charset=utf-8" %><%setEncodingType("text/html"); %><% context.setCustomTagTemplateName("quotestate","quote/QuoteState",false,new String[]{"quote","displaymode","currentdate"},null); %><% {Object temp_obj = (((((Boolean) ((( ((Number) getObject("Quote:State")).doubleValue() ==((Number)(new Double(0))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (((((Boolean) ((( ((Number) getObject("Quote:State")).doubleValue() ==((Number)(new Double(4))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) ((( ((Number) getObject("Quote:State")).doubleValue() ==((Number)(new Double(6))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) (((((Boolean) ((((context.getFormattedValue(getObject("Quote:Modified"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) ((((context.getFormattedValue(getObject("EditMode"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE)); getPipelineDictionary().put("EditMode", temp_obj);} %><% {Object temp_obj = ("false"); getPipelineDictionary().put("EditDisplayName", temp_obj);} %><% {Object temp_obj = ("false"); getPipelineDictionary().put("EditDescription", temp_obj);} %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((( ((Number) getObject("Quote:State")).doubleValue() ==((Number)(new Double(0))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) ((( ((Number) getObject("Quote:State")).doubleValue() ==((Number)(new Double(4))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) ((((context.getFormattedValue(getObject("EditMode"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",12,e);}if (_boolean_result) { %><% {Object temp_obj = ("true"); getPipelineDictionary().put("EditDescription", temp_obj);} %><% {Object temp_obj = ("true"); getPipelineDictionary().put("EditDisplayName", temp_obj);} %><% } %><% {Object temp_obj = ((((Boolean) (disableErrorMessages().isDefined(getObject("ERRORCODE_QUOTEVALIDATION")))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) ); getPipelineDictionary().put("ValidQuote", temp_obj);} %><% {Object temp_obj = ("false"); getPipelineDictionary().put("isContract", temp_obj);} %><% URLPipelineAction action23 = new URLPipelineAction(context.getFormattedValue(url(true,context.getFormattedValue(getObject("SecureURL"),null), context.getFormattedValue("",null), (new URLPipelineAction(context.getFormattedValue("ViewQuote-Dispatch",null)))),null));String site23 = null;String serverGroup23 = null;String actionValue23 = context.getFormattedValue(url(true,context.getFormattedValue(getObject("SecureURL"),null), context.getFormattedValue("",null), (new URLPipelineAction(context.getFormattedValue("ViewQuote-Dispatch",null)))),null);if (site23 == null){  site23 = action23.getDomain();  if (site23 == null)  {      site23 = com.intershop.beehive.core.capi.request.Request.getCurrent().getRequestSite().getDomainName();  }}if (serverGroup23 == null){  serverGroup23 = action23.getServerGroup();  if (serverGroup23 == null)  {      serverGroup23 = com.intershop.beehive.core.capi.request.Request.getCurrent().getRequestSite().getServerGroup();  }}out.print("<form");out.print(" method=\"");out.print("post");out.print("\"");out.print(" action=\"");out.print(context.getFormattedValue(url(true,context.getFormattedValue(getObject("SecureURL"),null), context.getFormattedValue("",null), (new URLPipelineAction(context.getFormattedValue("ViewQuote-Dispatch",null)))),null));out.print("\"");out.print(" data-bv-message=\"");out.print("This value is not valid");out.print("\"");out.print(" class=\"");out.print("form-horizontal form-horizontal-inline bv-form");out.print("\"");out.print(" data-bv-feedbackicons-valid=\"");out.print("glyphicon glyphicon-ok");out.print("\"");out.print(" name=\"");out.print(context.getFormattedValue(context.getFormattedValue(getObject("QuoteEditForm:Alias"),null),null));out.print("\"");out.print(" data-bv-feedbackicons-invalid=\"");out.print("glyphicon glyphicon-remove");out.print("\"");out.print(" data-bv-feedbackicons-validating=\"");out.print("glyphicon glyphicon-refresh");out.print("\"");out.print(">");out.print(context.prepareWACSRFTag(actionValue23, site23, serverGroup23,true)); %><input type="hidden" name="LocaleId" value="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentRequest:Locale:LocaleID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {30}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
<input type="hidden" name="QuoteUUID" value="<% {String value = null;try{value=context.getFormattedValue(getObject("Quote:UUID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {31}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
<input type="hidden" name="QuoteExport" value="<% {String value = null;try{value=context.getFormattedValue(getObject("QuoteExport"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {32}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
<input type="hidden" name="StateGroup" value="<% {String value = null;try{value=context.getFormattedValue(getObject("StateGroup"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {33}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
<input type="hidden" name="PageNumber" value="<% {String value = null;try{value=context.getFormattedValue(getObject("PageNumber"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {34}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
<input type="hidden" name="EditMode" value="<% {String value = null;try{value=context.getFormattedValue(getObject("EditMode"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {35}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
<input type="hidden" name="LinkSource" value="<% {String value = null;try{value=context.getFormattedValue(getObject("LinkSource"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {36}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
<input type="hidden" name="DateFormatString" value="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentSession:Locale:DefaultRegionalSettings:inputDatePattern"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {37}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
<input type="hidden" name="TimeFormatString" value="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentSession:Locale:DefaultRegionalSettings:inputTimePattern"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {38}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("ERROR_submit_quote_failed"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",41,e);}if (_boolean_result) { %><% {out.write(localizeISText("quote.edit.already_submitted.text","",null,null,null,null,null,null,null,null,null,null,null));} %><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("ERROR_accept_quote_failed"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",44,e);}if (_boolean_result) { %><% {out.write(localizeISText("quote.edit.already_accepted.text","",null,null,null,null,null,null,null,null,null,null,null));} %><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("ERROR_refuse_quote_failed"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",47,e);}if (_boolean_result) { %><% {out.write(localizeISText("quote.edit.already_refused.text","",null,null,null,null,null,null,null,null,null,null,null));} %><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("ProductListEvent:TypeCode"),null).equals(context.getFormattedValue("SubmittedToSeller",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",52,e);}if (_boolean_result) { %><h1><% {out.write(localizeISText("quote.edit.submitted.heading","",null,null,null,null,null,null,null,null,null,null,null));} %></h1>
<p><% {out.write(localizeISText("quote.edit.submitted.your_quote_number.text","",null,null,null,null,null,null,null,null,null,null,null));} %> 
<a href="<%=context.getFormattedValue(url(true,context.getFormattedValue(getObject("SecureURL"),null), context.getFormattedValue("",null), (new URLPipelineAction(context.getFormattedValue("ViewQuote-Edit",null))), (new URLParameterSet().addURLParameter(context.getFormattedValue("QuoteUUID",null),context.getFormattedValue(getObject("Quote:UUID"),null)))),null)%>"><% {String value = null;try{value=context.getFormattedValue(getObject("Quote:DocumentNo"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {57}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></a>
</p>
<p><% {out.write(localizeISText("quote.edit.submitted.your_quote.text","",null,null,null,null,null,null,null,null,null,null,null));} %></br /><% {out.write(localizeISText("quote.edit.submitted.you_can_check.text",null,null,encodeString(context.getFormattedValue(url(true,context.getFormattedValue(getObject("SecureURL"),null), context.getFormattedValue("",null), (new URLPipelineAction(context.getFormattedValue("ViewQuoteList-List",null)))),null)),encodeString(context.getFormattedValue(url(true,context.getFormattedValue(getObject("SecureURL"),null), context.getFormattedValue("",null), (new URLPipelineAction(context.getFormattedValue("ViewUserAccount-Start",null)))),null)),null,null,null,null,null,null,null,null));} %></p>
<p><% {out.write(localizeISText("quote.edit.submitted.we_will_email.text","",null,getObject("CurrentUser:Profile:Credentials:Login"),null,null,null,null,null,null,null,null,null));} %></p> 
<% } else { %><!-- Title and Description --><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((disableErrorMessages().isDefined(getObject("Quote:DisplayName"))))).booleanValue() && ((Boolean) (((!(context.getFormattedValue(getObject("Quote:DisplayName"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",69,e);}if (_boolean_result) { %><h1><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((( ((Number) getObject("Quote:State")).doubleValue() ==((Number)(new Double(4))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) ((( ((Number) getObject("Quote:State")).doubleValue() ==((Number)(new Double(6))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) ((((context.getFormattedValue(getObject("EditMode"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",71,e);}if (_boolean_result) { %><% {out.write(localizeISText("quote.edit.responded.quote_details.text","",null,null,null,null,null,null,null,null,null,null,null));} %> - <% {String value = null;try{value=context.getFormattedValue(getObject("Quote:DisplayName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {72}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } else { %><% {out.write(localizeISText("quote.edit.unsubmitted.quote_request_details.text","",null,null,null,null,null,null,null,null,null,null,null));} %> - <% {String value = null;try{value=context.getFormattedValue(getObject("Quote:DisplayName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {74}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } %></h1><% } else { %><h1><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((( ((Number) getObject("Quote:State")).doubleValue() ==((Number)(new Double(4))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) ((( ((Number) getObject("Quote:State")).doubleValue() ==((Number)(new Double(6))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) ((((context.getFormattedValue(getObject("EditMode"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",79,e);}if (_boolean_result) { %><% {out.write(localizeISText("quote.edit.responded.quote_details.text","",null,null,null,null,null,null,null,null,null,null,null));} %> - <% {String value = null;try{value=context.getFormattedValue(context.getFormattedValue(getObject("Quote:Domain:DomainName"),null) + context.getFormattedValue("_",null) + context.getFormattedValue(getObject("Quote:DocumentNo"),null),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {80}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } else { %><% {out.write(localizeISText("quote.edit.unsubmitted.quote_request_details.text","",null,null,null,null,null,null,null,null,null,null,null));} %> - <% {String value = null;try{value=context.getFormattedValue(context.getFormattedValue(getObject("Quote:Domain:DomainName"),null) + context.getFormattedValue("_",null) + context.getFormattedValue(getObject("Quote:DocumentNo"),null),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {82}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } %></h1><% } %><!-- EO Titel and Description --><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("ErrorCode"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",88,e);}if (_boolean_result) { %><p class="alert alert-info"><% {out.write(localizeISText(context.getFormattedValue(context.getFormattedValue("quote.edit.info.",null) + context.getFormattedValue(getObject("ErrorCode"),null) + context.getFormattedValue(".text",null),null),"",null,null,null,null,null,null,null,null,null,null,null));} %></p><% } %><div class="row">
<label class="col-lg-2 col-sm-3 col-xs-4 control-label"><% {out.write(localizeISText("quote.edit.unsubmitted.quote_no.label","",null,null,null,null,null,null,null,null,null,null,null));} %></label>
<div class="col-lg-10 col-sm-9 col-xs-8">
<p class="form-control-static"><% {String value = null;try{value=context.getFormattedValue(getObject("Quote:DocumentNo"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {95}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></p>
</div>
</div>
<div class="row">
<label class="control-label col-lg-2 col-sm-3 col-xs-4"><% {out.write(localizeISText("quote.edit.unsubmitted.status.label","",null,null,null,null,null,null,null,null,null,null,null));} %></label>
<div class="col-lg-10 col-sm-9 col-xs-8">
<p class="form-control-static"><% processOpenTag(response, pageContext, "quotestate", new TagParameter[] {
new TagParameter("quote",getObject("Quote")),
new TagParameter("currentdate",getObject("CurrentDate")),
new TagParameter("displaymode","quoter")}, 101); %></p>
</div>
</div><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((( ((Number) getObject("Quote:State")).doubleValue() >((Number)(new Double(3))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) ((( ((Number) getObject("Quote:State")).doubleValue() <((Number)(new Double(7))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",106,e);}if (_boolean_result) { %><div class="row">
<label class="control-label col-lg-2 col-sm-3 col-xs-4"><% {out.write(localizeISText("quote.edit.unsubmitted.valid.label","",null,null,null,null,null,null,null,null,null,null,null));} %></label>
<div class="col-lg-10 col-sm-9 col-xs-8">
<p class="form-control-static"><% {String value = null;try{value=context.getFormattedValue(context.getFormattedValue(getObject("Quote:ValidFrom"),new Integer(DATE_INPUT)),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {110}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %> - <% {String value = null;try{value=context.getFormattedValue(context.getFormattedValue(getObject("Quote:ValidTo"),new Integer(DATE_INPUT)),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {110}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></p>
</div>
</div><% } %><% } %><div class="section">
<div class="form-group has-feedback">
<label for="<% {String value = null;try{value=context.getFormattedValue(getObject("QuoteEditForm:DisplayName:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {118}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" class="control-label col-lg-2 col-sm-3 col-xs-4"><% {out.write(localizeISText("quote.edit.unsubmitted.name.label","",null,null,null,null,null,null,null,null,null,null,null));} %></label>
<div class="col-lg-10 col-sm-9 col-xs-8"><% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("EditDisplayName"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",120,e);}if (_boolean_result) { %><input type="text" id="<% {String value = null;try{value=context.getFormattedValue(getObject("QuoteEditForm:DisplayName:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {121}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
name="<% {String value = null;try{value=context.getFormattedValue(getObject("QuoteEditForm:DisplayName:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {122}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
value="<% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("QuoteEditForm:Invalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",123,e);}if (_boolean_result) { %><% {String value = null;try{value=context.getFormattedValue(getObject("QuoteEditForm:DisplayName:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {123}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } else { %><% {String value = null;try{value=context.getFormattedValue(getObject("Quote:DisplayName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {123}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } %>"
maxlength="256" 
class="quote_name form-control"
placeholder="<% {out.write(localizeISText("quote.edit.unsubmitted.enter_an_optional_name.text","",null,null,null,null,null,null,null,null,null,null,null));} %>"
data-validate="required"
required data-bv-notempty-message ="<% {out.write(localizeISText("shopping_cart.quote.name.required.validation.message","",null,null,null,null,null,null,null,null,null,null,null));} %>"
aria-required="true" 
/><% } else { %><p class="form-control-static"><% {String value = null;try{value=context.getFormattedValue(getObject("Quote:DisplayName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {132}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></p><% } %></div>
</div><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Quote:Timeframe"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",138,e);}if (_boolean_result) { %><div class="row">
<label for="" class="control-label col-lg-2 col-sm-3 col-xs-4"><% {out.write(localizeISText("quote.edit.unsubmitted.timeframe.label","",null,null,null,null,null,null,null,null,null,null,null));} %></label>
<div class="col-lg-10 col-sm-9 col-xs-8"><% {String value = null;try{value=context.getFormattedValue(getObject("Quote:Timeframe"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {142}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></div>
</div><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((((context.getFormattedValue(getObject("EditDescription"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Quote:Description")))).booleanValue() && ((Boolean) (((!(context.getFormattedValue(getObject("Quote:Description"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",147,e);}if (_boolean_result) { %><div class="form-group">
<label for="<% {String value = null;try{value=context.getFormattedValue(getObject("QuoteEditForm:Description:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {149}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" class="control-label col-lg-2 col-sm-3 col-xs-4"><% {out.write(localizeISText("quote.edit.unsubmitted.comment.label","",null,null,null,null,null,null,null,null,null,null,null));} %></label>
<div class="col-lg-10 col-sm-9 col-xs-8"><% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("EditDescription"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",151,e);}if (_boolean_result) { %><% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("QuoteEditForm:Description:isError(\"error.required\")"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",152,e);}if (_boolean_result) { %><% {out.write(localizeISText("quote.edit.unsubmitted.enter_description.text","",null,null,null,null,null,null,null,null,null,null,null));} %><% } %><textarea 
type="text" 
id="<% {String value = null;try{value=context.getFormattedValue(getObject("QuoteEditForm:Description:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {155}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
name="<% {String value = null;try{value=context.getFormattedValue(getObject("QuoteEditForm:Description:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {156}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
class="form-control"
placeholder="<% {out.write(localizeISText("quote.edit.unsubmitted.provide_comment.text","",null,null,null,null,null,null,null,null,null,null,null));} %>"
><% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("QuoteEditForm:Invalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",159,e);}if (_boolean_result) { %><% {String value = null;try{value=context.getFormattedValue(getObject("QuoteEditForm:Description:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {159}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } else { %><% {String value = null;try{value=context.getFormattedValue(getObject("Quote:Description"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {159}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } %></textarea><% } else { %><p class="form-control-static"><% {String value = null;try{value=context.getFormattedValue(getObject("Quote:Description"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {161}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></p><% } %></div>
</div><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("Quote:SellerComment")))).booleanValue() && ((Boolean) (((!(context.getFormattedValue(getObject("Quote:SellerComment"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",166,e);}if (_boolean_result) { %><div class="form-group">
<label for="" class="control-label col-xs-4 col-sm-3 col-lg-2"><% {out.write(localizeISText("quote.edit.unsubmitted.seller_comment.label","",null,null,null,null,null,null,null,null,null,null,null));} %></label>
<div class="col-xs-8 col-sm-9 col-lg-10">
<p class="form-control-static"><% {String value = null;try{value=context.getFormattedValue(getObject("Quote:SellerComment"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {170}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></p>
</div>
</div><% } %></div><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((( ((Number) getObject("Quote:State")).doubleValue() ==((Number)(new Double(3))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) (((!(context.getFormattedValue(getObject("LinkSource"),null).equals(context.getFormattedValue("Shopping",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",176,e);}if (_boolean_result) { %><div class="alert alert-info"><% {out.write(localizeISText("quote.edit.submitted.your_quote_has_been_submitted.text","",null,context.getFormattedValue(getObject("Quote:ProductListEventByType(\"SubmittedToSeller\"):EventDate"),new Integer(DATE_INPUT)),null,null,null,null,null,null,null,null,null));} %></div><% } else {_boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("ERRORCODE_QUOTEVALIDATION"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",178,e);}if (_boolean_result) { %> 
<div class="alert alert-info"><% {out.write(localizeISText(context.getFormattedValue(getObject("ERRORCODE_QUOTEVALIDATION"),null),"",null,null,null,null,null,null,null,null,null,null,null));} %></div><% }} %><div class="section">
<h3><% {out.write(localizeISText("quote.items.table.heading","",null,null,null,null,null,null,null,null,null,null,null));} %></h3><% {out.flush();processLocalIncludeByServer((com.intershop.beehive.core.capi.request.ServletResponse)response,"quote/QuoteItemList", null, "187");} %></div>
<div class="form-btn-group clearfix">
<div class="visible-xs form-group">
<div class="col-xs-6 pull-right text-right"><% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("LinkSource"),null).equals(context.getFormattedValue("Shopping",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",194,e);}if (_boolean_result) { %><a class="btn btn-link" href="<%=context.getFormattedValue(url(true,(new URLPipelineAction(context.getFormattedValue("Default-Start",null)))),null)%>"><% {out.write(localizeISText("quote.edit.back_to_shopping.link","",null,null,null,null,null,null,null,null,null,null,null));} %></a><% } else { %><a class="btn btn-link" href="<%=context.getFormattedValue(url(true,context.getFormattedValue(getObject("SecureURL"),null), context.getFormattedValue("",null), (new URLPipelineAction(context.getFormattedValue("ViewQuoteList-Paging",null))), (new URLParameterSet().addURLParameter(context.getFormattedValue("PageNumber",null),context.getFormattedValue(getObject("PageNumber"),null)))),null)%>"><% {out.write(localizeISText("quote.edit.back_to_quotes.link","",null,null,null,null,null,null,null,null,null,null,null));} %></a><% } %></div>
</div><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((( ((Number) getObject("Quote:ItemsCount")).doubleValue() >((Number)(new Double(0))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) ((disableErrorMessages().isDefined(getObject("Quote:Total"))))).booleanValue() && ((Boolean) ((( ((Number) getObject("Quote:Total:Value")).doubleValue() >((Number)(new Double(0))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",202,e);}if (_boolean_result) { %><% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("EditMode"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",203,e);}if (_boolean_result) { %><button type="submit" class="btn btn-primary pull-right" name="submitquote" <% _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) (hasLoopElements("Quote:IndependentItems") ? Boolean.TRUE : Boolean.FALSE)).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",204,e);}if (_boolean_result) { %>disabled<% } %>><% {out.write(localizeISText("quote.edit.button.submit.label","",null,null,null,null,null,null,null,null,null,null,null));} %></button>
<button type="submit" class="btn btn-default pull-right" name="update" value="update"><% {out.write(localizeISText("quote.edit.button.save.label","",null,null,null,null,null,null,null,null,null,null,null));} %></button><% } else {_boolean_result=false;try {_boolean_result=((Boolean)(((( ((Number) getObject("Quote:State")).doubleValue() ==((Number)(new Double(3))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",206,e);}if (_boolean_result) { %><% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("LinkSource"),null).equals(context.getFormattedValue("Shopping",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",207,e);}if (_boolean_result) { %><a class="btn btn-link" href="<%=context.getFormattedValue(url(true,(new URLPipelineAction(context.getFormattedValue("Default-Start",null)))),null)%>"><% {out.write(localizeISText("quote.edit.back_to_shopping.link","",null,null,null,null,null,null,null,null,null,null,null));} %></a><% } else { %><button class="btn btn-default" name="copy" type="submit" value="copy"><% {out.write(localizeISText("quote.edit.button.create_new_from_quote.label","",null,null,null,null,null,null,null,null,null,null,null));} %></button><% } %><% } else { %><% _boolean_result=false;try {_boolean_result=((Boolean)((( ((Number) getObject("Quote:State")).doubleValue() ==((Number)(new Double(4))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",213,e);}if (_boolean_result) { %><% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("ValidQuote"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",214,e);}if (_boolean_result) { %> 
<button type="submit" class="btn btn-primary pull-right" name="add2cart" value="add2cart"><% {out.write(localizeISText("quote.edit.button.add_quote_to_cart.label","",null,null,null,null,null,null,null,null,null,null,null));} %></button><% } %><% } %><button type="submit" class="btn btn-default" name="copy" value="copy"><% {out.write(localizeISText("quote.edit.button.create_new_from_quote.label","",null,null,null,null,null,null,null,null,null,null,null));} %></button><% _boolean_result=false;try {_boolean_result=((Boolean)((( ((Number) getObject("Quote:State")).doubleValue() ==((Number)(new Double(4))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",221,e);}if (_boolean_result) { %><button type="submit" id="button-reject" class="btn btn-default" name="refuse" value="refuse"><% {out.write(localizeISText("quote.edit.reject.button.reject.label","",null,null,null,null,null,null,null,null,null,null,null));} %></button><% } %><% }} %><% } %></div>
<div class="hidden-xs clearfix"><% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("LinkSource"),null).equals(context.getFormattedValue("Shopping",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",229,e);}if (_boolean_result) { %><a href="<%=context.getFormattedValue(url(true,(new URLPipelineAction(context.getFormattedValue("Default-Start",null)))),null)%>"><% {out.write(localizeISText("quote.edit.back_to_shopping.link","",null,null,null,null,null,null,null,null,null,null,null));} %></a><% } else { %><a href="<%=context.getFormattedValue(url(true,context.getFormattedValue(getObject("SecureURL"),null), context.getFormattedValue("",null), (new URLPipelineAction(context.getFormattedValue("ViewQuoteList-Paging",null))), (new URLParameterSet().addURLParameter(context.getFormattedValue("PageNumber",null),context.getFormattedValue(getObject("PageNumber"),null)))),null)%>"><% {out.write(localizeISText("quote.edit.back_to_quotes.link","",null,null,null,null,null,null,null,null,null,null,null));} %></a><% } %></div><% out.print("</form>"); %><% printFooter(out); %>