<?xml version="1.0" encoding="UTF-8"?>
<!--Pipeline to browse the catalog.
@Group Catalog-->

<pipeline:Pipeline xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:pipeline="http://www.intershop.de/pipeline/2010"
    name="ViewCatalog" type="view">
<!--UpdateShowInMenu should be performed 
for Catalog and rootCategory

@Location 12,5-->
  <nodes xsi:type="pipeline:Text" nodeID="Text0" width="10"/>
<!--Update 'ShowInMenu' in shared catalogs
@Location 3,13-->
  <nodes xsi:type="pipeline:Text" nodeID="TextNode1"/>
<!--@Location 30,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode_C3Yt4OSAEea07PIX5enNhQ" name="AssignImage">
    <nodeSuccessors name="next" next="GetCatalogByUUID_g258AOSIEea07PIX5enNhQ"/>
  </nodes>
<!--@Location 30,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCatalogByUUID_g258AOSIEea07PIX5enNhQ">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetCatalogByUUID.xml"/>
    <nodeSuccessors name="next" next="CallNode_C3UccOSAEea07PIX5enNhQ"/>
  </nodes>
<!--@Location 30,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode_C3UccOSAEea07PIX5enNhQ">
    <nodeSuccessors name="next" next="CallNode_C3XfwOSAEea07PIX5enNhQ"/>
    <parameterBindings name="PreferenceDomain" objectPath="Catalog:Domain"/>
    <startNode referencedName="ProcessImage-DetermineImageDefinitionDomain"/>
  </nodes>
<!--@Location 30,3-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode_C3XfwOSAEea07PIX5enNhQ">
    <nodeSuccessors name="next" next="CallNode_C3SAMOSAEea07PIX5enNhQ"/>
    <nodeSuccessors name="Error" next="CreateLogEntry_C3VqkOSAEea07PIX5enNhQ"/>
    <parameterBindings name="Domain" objectPath="ImageDefinitionDomain"/>
    <startNode referencedName="ProcessImageView-GetOrganizationPrimaryViewID"/>
  </nodes>
<!--@Location 30,4-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode_C3SAMOSAEea07PIX5enNhQ">
    <nodeSuccessors name="next" next="KeyMapper_C3O84OSAEea07PIX5enNhQ"/>
    <nodeSuccessors name="ERROR" next="JoinNode_C3DWsOSAEea07PIX5enNhQ"/>
    <parameterBindings name="CatalogBORepository" objectPath="ApplicationBO:Repository(&quot;CatalogBORepository&quot;)"/>
    <parameterBindings name="CatalogCategoryID" objectPath="CategoryID"/>
    <startNode referencedName="This:GetCatalogCategoryBO"/>
  </nodes>
<!--@Location 30,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper_C3O84OSAEea07PIX5enNhQ">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="GetImageViewByID_C3BhgOSAEea07PIX5enNhQ"/>
    <parameterBindings name="InValue_1" objectPath="CatalogCategoryBO:Extension(&quot;Image&quot;):ImageContainerBO"/>
    <returnValueBindings name="OutValue_1" objectPath="ImageContainerBO"/>
  </nodes>
<!--@Location 30,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetImageViewByID_C3BhgOSAEea07PIX5enNhQ">
    <pipelet href="enfinity:/bc_image/pipelets/GetImageViewByID.xml"/>
    <nodeSuccessors name="next" next="GetImageTypeByID_C3NuwOSAEea07PIX5enNhQ"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode_C3KEYOSAEea07PIX5enNhQ"/>
    <parameterBindings name="ImageViewBORepository" objectPath="ApplicationBO:Repository(&quot;ImageViewBORepository&quot;,ImageDefinitionDomain:UUID)"/>
    <parameterBindings name="ImageViewID" objectPath="PrimaryImageViewID"/>
  </nodes>
<!--@Location 30,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetImageTypeByID_C3NuwOSAEea07PIX5enNhQ">
    <pipelet href="enfinity:/bc_image/pipelets/GetImageTypeByID.xml"/>
    <nodeSuccessors name="next" next="ExtensionPointNode_iN9X4ObgEeas0tonyJgzoA"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode_C3TOUOSAEea07PIX5enNhQ"/>
    <parameterBindings name="ImageTypeBORepository" objectPath="ApplicationBO:Extension(&quot;Image&quot;):ImageTypeBORepository(Organization)"/>
    <parameterBindings name="ImageTypeID" objectPath="CatalogCategoryBO:Extension(&quot;Image&quot;):DefaultImageTypeID"/>
  </nodes>
<!--@Location 30,8-->
  <nodes xsi:type="pipeline:ExtensionPointNode" nodeID="ExtensionPointNode_iN9X4ObgEeas0tonyJgzoA"
      name="AssignImageBeforeCreateImageExt">
    <nodeSuccessors name="next" next="DecisionNode_C3RZIOSAEea07PIX5enNhQ"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode_jLmr4ObgEeas0tonyJgzoA"/>
  </nodes>
<!--@Location 30,9-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode_C3RZIOSAEea07PIX5enNhQ"
      conditionKey="SelectedImageBaseName" operator="str_neq" conditionItem="&quot;&quot;">
    <nodeSuccessors name="decision_yes" next="CreateImage_C3cYQOSAEea07PIX5enNhQ"/>
<!--@BendPoints 63,19-->
    <nodeSuccessors name="decision_no" next="SetDictionaryValue_C3ajEOSAEea07PIX5enNhQ"/>
  </nodes>
<!--@Location 30,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateImage_C3cYQOSAEea07PIX5enNhQ">
    <pipelet href="enfinity:/bc_image/pipelets/CreateImage.xml"/>
    <nodeSuccessors name="next" next="AddImage_C3QLAOSAEea07PIX5enNhQ"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode_C3YG0OSAEea07PIX5enNhQ"/>
    <parameterBindings name="ImageBORepository" objectPath="ApplicationBO:Repository(&quot;ImageBORepository&quot;,CatalogDomainID)"/>
    <parameterBindings name="ImageBaseName" objectPath="SelectedImageBaseName"/>
  </nodes>
<!--@Location 30,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddImage_C3QLAOSAEea07PIX5enNhQ">
    <pipelet href="enfinity:/bc_image/pipelets/AddImage.xml"/>
    <nodeSuccessors name="next" next="JoinNode_C3VDgOSAEea07PIX5enNhQ"/>
  </nodes>
<!--@Location 30,12-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode_C3VDgOSAEea07PIX5enNhQ">
    <nodeSuccessors name="next" next="DecisionNode_C3LSgOSAEea07PIX5enNhQ"/>
  </nodes>
<!--@Location 30,13-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode_C3LSgOSAEea07PIX5enNhQ"
      conditionKey="FromCategory">
<!--@BendPoints 63,27-->
    <nodeSuccessors name="decision_yes" next="JumpNode_C3Ek0OSAEea07PIX5enNhQ"/>
    <nodeSuccessors name="decision_no" next="JumpNode_C3Fy8OSAEea07PIX5enNhQ"/>
  </nodes>
<!--@Location 31,14-->
  <nodes xsi:type="pipeline:JumpNode" nodeID="JumpNode_C3Ek0OSAEea07PIX5enNhQ">
    <startNode referencedName="ViewCategory-Edit"/>
  </nodes>
<!--@Location 30,14-->
  <nodes xsi:type="pipeline:JumpNode" nodeID="JumpNode_C3Fy8OSAEea07PIX5enNhQ">
    <startNode referencedName="ViewCatalog-Edit"/>
  </nodes>
<!--@Location 31,12-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode_C3YG0OSAEea07PIX5enNhQ">
    <nodeSuccessors name="next" next="JoinNode_C3VDgOSAEea07PIX5enNhQ"/>
  </nodes>
<!--@Location 31,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue_C3ajEOSAEea07PIX5enNhQ">
    <configurationValues name="Name" value="ErrorMessage"/>
    <configurationValues name="Value" value="ImageNotSelected"/>
    <pipelet href="enfinity:/core/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode_C3YG0OSAEea07PIX5enNhQ"/>
  </nodes>
<!--@Location 32,8-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode_jLmr4ObgEeas0tonyJgzoA">
<!--@BendPoints 65,25-->
    <nodeSuccessors name="next" next="JoinNode_C3YG0OSAEea07PIX5enNhQ"/>
  </nodes>
<!--@Location 32,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode_C3TOUOSAEea07PIX5enNhQ">
    <nodeSuccessors name="next" next="JoinNode_jLmr4ObgEeas0tonyJgzoA"/>
  </nodes>
<!--@Location 32,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode_C3KEYOSAEea07PIX5enNhQ">
    <nodeSuccessors name="next" next="JoinNode_C3TOUOSAEea07PIX5enNhQ"/>
  </nodes>
<!--@Location 32,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode_C3DWsOSAEea07PIX5enNhQ">
    <nodeSuccessors name="next" next="JoinNode_C3KEYOSAEea07PIX5enNhQ"/>
  </nodes>
<!--@Location 31,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateLogEntry_C3VqkOSAEea07PIX5enNhQ">
    <configurationValues name="LogLevel" value="Warn"/>
    <configurationValues name="Message" value="PrimaryImageViewID is undefined."/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CreateLogEntry.xml"/>
    <nodeSuccessors name="next" next="JoinNode_C3bxMOSAEea07PIX5enNhQ"/>
  </nodes>
<!--@Location 32,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode_C3bxMOSAEea07PIX5enNhQ">
    <nodeSuccessors name="next" next="JoinNode_C3DWsOSAEea07PIX5enNhQ"/>
  </nodes>
<!--@Location 8,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start3" name="Create">
    <nodeSuccessors name="next" next="GetLocale2"/>
  </nodes>
<!--@Location 8,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetLocale2">
    <configurationValues name="LocaleFallback" value="Request Locale"/>
    <pipelet href="enfinity:/core/pipelets/GetLocale.xml"/>
    <nodeSuccessors name="next" next="GetWebForm2"/>
  </nodes>
<!--@Location 8,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetWebForm2">
    <configurationValues name="webform-id" value="RegFormAddCatalog"/>
    <pipelet href="enfinity:/core/pipelets/GetWebForm.xml"/>
    <nodeSuccessors name="next" next="UpdateWebForm2"/>
    <nodeSuccessors name="pipelet_error" next="Join5"/>
    <parameterBindings name="WebForm" objectPath="RegFormAddCatalog"/>
    <returnValueBindings name="WebForm" objectPath="RegFormAddCatalog"/>
  </nodes>
<!--@Location 8,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateWebForm2">
    <configurationValues name="mode" value="update"/>
    <configurationValues name="webform-id" value="RegFormAddCatalog"/>
    <pipelet href="enfinity:/core/pipelets/UpdateWebForm.xml"/>
    <nodeSuccessors name="next" next="ValidateWebForm2"/>
    <parameterBindings name="WebForm" objectPath="RegFormAddCatalog"/>
  </nodes>
<!--@Location 8,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ValidateWebForm2">
    <pipelet href="enfinity:/core/pipelets/ValidateWebForm.xml"/>
    <nodeSuccessors name="next" next="KeyMapper1"/>
    <nodeSuccessors name="pipelet_error" next="Join4"/>
    <parameterBindings name="WebForm" objectPath="RegFormAddCatalog"/>
  </nodes>
<!--@Location 8,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper1">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="Call1" action="begin"/>
    <parameterBindings name="InValue_1" objectPath="RegFormAddCatalog:Id:Value"/>
    <parameterBindings name="InValue_2" objectPath="RegFormAddCatalog:DisplayName:Value"/>
    <parameterBindings name="InValue_3" objectPath="RegFormAddCatalog:Description:Value"/>
    <returnValueBindings name="OutValue_1" objectPath="Id"/>
    <returnValueBindings name="OutValue_2" objectPath="DisplayName"/>
    <returnValueBindings name="OutValue_3" objectPath="Description"/>
  </nodes>
<!--@Location 8,6-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call1">
    <nodeSuccessors name="next" next="CallNode9"/>
    <nodeSuccessors name="ERROR" next="Join3" action="rollback"/>
    <startNode referencedName="ProcessCatalog-CreateCatalog"/>
  </nodes>
<!--@Location 8,7-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode9">
    <nodeSuccessors name="next" next="KeyMapper3" action="commit"/>
    <nodeSuccessors name="ERROR" next="JoinNode8" action="rollback"/>
    <parameterBindings name="ExtensibleObject" objectPath="Catalog"/>
    <parameterBindings name="ShowInMenu" objectPath="RegFormAddCatalog:ShowInMenu:Value"/>
    <startNode referencedName="This:UpdateShowInMenu"/>
  </nodes>
<!--@Location 8,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper3">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="Jump9"/>
    <parameterBindings name="InValue_1" objectPath="Catalog:UUID"/>
    <returnValueBindings name="OutValue_1" objectPath="CatalogUUID"/>
  </nodes>
<!--@Location 8,9-->
  <nodes xsi:type="pipeline:JumpNode" nodeID="Jump9">
    <startNode referencedName="ViewCatalog-Edit"/>
  </nodes>
<!--@Location 11,8-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode8">
    <nodeSuccessors name="next" next="DetermineLocales2"/>
  </nodes>
<!--@Location 11,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="DetermineLocales2">
    <pipelet href="enfinity:/core/pipelets/DetermineLocales.xml"/>
    <nodeSuccessors name="next" next="ExecuteObjectsQuery2"/>
  </nodes>
<!--@Location 11,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExecuteObjectsQuery2">
    <configurationValues name="Datasource" value="current ORM connection"/>
    <configurationValues name="ParameterName_01" value="DomainName"/>
    <configurationValues name="QueryName" value="catalog/GetClassificationSystems"/>
    <pipelet href="enfinity:/core/pipelets/ExecuteObjectsQuery.xml"/>
    <nodeSuccessors name="next" next="PrepareApplicationView1"/>
    <parameterBindings name="ParameterValue_01" constant="Operations"/>
    <returnValueBindings name="SearchResult" objectPath="ClassificationSystems"/>
  </nodes>
<!--@Location 11,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="PrepareApplicationView1">
    <configurationValues name="SelectedMenuItem" value="Catalogs"/>
    <configurationValues name="WorkingTemplate" value="catalog/NewCatalog"/>
    <pipelet href="enfinity:/core/pipelets/PrepareApplicationView.xml"/>
    <nodeSuccessors name="next" next="InteractionEnd2"/>
  </nodes>
<!--@Location 11,13-->
  <nodes xsi:type="pipeline:InteractionNode" nodeID="InteractionEnd2">
    <template referencedName="application/ApplicationFrame"/>
  </nodes>
<!--@Location 11,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join3">
    <nodeSuccessors name="next" next="JoinNode8"/>
  </nodes>
<!--@Location 11,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join4">
    <nodeSuccessors name="next" next="Join3"/>
  </nodes>
<!--@Location 11,2-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join5">
    <nodeSuccessors name="next" next="CreateWebForm2"/>
  </nodes>
<!--@Location 11,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateWebForm2">
    <configurationValues name="param.1.name" value="Id"/>
    <configurationValues name="param.1.required" value="true"/>
    <configurationValues name="param.1.rule" value="^[a-zA-Z0-9\_]+$"/>
    <configurationValues name="param.2.name" value="DisplayName"/>
    <configurationValues name="param.2.required" value="true"/>
    <configurationValues name="param.2.rule" value="^[^\s].*$"/>
    <configurationValues name="param.3.name" value="Description"/>
    <configurationValues name="param.3.required" value="false"/>
    <configurationValues name="param.3.rule" value=""/>
    <configurationValues name="param.4.name" value="ShowInMenu"/>
    <configurationValues name="param.4.required" value="false"/>
    <configurationValues name="param.4.rule" value=""/>
    <configurationValues name="webform-id" value="RegFormAddCatalog"/>
    <pipelet href="enfinity:/core/pipelets/CreateWebForm.xml"/>
    <nodeSuccessors name="next" next="Join4"/>
    <returnValueBindings name="WebForm" objectPath="RegFormAddCatalog"/>
  </nodes>
<!--@Location 1,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start2" name="Dispatch">
    <nodeSuccessors name="next" next="DispatchFormAction1"/>
  </nodes>
<!--@Location 1,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="DispatchFormAction1">
    <configurationValues name="OutValue_0" value="ViewCatalogList-ListAll"/>
    <configurationValues name="OutValue_1" value="ViewCatalog-Update"/>
    <configurationValues name="OutValue_2" value="ViewCatalog-Remove"/>
    <configurationValues name="OutValue_3" value="ViewCatalog-Create"/>
    <configurationValues name="OutValue_4" value="ViewCatalog-Edit"/>
    <configurationValues name="OutValue_5" value="ViewCatalog-Edit"/>
    <configurationValues name="OutValue_6" value="ViewCatalog-New"/>
    <configurationValues name="OutValue_7" value="ViewCatalog-Edit"/>
    <configurationValues name="OutValue_8" value="ViewProductFilter-StartSelectCategory"/>
    <configurationValues name="OutValue_9" value="ViewCategoryImage-BrowseDirectoryAdd"/>
    <configurationValues name="PagingPipeline" value="ViewBrowseCatalogCategory-Paging"/>
    <pipelet href="enfinity:/core/pipelets/DispatchFormAction.xml"/>
    <nodeSuccessors name="next" next="JoinNode0"/>
<!--@BendPoints 5,3-->
    <nodeSuccessors name="pipelet_error" next="DispatchFormAction0"/>
    <parameterBindings name="Key_0" objectPath="backToList"/>
    <parameterBindings name="Key_1" objectPath="update"/>
    <parameterBindings name="Key_2" objectPath="delete"/>
    <parameterBindings name="Key_3" objectPath="create"/>
    <parameterBindings name="Key_4" objectPath="confirmDelete"/>
    <parameterBindings name="Key_5" objectPath="edit"/>
    <parameterBindings name="Key_6" objectPath="new"/>
    <parameterBindings name="Key_7" objectPath="setLocale"/>
    <parameterBindings name="Key_8" objectPath="StartSelectFilterCategory"/>
    <parameterBindings name="Key_9" objectPath="browseDirectoryAdd"/>
    <returnValueBindings name="SelectionKey" objectPath="JumpTarget"/>
  </nodes>
<!--@Location 1,2-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode0">
    <nodeSuccessors name="next" next="Jump1"/>
  </nodes>
<!--@Location 1,4-->
  <nodes xsi:type="pipeline:JumpNode" nodeID="Jump1">
    <startNode referencedName="SecureJump-Start"/>
  </nodes>
<!--@Location 2,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="DispatchFormAction0">
    <configurationValues name="OutValue_0" value="ViewBrowseCatalogCategory-ExecutePreview"/>
    <configurationValues name="OutValue_1" value="ViewPreview-CancelPreview"/>
    <pipelet href="enfinity:/core/pipelets/DispatchFormAction.xml"/>
    <nodeSuccessors name="next" next="JoinNode0"/>
    <parameterBindings name="Key_0" objectPath="preview"/>
    <parameterBindings name="Key_1" objectPath="cancelPreview"/>
    <returnValueBindings name="SelectionKey" objectPath="JumpTarget"/>
  </nodes>
<!--@Location 16,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start5" name="Edit">
    <nodeSuccessors name="next" next="GetCatalogByUUID1"/>
  </nodes>
<!--@Location 16,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCatalogByUUID1">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetCatalogByUUID.xml"/>
    <nodeSuccessors name="next" next="GetLocale5"/>
  </nodes>
<!--@Location 16,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetLocale5">
    <configurationValues name="LocaleFallback" value="Request Locale"/>
    <pipelet href="enfinity:/core/pipelets/GetLocale.xml"/>
    <nodeSuccessors name="next" next="Join2"/>
  </nodes>
<!--@Location 16,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join2">
    <nodeSuccessors name="next" next="CreateWebForm1"/>
  </nodes>
<!--@Location 16,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateWebForm1">
    <configurationValues name="param.1.name" value="DisplayName"/>
    <configurationValues name="param.1.required" value="true"/>
    <configurationValues name="param.1.rule" value="^[^\s].*$"/>
    <configurationValues name="param.2.required" value="false"/>
    <configurationValues name="param.3.required" value="false"/>
    <configurationValues name="webform-id" value="RegFormEditCatalog"/>
    <pipelet href="enfinity:/core/pipelets/CreateWebForm.xml"/>
    <nodeSuccessors name="next" next="Join16"/>
    <returnValueBindings name="WebForm" objectPath="RegFormEditCatalog"/>
  </nodes>
<!--@Location 16,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join16">
    <nodeSuccessors name="next" next="JoinNode14"/>
  </nodes>
<!--@Location 16,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode14">
    <nodeSuccessors name="next" next="JoinNode11"/>
  </nodes>
<!--@Location 16,11-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode11">
    <nodeSuccessors name="next" next="DetermineLocales1"/>
  </nodes>
<!--@Location 16,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="DetermineLocales1">
    <pipelet href="enfinity:/core/pipelets/DetermineLocales.xml"/>
    <nodeSuccessors name="next" next="ExecuteObjectsQuery1"/>
  </nodes>
<!--@Location 16,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExecuteObjectsQuery1">
    <configurationValues name="Datasource" value="current ORM connection"/>
    <configurationValues name="ParameterName_01" value="DomainName"/>
    <configurationValues name="QueryName" value="catalog/GetClassificationSystems"/>
    <pipelet href="enfinity:/core/pipelets/ExecuteObjectsQuery.xml"/>
    <nodeSuccessors name="next" next="CallNode_qiL08OPMEeaUwa18p3ZmLQ"/>
    <parameterBindings name="ParameterValue_01" constant="Operations"/>
    <returnValueBindings name="SearchResult" objectPath="ClassificationSystems"/>
  </nodes>
<!--@Location 16,14-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode_qiL08OPMEeaUwa18p3ZmLQ">
    <nodeSuccessors name="next" next="CallNode_Er5TUOPOEeaUwa18p3ZmLQ"/>
    <parameterBindings name="CatalogBORepository" objectPath="ApplicationBO:Repository(&quot;CatalogBORepository&quot;)"/>
    <parameterBindings name="CatalogCategoryID" objectPath="Catalog:Root:UUID"/>
    <startNode referencedName="ViewCatalog-GetCatalogCategoryBO"/>
  </nodes>
<!--@Location 16,15-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode_Er5TUOPOEeaUwa18p3ZmLQ">
    <nodeSuccessors name="next" next="CallNode2"/>
    <parameterBindings name="PreferenceDomain" objectPath="Organization:Domain"/>
    <startNode referencedName="ProcessCategoryImage-GetCategoryImageReference"/>
  </nodes>
<!--@Location 16,17-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode2">
<!--@BendPoints 33,36-->
    <nodeSuccessors name="next" next="CallNode41"/>
    <parameterBindings name="Category" objectPath="Catalog:Root"/>
    <parameterBindings name="Repository" objectPath="MasterRepository"/>
    <startNode referencedName="ProcessCategoryProductFilter-GetProductFilter"/>
  </nodes>
<!--@Location 16,18-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode41">
<!--@BendPoints 33,38-->
    <nodeSuccessors name="next" next="PrepareApplicationView2"/>
    <startNode referencedName="ProcessChannelCategorySorting-Start"/>
  </nodes>
<!--@Location 16,19-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="PrepareApplicationView2">
    <configurationValues name="SelectedMenuItem" value="Catalogs"/>
    <configurationValues name="WorkingTemplate" value="catalog/Catalog"/>
    <pipelet href="enfinity:/core/pipelets/PrepareApplicationView.xml"/>
    <nodeSuccessors name="next" next="InteractionEnd1"/>
  </nodes>
<!--@Location 16,20-->
  <nodes xsi:type="pipeline:InteractionNode" nodeID="InteractionEnd1">
    <template referencedName="application/ApplicationFrame"/>
  </nodes>
<!--@Location 4,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start11" name="GetCatalog" callMode="Private">
    <nodeSuccessors name="next" next="Decision18"/>
  </nodes>
<!--@Location 4,1-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="Decision18" conditionKey="CatalogOrganizationDomain">
    <nodeSuccessors name="decision_yes" next="GetCatalog3"/>
<!--@BendPoints 11,3 11,4-->
    <nodeSuccessors name="decision_no" next="KeyMapper6"/>
  </nodes>
<!--@Location 4,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCatalog3">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetCatalog.xml"/>
    <nodeSuccessors name="next" next="End2"/>
<!--@BendPoints 11,7-->
    <nodeSuccessors name="pipelet_error" next="End4"/>
    <parameterBindings name="OrganizationDomain" objectPath="CatalogOrganizationDomain"/>
  </nodes>
<!--@Location 4,4-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End2"/>
<!--@Location 5,4-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End4" name="ERROR"/>
<!--@Location 5,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper6">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
<!--@BendPoints 11,6 9,6-->
    <nodeSuccessors name="next" next="GetCatalog3"/>
    <parameterBindings name="InValue_1" objectPath="OrganizationDomain"/>
    <returnValueBindings name="OutValue_1" objectPath="CatalogOrganizationDomain"/>
  </nodes>
<!--@Location 27,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode_aAbdYOPNEeaUwa18p3ZmLQ" strict="true"
      name="GetCatalogCategoryBO" callMode="Private">
    <nodeSuccessors name="next" next="GetCategoryByUUID_aAegsOPNEeaUwa18p3ZmLQ"/>
    <parameters name="CatalogBORepository" type="com.intershop.component.catalog.capi.CatalogBORepository"/>
    <parameters name="CatalogCategoryID" type="java.lang.String"/>
  </nodes>
<!--@Location 27,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCategoryByUUID_aAegsOPNEeaUwa18p3ZmLQ">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetCategoryByUUID.xml"/>
    <nodeSuccessors name="next" next="GetCatalogBOByCatalogRepositoryBOID_aAfHwOPNEeaUwa18p3ZmLQ"/>
<!--@BendPoints 57,3-->
    <nodeSuccessors name="pipelet_error" next="JoinNode_aAcEcOPNEeaUwa18p3ZmLQ"/>
  </nodes>
<!--@Location 27,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCatalogBOByCatalogRepositoryBOID_aAfHwOPNEeaUwa18p3ZmLQ">
    <pipelet href="enfinity:/bc_catalog/pipelets/GetCatalogBOByCatalogRepositoryBOID.xml"/>
    <nodeSuccessors name="next" next="GetCatalogCategoryBOByID_aAYaEOPNEeaUwa18p3ZmLQ"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode_aAcEcOPNEeaUwa18p3ZmLQ"/>
    <parameterBindings name="CatalogRepositoryBOID" objectPath="Category:DomainID"/>
  </nodes>
<!--@Location 27,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCatalogCategoryBOByID_aAYaEOPNEeaUwa18p3ZmLQ">
    <pipelet href="enfinity:/bc_catalog/pipelets/GetCatalogCategoryBOByID.xml"/>
    <nodeSuccessors name="next" next="EndNode_aAdSkOPNEeaUwa18p3ZmLQ"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode_aAZoMOPNEeaUwa18p3ZmLQ"/>
    <parameterBindings name="ID" objectPath="Category:UUID"/>
  </nodes>
<!--@Location 27,4-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode_aAdSkOPNEeaUwa18p3ZmLQ" strict="true">
    <returnValues name="CatalogCategoryBO" type="com.intershop.component.catalog.capi.CatalogCategoryBO"/>
  </nodes>
<!--@Location 28,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode_aAZoMOPNEeaUwa18p3ZmLQ">
    <nodeSuccessors name="next" next="EndNode_aAWk4OPNEeaUwa18p3ZmLQ"/>
  </nodes>
<!--@Location 28,4-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode_aAWk4OPNEeaUwa18p3ZmLQ" name="ERROR"
      strict="true"/>
<!--@Location 28,2-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode_aAcEcOPNEeaUwa18p3ZmLQ">
    <nodeSuccessors name="next" next="JoinNode_aAZoMOPNEeaUwa18p3ZmLQ"/>
  </nodes>
<!--@Location 1,8-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode1" strict="true" name="GetMasterRepository"
      callMode="Private">
<!--@BendPoints 3,18-->
    <nodeSuccessors name="next" next="GetRepository4"/>
<!--The organizational domain to retrieve the repository for.-->
    <parameters name="OrganizationDomain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 1,9-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetRepository4">
    <configurationValues name="CustomRepositoryTypeCode" value="21"/>
    <configurationValues name="Type" value="Custom Repository"/>
    <pipelet href="enfinity:/bc_mvc/pipelets/GetRepository.xml"/>
<!--@BendPoints 3,20-->
    <nodeSuccessors name="next" next="EndNode3"/>
    <returnValueBindings name="Repository" objectPath="MasterRepository"/>
  </nodes>
<!--@Location 1,10-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode3" strict="true">
    <returnValues name="MasterRepository" type="com.intershop.component.mvc.capi.catalog.Repository"/>
  </nodes>
<!--@Location 11,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start4" name="New">
    <nodeSuccessors name="next" next="GetLocale4"/>
  </nodes>
<!--@Location 11,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetLocale4">
    <configurationValues name="LocaleFallback" value="Request Locale"/>
    <pipelet href="enfinity:/core/pipelets/GetLocale.xml"/>
    <nodeSuccessors name="next" next="Join5"/>
  </nodes>
<!--@Location 23,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode0" name="Remove">
    <nodeSuccessors name="next" next="GetCatalogByUUID3"/>
  </nodes>
<!--@Location 23,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCatalogByUUID3">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetCatalogByUUID.xml"/>
    <nodeSuccessors name="next" next="CallNode10"/>
<!--@BendPoints 49,3-->
    <nodeSuccessors name="pipelet_error" next="JoinNode10"/>
    <parameterBindings name="CatalogUUID" objectPath="CatalogUUID"/>
  </nodes>
<!--@Location 23,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode10">
    <nodeSuccessors name="next" next="DecisionNode1"/>
    <nodeSuccessors name="ERROR" next="JoinNode10"/>
    <startNode referencedName="ProcessCatalog-GetSharedCatalogs"/>
  </nodes>
<!--@Location 23,3-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode1" conditionKey="SharedCatalogs"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="JoinNode12"/>
    <nodeSuccessors name="decision_no" next="KeyMapper0"/>
  </nodes>
<!--@Location 24,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode12">
    <nodeSuccessors name="next" next="DecisionNode5"/>
  </nodes>
<!--@Location 24,4-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode5" conditionKey="navigateToCatalogList"
      operator="undef">
<!--@BendPoints 49,10-->
    <nodeSuccessors name="decision_yes" next="DecisionNode6"/>
<!--@BendPoints 51,9-->
    <nodeSuccessors name="decision_no" next="JoinNode9"/>
  </nodes>
<!--@Location 24,5-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode6" conditionKey="delete">
    <nodeSuccessors name="decision_yes" next="JumpNode2"/>
    <nodeSuccessors name="decision_no" next="JoinNode9"/>
  </nodes>
<!--@Location 24,6-->
  <nodes xsi:type="pipeline:JumpNode" nodeID="JumpNode2">
    <startNode referencedName="ViewCatalog-Edit"/>
  </nodes>
<!--@Location 25,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode9">
    <nodeSuccessors name="next" next="JumpNode1"/>
  </nodes>
<!--@Location 25,6-->
  <nodes xsi:type="pipeline:JumpNode" nodeID="JumpNode1">
    <startNode referencedName="ViewCatalogList-ListAll"/>
  </nodes>
<!--@Location 23,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper0">
    <configurationValues name="ValueType" value="Form Value"/>
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="CallNode0"/>
    <parameterBindings name="InValue_1" constant="ViewCatalog"/>
    <parameterBindings name="InValue_2" constant="RemoveCatalog"/>
    <parameterBindings name="InValue_3" constant="Catalog"/>
    <parameterBindings name="InValue_4" constant="Catalog"/>
    <parameterBindings name="InValue_5" constant="Deleting catalog"/>
    <parameterBindings name="InValue_6" constant="OrganizationDomain"/>
    <parameterBindings name="InValue_7" objectPath="OrganizationDomain:DomainID"/>
    <returnValueBindings name="OutValue_1" objectPath="JobPipelineName"/>
    <returnValueBindings name="OutValue_2" objectPath="JobPipelineStartNode"/>
    <returnValueBindings name="OutValue_3" objectPath="JobName"/>
    <returnValueBindings name="OutValue_4" objectPath="JobNamePrefix"/>
    <returnValueBindings name="OutValue_5" objectPath="ProcessDescription"/>
    <returnValueBindings name="OutValue_6" objectPath="OrgDomain"/>
    <returnValueBindings name="OutValue_7" objectPath="OrgDomainID"/>
  </nodes>
<!--@Location 23,5-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode0" callModePermissions="Private">
    <nodeSuccessors name="next" next="JumpNode0"/>
    <startNode referencedName="ViewProcessList-CreateProcess"/>
  </nodes>
<!--@Location 23,6-->
  <nodes xsi:type="pipeline:JumpNode" nodeID="JumpNode0">
    <startNode referencedName="ViewProcessList-ListAll"/>
  </nodes>
<!--@Location 24,2-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode10">
    <nodeSuccessors name="next" next="JoinNode12"/>
  </nodes>
<!--@Location 19,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start7" name="RemoveCatalog">
    <nodeSuccessors name="next" next="DecisionNode0"/>
  </nodes>
<!--@Location 19,1-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode0" conditionKey="JobConfigurationUUID">
    <nodeSuccessors name="decision_yes" next="GetJobConfiguration0"/>
<!--@BendPoints 41,3-->
    <nodeSuccessors name="decision_no" next="JoinNode4"/>
  </nodes>
<!--@Location 19,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetJobConfiguration0">
    <pipelet href="enfinity:/core/pipelets/GetJobConfiguration.xml"/>
    <nodeSuccessors name="next" next="GetCatalogByUUID0"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode4"/>
    <parameterBindings name="JobUUID" objectPath="JobConfigurationUUID"/>
  </nodes>
<!--@Location 19,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCatalogByUUID0">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetCatalogByUUID.xml"/>
    <nodeSuccessors name="next" next="GetDomainByUUID1"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode5"/>
    <parameterBindings name="CatalogUUID" objectPath="CatalogUUID"/>
  </nodes>
<!--@Location 19,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetDomainByUUID1">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetDomainByUUID.xml"/>
    <nodeSuccessors name="next" next="CallNode3"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode6"/>
    <parameterBindings name="DomainUUID" objectPath="OrgDomainID"/>
    <returnValueBindings name="Domain" objectPath="OrganizationDomain"/>
  </nodes>
<!--@Location 19,5-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode3">
    <nodeSuccessors name="next" next="CallNode1"/>
    <parameterBindings name="OrganizationDomain" objectPath="OrganizationDomain"/>
    <startNode referencedName="ViewCatalog-GetMasterRepository"/>
  </nodes>
<!--@Location 19,6-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode1">
    <nodeSuccessors name="next" next="Call2"/>
    <parameterBindings name="ContextObject" objectPath="Catalog:Root"/>
    <parameterBindings name="Domain" objectPath="MasterRepository:RepositoryDomain"/>
    <parameterBindings name="Site" objectPath="MasterRepository:RepositoryDomain:Site"/>
    <startNode referencedName="ProcessPageletEntryPoint-DeletePageletEntryPointsByObject"/>
  </nodes>
<!--@Location 19,7-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call2">
    <nodeSuccessors name="next" next="JoinNode13"/>
    <nodeSuccessors name="ERROR" next="JoinNode1"/>
    <startNode referencedName="ProcessCatalog-RemoveCatalog"/>
  </nodes>
<!--@Location 19,8-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode13">
    <nodeSuccessors name="next" next="EndNode0"/>
  </nodes>
<!--@Location 19,9-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode0"/>
<!--@Location 20,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode1">
<!--@BendPoints 41,17-->
    <nodeSuccessors name="next" next="JoinNode13"/>
  </nodes>
<!--@Location 20,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode6">
    <nodeSuccessors name="next" next="JoinNode1"/>
  </nodes>
<!--@Location 20,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode5">
    <nodeSuccessors name="next" next="JoinNode6"/>
  </nodes>
<!--@Location 20,2-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode4">
    <nodeSuccessors name="next" next="JoinNode5"/>
  </nodes>
<!--@Location 13,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start6" name="Update">
    <nodeSuccessors name="next" next="GetCatalogByUUID2"/>
  </nodes>
<!--@Location 13,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCatalogByUUID2">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetCatalogByUUID.xml"/>
    <nodeSuccessors name="next" next="GetLocale3"/>
  </nodes>
<!--@Location 13,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetLocale3">
    <configurationValues name="LocaleFallback" value="Request Locale"/>
    <pipelet href="enfinity:/core/pipelets/GetLocale.xml"/>
    <nodeSuccessors name="next" next="GetWebForm1"/>
  </nodes>
<!--@Location 13,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetWebForm1">
    <configurationValues name="webform-id" value="RegFormEditCatalog"/>
    <pipelet href="enfinity:/core/pipelets/GetWebForm.xml"/>
    <nodeSuccessors name="next" next="UpdateWebForm1"/>
    <nodeSuccessors name="pipelet_error" next="Join2"/>
    <parameterBindings name="WebForm" objectPath="RegFormEditCatalog"/>
    <returnValueBindings name="WebForm" objectPath="RegFormEditCatalog"/>
  </nodes>
<!--@Location 13,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateWebForm1">
    <configurationValues name="mode" value="update"/>
    <configurationValues name="webform-id" value="RegFormEditCatalog"/>
    <pipelet href="enfinity:/core/pipelets/UpdateWebForm.xml"/>
    <nodeSuccessors name="next" next="CallNode8"/>
    <parameterBindings name="WebForm" objectPath="RegFormEditCatalog"/>
  </nodes>
<!--@Location 13,5-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode8">
    <nodeSuccessors name="next" next="CallNode11"/>
    <nodeSuccessors name="ERROR" next="Join16"/>
    <parameterBindings name="ExtensibleObject" objectPath="Catalog"/>
    <parameterBindings name="ShowInMenu" objectPath="RegFormEditCatalog:ShowInMenu:Value"/>
    <startNode referencedName="This:UpdateShowInMenu"/>
  </nodes>
<!--@Location 13,6-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode11">
<!--@BendPoints 27,14-->
    <nodeSuccessors name="next" next="ValidateWebForm1"/>
    <nodeSuccessors name="ERROR" next="Join16"/>
    <parameterBindings name="ExtensibleObject" objectPath="Catalog:getRoot"/>
    <parameterBindings name="ShowInMenu" objectPath="RegFormEditCatalog:ShowInMenu:Value"/>
    <startNode referencedName="ViewCatalog-UpdateShowInMenu"/>
  </nodes>
<!--@Location 13,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ValidateWebForm1">
    <pipelet href="enfinity:/core/pipelets/ValidateWebForm.xml"/>
    <nodeSuccessors name="next" next="KeyMapper2"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode14"/>
    <parameterBindings name="WebForm" objectPath="RegFormEditCatalog"/>
  </nodes>
<!--@Location 13,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper2">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="CallNode7" action="begin"/>
    <parameterBindings name="InValue_1" objectPath="RegFormEditCatalog:DisplayName:Value"/>
    <returnValueBindings name="OutValue_1" objectPath="DisplayName"/>
  </nodes>
<!--@Location 13,9-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode7">
    <nodeSuccessors name="next" next="CreateForm3" action="commit"/>
    <startNode referencedName="ProcessCatalog-UpdateCatalog"/>
  </nodes>
<!--@Location 13,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateForm3">
    <configurationValues name="FormName" value="SQDForm"/>
    <configurationValues name="FormResource" value="SearchQueryDefinition"/>
    <pipelet href="enfinity:/core/pipelets/CreateForm.xml"/>
<!--@BendPoints 27,22-->
    <nodeSuccessors name="next" next="ValidateForm1"/>
    <parameterBindings name="CurrentDomain" objectPath="CurrentDomain"/>
    <returnValueBindings name="Form" objectPath="SQDForm"/>
  </nodes>
<!--@Location 13,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ValidateForm1">
    <pipelet href="enfinity:/core/pipelets/ValidateForm.xml"/>
<!--@BendPoints 27,24-->
    <nodeSuccessors name="next" next="CallNode5"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode11"/>
    <parameterBindings name="Form" objectPath="SQDForm"/>
  </nodes>
<!--@Location 13,12-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode5">
    <nodeSuccessors name="next" next="CallNode6"/>
    <parameterBindings name="Category" objectPath="Catalog:Root"/>
    <parameterBindings name="Repository" objectPath="MasterRepository"/>
    <startNode referencedName="ProcessCategoryProductFilter-UpdateProductFilter"/>
  </nodes>
<!--@Location 13,13-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode6">
<!--@BendPoints 27,28-->
    <nodeSuccessors name="next" next="Jump7"/>
    <startNode referencedName="ProcessChannelCategorySorting-UpdateProductSorting"/>
  </nodes>
<!--@Location 13,14-->
  <nodes xsi:type="pipeline:JumpNode" nodeID="Jump7">
    <startNode referencedName="ViewCatalog-Edit"/>
  </nodes>
<!--@Location 4,8-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode2" strict="true" name="UpdateShowInMenu"
      callMode="Private">
<!--@BendPoints 9,18-->
    <nodeSuccessors name="next" next="DecisionNode2"/>
    <parameters name="ShowInMenu" type="java.lang.String" optional="true"/>
<!--The extensible object to set the custom attribute for.-->
    <parameters name="ExtensibleObject" type="com.intershop.beehive.core.capi.domain.ExtensibleObject"/>
  </nodes>
<!--@Location 4,9-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode2" conditionKey="ShowInMenu"
      operator="str_empty">
<!--@BendPoints 9,20-->
    <nodeSuccessors name="decision_yes" next="RemoveCustomAttribute1"/>
<!--@BendPoints 11,19-->
    <nodeSuccessors name="decision_no" next="UpdateCustomAttribute1"/>
  </nodes>
<!--@Location 4,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveCustomAttribute1">
    <configurationValues name="DefaultAttributeName" value="ShowInMenu"/>
    <pipelet href="enfinity:/core/pipelets/RemoveCustomAttribute.xml"/>
    <nodeSuccessors name="next" next="JoinNode7"/>
    <parameterBindings name="AttributeName" nullBinding="true"/>
    <parameterBindings name="LocaleInformation" nullBinding="true"/>
  </nodes>
<!--@Location 4,11-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode7">
    <nodeSuccessors name="next" next="DecisionNode4"/>
  </nodes>
<!--@Location 4,12-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode4" conditionKey="ExtensibleObject:isProxy"
      operator="str_eq" conditionValue="false">
    <nodeSuccessors name="decision_yes" next="KeyMapper4"/>
<!--@BendPoints 15,25-->
    <nodeSuccessors name="decision_no" next="JoinNode2"/>
  </nodes>
<!--@Location 4,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper4">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="CallNode4"/>
    <parameterBindings name="InValue_1" objectPath="ExtensibleObject"/>
    <returnValueBindings name="OutValue_1" objectPath="Catalog"/>
  </nodes>
<!--@Location 4,14-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode4">
<!--@BendPoints 9,30-->
    <nodeSuccessors name="next" next="LoopNode1"/>
    <startNode referencedName="ProcessCatalog-GetSharedCatalogs"/>
  </nodes>
<!--@Location 4,15-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode1" loop="SharedCatalogs">
    <nodeSuccessors name="next" next="JoinNode2"/>
    <entry key="Proxy">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode3"/>
    </entry>
  </nodes>
<!--@Location 4,16-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode3" conditionKey="ShowInMenu"
      operator="str_empty">
    <nodeSuccessors name="decision_yes" next="RemoveCustomAttribute2"/>
<!--@BendPoints 11,33-->
    <nodeSuccessors name="decision_no" next="UpdateCustomAttribute2"/>
  </nodes>
<!--@Location 4,17-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveCustomAttribute2">
    <configurationValues name="DefaultAttributeName" value="ShowInMenu"/>
    <pipelet href="enfinity:/core/pipelets/RemoveCustomAttribute.xml"/>
    <nodeSuccessors name="next" next="JoinNode3"/>
    <parameterBindings name="AttributeName" nullBinding="true"/>
    <parameterBindings name="ExtensibleObject" objectPath="Proxy"/>
    <parameterBindings name="LocaleInformation" nullBinding="true"/>
  </nodes>
<!--@Location 4,18-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode3">
<!--@BendPoints 8,37 8,31-->
    <nodeSuccessors name="next" next="LoopNode1_Entry"/>
  </nodes>
<!--@Location 5,17-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateCustomAttribute2">
    <configurationValues name="DefaultAttributeName" value="ShowInMenu"/>
    <configurationValues name="DefaultAttributeType" value="String"/>
    <configurationValues name="DefaultAttributeValue" value="True"/>
    <pipelet href="enfinity:/core/pipelets/UpdateCustomAttribute.xml"/>
<!--@BendPoints 11,37-->
    <nodeSuccessors name="next" next="JoinNode3"/>
<!--@BendPoints 12,35-->
    <nodeSuccessors name="pipelet_error" next="EndNode4"/>
    <parameterBindings name="AttributeName" nullBinding="true"/>
    <parameterBindings name="AttributeType" nullBinding="true"/>
    <parameterBindings name="AttributeValue" nullBinding="true"/>
    <parameterBindings name="ExtensibleObject" objectPath="Proxy"/>
    <parameterBindings name="LocaleInformation" nullBinding="true"/>
  </nodes>
<!--@Location 6,17-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode4" name="ERROR" strict="true"/>
<!--@Location 7,15-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode2">
    <nodeSuccessors name="next" next="EndNode1"/>
  </nodes>
<!--@Location 7,19-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode1" strict="true"/>
<!--@Location 5,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateCustomAttribute1">
    <configurationValues name="DefaultAttributeName" value="ShowInMenu"/>
    <configurationValues name="DefaultAttributeType" value="String"/>
    <configurationValues name="DefaultAttributeValue" value="True"/>
    <pipelet href="enfinity:/core/pipelets/UpdateCustomAttribute.xml"/>
<!--@BendPoints 11,23-->
    <nodeSuccessors name="next" next="JoinNode7"/>
<!--@BendPoints 12,21-->
    <nodeSuccessors name="pipelet_error" next="EndNode2"/>
    <parameterBindings name="AttributeName" nullBinding="true"/>
    <parameterBindings name="AttributeType" nullBinding="true"/>
    <parameterBindings name="AttributeValue" nullBinding="true"/>
    <parameterBindings name="LocaleInformation" nullBinding="true"/>
  </nodes>
<!--@Location 6,10-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode2" name="ERROR" strict="true"/>
</pipeline:Pipeline>
