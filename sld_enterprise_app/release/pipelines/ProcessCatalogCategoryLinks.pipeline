<?xml version="1.0" encoding="UTF-8"?>
<!--handles processes dealing with catalogCategoryLinks
@Group Catalog-->

<pipeline:Pipeline xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:pipeline="http://www.intershop.de/pipeline/2010"
    name="ProcessCatalogCategoryLinks" type="process">
<!--@Location 16,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode16" strict="true" name="CategoryIncomingLinkConfigurations"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode18"/>
    <parameters name="ChannelID" type="java.lang.String" optional="true"/>
    <parameters name="CategoryIncomingLinkTypeSummaryIter" type="java.util.Iterator&lt;com.intershop.component.mvc.capi.linktype.LinkTypeSummary>"/>
  </nodes>
<!--@Location 16,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode18">
    <nodeSuccessors name="next" next="CallNode21"/>
<!--@BendPoints 35,5-->
    <nodeSuccessors name="Error" next="EndNode25"/>
    <startNode referencedName="ProcessLinkTypeSummaryConfiguration-GetCategoryDomains"/>
    <returnValueBindings name="CategoryDomainID" objectPath="CatalogOwningDomainID"/>
  </nodes>
<!--@Location 16,3-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode21">
    <nodeSuccessors name="next" next="CallNode19"/>
    <startNode referencedName="ProcessLinkTypeSummaryConfiguration-CategoryLinkGroupConfigurations"/>
    <returnValueBindings name="LinkTypeSummaryIter" objectPath="CategoryIncomingLinkTypeSummaryIter"/>
    <returnValueBindings name="LinkTypeSummaryVector" objectPath="CategoryIncomingLinkTypeSummaryVector"/>
  </nodes>
<!--@Location 16,4-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode19">
    <nodeSuccessors name="next" next="CallNode20"/>
    <parameterBindings name="CategoryLinkTypeSummaryIter" objectPath="CategoryIncomingLinkTypeSummaryIter"/>
    <startNode referencedName="ProcessLinkTypeSummaryConfiguration-SortCategoryLinkConfigurations"/>
    <returnValueBindings name="CategoryLinkTypeSummaryIter" objectPath="CategoryIncomingLinkTypeSummaryIter"/>
  </nodes>
<!--@Location 16,5-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode20">
    <nodeSuccessors name="next" next="EndNode24"/>
    <parameterBindings name="LinkTypeSummaryVector" objectPath="CategoryIncomingLinkTypeSummaryVector"/>
    <startNode referencedName="ProcessLinkTypeSummaryConfiguration-DetermineTypeCodeNames"/>
  </nodes>
<!--@Location 16,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode24" strict="true">
    <returnValues name="CategoryIncomingLinkTypeSummaryIter" type="java.util.Iterator"
        optional="true"/>
    <returnValues name="CategoryIncomingLinkTypeSummaryVector" type="java.util.Vector"
        optional="true"/>
    <returnValues name="TypeCodeGroup" type="java.lang.String" optional="true"/>
    <returnValues name="TypeCodeNames" type="com.intershop.beehive.foundation.util.ResettableIterator"
        optional="true"/>
  </nodes>
<!--@Location 17,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode25" name="Error" strict="true"/>
<!--@Location 5,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode3" strict="true" name="CreateCategoryLinks"
      callMode="Private">
    <nodeSuccessors name="next" next="GetCategoryByUUID2"/>
    <parameters name="SourceCategoryID" type="java.lang.String"/>
    <parameters name="TargetCategoryIDs" type="java.util.Iterator"/>
    <parameters name="TypeCodeName" type="java.lang.String"/>
<!--The domain in which the links will be created. The parameter is not made mandatory for backwards compatibility. If it is not provided there will be no error, but no links will be created either.-->
    <parameters name="LinkDomain" type="com.intershop.beehive.core.capi.domain.Domain"
        optional="true"/>
  </nodes>
<!--@Location 5,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCategoryByUUID2">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetCategoryByUUID.xml"/>
    <nodeSuccessors name="next" next="DecisionNode12"/>
    <parameterBindings name="CatalogCategoryID" objectPath="SourceCategoryID"/>
    <returnValueBindings name="Category" objectPath="SourceCategory"/>
  </nodes>
<!--@Location 5,3-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode12" conditionKey="LinkDomain">
    <nodeSuccessors name="decision_yes" next="CallNode0"/>
<!--@BendPoints 13,7-->
    <nodeSuccessors name="decision_no" next="LogMessage0"/>
  </nodes>
<!--@Location 5,4-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode0">
    <nodeSuccessors name="next" next="LoopNode1"/>
    <parameterBindings name="CatalogCategory" objectPath="SourceCategory"/>
    <startNode referencedName="ProcessCatalogCategoryLinks-GetLinkedCategoryIDMap"/>
  </nodes>
<!--@Location 5,5-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode1" loop="TargetCategoryIDs">
    <nodeSuccessors name="next" next="JoinNode12"/>
    <entry key="TargetCategoryID">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode8"/>
    </entry>
  </nodes>
<!--@Location 5,6-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode8" conditionKey="LinkedCategoryUUIDMap">
    <nodeSuccessors name="decision_yes" next="GetEntryFromMap0"/>
<!--@BendPoints 12,13 12,19-->
    <nodeSuccessors name="decision_no" next="CallNode1"/>
  </nodes>
<!--@Location 5,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetEntryFromMap0">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetEntryFromMap.xml"/>
    <nodeSuccessors name="next" next="DecisionNode0"/>
    <parameterBindings name="InMap" objectPath="LinkedCategoryUUIDMap"/>
    <parameterBindings name="Key" objectPath="TargetCategoryID"/>
    <returnValueBindings name="Value" objectPath="ExistingLink"/>
  </nodes>
<!--@Location 5,8-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode0" conditionKey="ExistingLink"
      operator="undef">
    <nodeSuccessors name="decision_yes" next="CallNode1"/>
    <nodeSuccessors name="decision_no" next="JoinNode0"/>
  </nodes>
<!--@Location 5,9-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode1">
    <nodeSuccessors name="next" next="CallNode12"/>
<!--@BendPoints 11,20 7,20-->
    <nodeSuccessors name="Error" next="JoinNode0"/>
    <parameterBindings name="Domain" objectPath="LinkDomain"/>
    <startNode referencedName="ProcessCatalogCategoryLinks-CreateLink"/>
  </nodes>
<!--@Location 4,9-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode12">
<!--@BendPoints 7,19-->
    <nodeSuccessors name="next" next="JoinNode0"/>
    <parameterBindings name="LinkTypeName" objectPath="TypeCodeName"/>
    <startNode referencedName="ProcessCatalogCategoryLinks-UpdatePositions"/>
  </nodes>
<!--@Location 3,8-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode0">
<!--@BendPoints 7,11-->
    <nodeSuccessors name="next" next="LoopNode1_Entry"/>
  </nodes>
<!--@Location 6,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode12">
    <nodeSuccessors name="next" next="EndNode3"/>
  </nodes>
<!--@Location 6,6-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode3" strict="true"/>
<!--@Location 6,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="LogMessage0">
    <configurationValues name="Level" value="Warn"/>
    <pipelet href="enfinity:/core/pipelets/LogMessage.xml"/>
    <nodeSuccessors name="next" next="JoinNode12"/>
    <parameterBindings name="MessageText" objectPath="No domain was provided for the creation of category to category links. The links will not be created."/>
  </nodes>
<!--@Location 38,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode14" strict="true" name="CreateIncomingCategoryLinks"
      callMode="Private">
    <nodeSuccessors name="next" next="GetCategoryByUUID3"/>
    <parameters name="TargetCategoryID" type="java.lang.String"/>
    <parameters name="SourceCategoryIDs" type="java.util.Iterator"/>
    <parameters name="TypeCodeName" type="java.lang.String"/>
    <parameters name="LinkDomain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 38,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCategoryByUUID3">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetCategoryByUUID.xml"/>
    <nodeSuccessors name="next" next="CallNode17"/>
<!--@BendPoints 79,5-->
    <nodeSuccessors name="pipelet_error" next="JoinNode27"/>
    <parameterBindings name="CatalogCategoryID" objectPath="TargetCategoryID"/>
    <returnValueBindings name="Category" objectPath="TargetCategory"/>
  </nodes>
<!--@Location 38,3-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode17">
    <nodeSuccessors name="next" next="LoopNode9"/>
    <nodeSuccessors name="Error" next="JoinNode27"/>
    <startNode referencedName="This:GetIncomingLinkedCategoryIDMap"/>
  </nodes>
<!--@Location 38,4-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode9" loop="SourceCategoryIDs">
    <nodeSuccessors name="next" next="EndNode18"/>
    <entry key="SourceCategoryID">
<!--@BendPoints 77,10-->
      <nodeSuccessors name="loop_entry_next" next="GetCategoryByUUID0"/>
    </entry>
  </nodes>
<!--@Location 38,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCategoryByUUID0">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetCategoryByUUID.xml"/>
    <nodeSuccessors name="next" next="DecisionNode19"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode28"/>
    <parameterBindings name="CatalogCategoryID" objectPath="SourceCategoryID"/>
    <returnValueBindings name="Category" objectPath="SourceCategory"/>
  </nodes>
<!--@Location 38,6-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode19" conditionKey="LinkedCategoryUUIDMap">
    <nodeSuccessors name="decision_yes" next="GetEntryFromMap1"/>
<!--@BendPoints 78,13 78,19-->
    <nodeSuccessors name="decision_no" next="CallNode30"/>
  </nodes>
<!--@Location 38,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetEntryFromMap1">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetEntryFromMap.xml"/>
    <nodeSuccessors name="next" next="DecisionNode20"/>
    <parameterBindings name="InMap" objectPath="LinkedCategoryUUIDMap"/>
    <parameterBindings name="Key" objectPath="SourceCategoryID"/>
    <returnValueBindings name="Value" objectPath="ExistingLink"/>
  </nodes>
<!--@Location 38,8-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode20" conditionKey="ExistingLink"
      operator="undef">
    <nodeSuccessors name="decision_yes" next="CallNode30"/>
<!--@BendPoints 73,17-->
    <nodeSuccessors name="decision_no" next="JoinNode28"/>
  </nodes>
<!--@Location 38,9-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode30">
    <nodeSuccessors name="next" next="CallNode31"/>
<!--@BendPoints 77,20 73,20-->
    <nodeSuccessors name="Error" next="JoinNode28"/>
    <parameterBindings name="Domain" objectPath="LinkDomain"/>
    <startNode referencedName="ProcessCatalogCategoryLinks-CreateLink"/>
  </nodes>
<!--@Location 37,9-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode31">
<!--@BendPoints 73,19-->
    <nodeSuccessors name="next" next="JoinNode28"/>
    <parameterBindings name="LinkTypeName" objectPath="TypeCodeName"/>
    <startNode referencedName="ProcessCatalogCategoryLinks-UpdatePositions"/>
  </nodes>
<!--@Location 36,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode28">
<!--@BendPoints 73,9-->
    <nodeSuccessors name="next" next="LoopNode9_Entry"/>
  </nodes>
<!--@Location 39,4-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode18" strict="true"/>
<!--@Location 39,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode27">
    <nodeSuccessors name="next" next="EndNode20"/>
  </nodes>
<!--@Location 40,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode20" name="Error"/>
<!--@Location 7,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode1" strict="true" name="CreateLink"
      callMode="Private">
    <nodeSuccessors name="next" next="GetCategoryByUUID1"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="SourceCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
    <parameters name="TargetCategoryID" type="java.lang.String"/>
    <parameters name="TypeCodeName" type="java.lang.String"/>
<!--@deprecated. RepositoryID is not needed. The Domain parameter is used when creating the link.-->
    <parameters name="RepositoryID" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 7,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCategoryByUUID1">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetCategoryByUUID.xml"/>
    <nodeSuccessors name="next" next="Pipelet1"/>
<!--@BendPoints 17,5-->
    <nodeSuccessors name="pipelet_error" next="EndNode2"/>
    <parameterBindings name="CatalogCategoryID" objectPath="TargetCategoryID"/>
    <returnValueBindings name="Category" objectPath="TargetCategory"/>
  </nodes>
<!--@Location 7,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet1">
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateCatalogCategoryLink.xml"/>
    <nodeSuccessors name="next" next="EndNode1"/>
    <parameterBindings name="TypeCode" objectPath="TypeCodeName"/>
  </nodes>
<!--@Location 7,4-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode1" strict="true">
    <returnValues name="CategoryLink" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategoryLink"/>
  </nodes>
<!--@Location 8,4-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode2" name="Error" strict="true"/>
<!--@Location 1,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode2" strict="true" name="GetCategoryLinks"
      callMode="Private">
    <nodeSuccessors name="next" next="Pipelet2"/>
    <parameters name="TypeCodeNames" type="java.util.Iterator"/>
    <parameters name="SourceCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
    <parameters name="SelectedLinkType" type="java.lang.String" optional="true"/>
<!--The link for which the links are visible.-->
    <parameters name="LinkDomain" type="com.intershop.beehive.core.capi.domain.Domain"
        optional="true"/>
  </nodes>
<!--@Location 1,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet2">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
    <nodeSuccessors name="next" next="LoopNode5"/>
    <parameterBindings name="InVector" nullBinding="true"/>
    <parameterBindings name="Object" nullBinding="true"/>
    <parameterBindings name="Objects" nullBinding="true"/>
    <returnValueBindings name="Iterator" objectPath="CategoryLinksIterator"/>
    <returnValueBindings name="OutVector" objectPath="CategoryLinks"/>
  </nodes>
<!--@Location 1,3-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode5" loop="TypeCodeNames">
    <nodeSuccessors name="next" next="EndNode8"/>
    <entry key="TypeCodeName">
<!--@BendPoints 3,8-->
      <nodeSuccessors name="loop_entry_next" next="DecisionNode2"/>
    </entry>
  </nodes>
<!--@Location 1,4-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode2" conditionKey="SelectedLinkType">
    <nodeSuccessors name="decision_yes" next="DecisionNode4"/>
<!--@BendPoints 5,9-->
    <nodeSuccessors name="decision_no" next="JoinNode7"/>
  </nodes>
<!--@Location 1,5-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode4" conditionKey="SelectedLinkType"
      operator="str_empty">
    <nodeSuccessors name="decision_yes" next="JoinNode7"/>
    <nodeSuccessors name="decision_no" next="DecisionNode3"/>
  </nodes>
<!--@Location 2,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode7">
<!--@BendPoints 5,11-->
    <nodeSuccessors name="next" next="JoinNode3"/>
  </nodes>
<!--@Location 2,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode3">
    <nodeSuccessors name="next" next="JoinNode4"/>
  </nodes>
<!--@Location 2,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode4">
    <nodeSuccessors name="next" next="CallNode9"/>
  </nodes>
<!--@Location 2,8-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode9">
    <nodeSuccessors name="next" next="Pipelet10"/>
    <nodeSuccessors name="Error" next="JoinNode15"/>
    <parameterBindings name="LinkTypeName" objectPath="TypeCodeName"/>
    <startNode referencedName="This:GetOutgoingCategoryLinks"/>
    <returnValueBindings name="CategoryLinks" objectPath="PartialCategoryLinks"/>
  </nodes>
<!--@Location 2,9-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet10">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
<!--@BendPoints 5,21-->
    <nodeSuccessors name="next" next="JoinNode5"/>
    <parameterBindings name="InVector" objectPath="CategoryLinks"/>
    <parameterBindings name="Object" nullBinding="true"/>
    <parameterBindings name="Objects" objectPath="PartialCategoryLinks"/>
    <returnValueBindings name="Iterator" objectPath="CategoryLinksIterator"/>
    <returnValueBindings name="OutVector" objectPath="CategoryLinks"/>
  </nodes>
<!--@Location 1,10-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode5">
<!--@BendPoints 2,21 2,7-->
    <nodeSuccessors name="next" next="LoopNode5_Entry"/>
  </nodes>
<!--@Location 1,8-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode15">
    <nodeSuccessors name="next" next="JoinNode5"/>
  </nodes>
<!--@Location 1,6-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode3" conditionKey="SelectedLinkType"
      operator="str_neq" conditionValue="0">
    <nodeSuccessors name="decision_yes" next="DecisionNode1"/>
    <nodeSuccessors name="decision_no" next="JoinNode3"/>
  </nodes>
<!--@Location 1,7-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode1" conditionKey="SelectedLinkType"
      operator="str_neq" conditionItem="TypeCodeName">
    <nodeSuccessors name="decision_yes" next="JoinNode15"/>
    <nodeSuccessors name="decision_no" next="JoinNode4"/>
  </nodes>
<!--@Location 2,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode8" strict="true">
    <returnValues name="CategoryLinksIterator" type="java.util.Iterator"/>
  </nodes>
<!--@Location 20,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode6" strict="true" name="GetCategoryLinks2"
      callMode="Private">
    <nodeSuccessors name="next" next="DecisionNode10"/>
    <parameters name="LinkTypeSummary" type="com.intershop.component.mvc.capi.linktype.LinkTypeSummary"/>
    <parameters name="SourceCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
<!--The domain of the links. The parameter is not mandatory to preserve backwards compatibility. If it is not provided an no links will be returned.-->
    <parameters name="LinkDomain" type="com.intershop.beehive.core.capi.domain.Domain"
        optional="true"/>
  </nodes>
<!--@Location 20,2-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode10" conditionKey="LinkTypeSummary:CategoryLinkAllowed"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="DecisionNode9"/>
<!--@BendPoints 43,5-->
    <nodeSuccessors name="decision_no" next="JoinNode8"/>
  </nodes>
<!--@Location 20,3-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode9" conditionKey="LinkTypeSummary:CategoryLinkAvailable"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="CallNode5"/>
<!--@BendPoints 42,7-->
    <nodeSuccessors name="decision_no" next="JoinNode8"/>
  </nodes>
<!--@Location 20,4-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode5">
    <nodeSuccessors name="next" next="EndNode7"/>
    <nodeSuccessors name="Error" next="JoinNode14"/>
    <parameterBindings name="LinkTypeName" objectPath="LinkTypeSummary:TypeCodeDefinition:Name"/>
    <startNode referencedName="This:GetOutgoingCategoryLinks"/>
  </nodes>
<!--@Location 20,5-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode7" strict="true">
<!--The catalog category links or an empty iterator if no link was found.-->
    <returnValues name="CategoryLinks" type="java.util.Iterator&lt;com.intershop.beehive.xcs.capi.catalog.CatalogCategoryLink>"
        optional="true"/>
  </nodes>
<!--@Location 21,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode14">
    <nodeSuccessors name="next" next="EndNode9"/>
  </nodes>
<!--@Location 21,5-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode9" name="Error" strict="true"/>
<!--@Location 21,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode8">
    <nodeSuccessors name="next" next="JoinNode14"/>
  </nodes>
<!--@Location 28,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode12" strict="true" name="GetIncomingCategoryLinks"
      callMode="Private">
    <nodeSuccessors name="next" next="GetCatalogCategoryLinksByTarget1"/>
    <parameters name="CategoryIncomingLinkTypeSummaryIter" type="java.util.Iterator&lt;com.intershop.component.mvc.capi.linktype.LinkTypeSummary>"/>
    <parameters name="TargetCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
  </nodes>
<!--@Location 28,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCatalogCategoryLinksByTarget1">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetCatalogCategoryLinksByTarget.xml"/>
    <nodeSuccessors name="next" next="LoopNode10"/>
    <nodeSuccessors name="pipelet_error" next="EndNode22"/>
    <returnValueBindings name="IncomingCatalogCategoryLinks" objectPath="AllIncomingCatalogCategoryLinks"/>
  </nodes>
<!--@Location 28,3-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode10" loop="CategoryIncomingLinkTypeSummaryIter">
    <nodeSuccessors name="next" next="EndNode21"/>
    <entry key="CategoryIncomingLinkTypeSummary">
<!--@BendPoints 57,8-->
      <nodeSuccessors name="loop_entry_next" next="ConcatenateStrings0"/>
    </entry>
  </nodes>
<!--@Location 28,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ConcatenateStrings0">
    <configurationValues name="DefaultString0" value="IncomingCatalogCategoryLinks"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/ConcatenateStrings.xml"/>
    <nodeSuccessors name="next" next="GetCatalogCategoryLinksFromIterByTypeCode0"/>
    <parameterBindings name="String1" objectPath="CategoryIncomingLinkTypeSummary:TypeCodeDefinition:Name"/>
    <returnValueBindings name="Concatenated" objectPath="IncomingCatalogCategoryLinksName"/>
  </nodes>
<!--@Location 28,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCatalogCategoryLinksFromIterByTypeCode0">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetCatalogCategoryLinksFromIterByTypeCode.xml"/>
    <nodeSuccessors name="next" next="SetIndirectDictValue0"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode29"/>
    <parameterBindings name="CatalogCategoryLinksIter" objectPath="AllIncomingCatalogCategoryLinks"/>
    <parameterBindings name="TypeCodeName" objectPath="CategoryIncomingLinkTypeSummary:TypeCodeDefinition:Name"/>
  </nodes>
<!--@Location 28,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetIndirectDictValue0">
    <pipelet href="enfinity:/bc_foundation/pipelets/SetIndirectDictValue.xml"/>
    <nodeSuccessors name="next" next="CreateCollectionFromIterator1"/>
    <parameterBindings name="KeyNameHolder" objectPath="IncomingCatalogCategoryLinksName"/>
    <parameterBindings name="MappedEntry" objectPath="FilteredCatalogCategoryLinks"/>
  </nodes>
<!--@Location 28,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateCollectionFromIterator1">
    <pipelet href="enfinity:/bc_foundation/pipelets/CreateCollectionFromIterator.xml"/>
    <nodeSuccessors name="next" next="UpdateLinkTypeSummary0"/>
    <parameterBindings name="ObjectIterator" objectPath="FilteredCatalogCategoryLinks"/>
    <returnValueBindings name="ObjectCollection" objectPath="CategoryIncomingLinksCollection"/>
  </nodes>
<!--@Location 28,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateLinkTypeSummary0">
    <pipelet href="enfinity:/bc_mvc/pipelets/UpdateLinkTypeSummary.xml"/>
<!--@BendPoints 55,17 55,16-->
    <nodeSuccessors name="next" next="JoinNode29"/>
    <parameterBindings name="CategoryLinks" objectPath="CategoryIncomingLinksCollection"/>
    <parameterBindings name="LinkTypeSummary" objectPath="CategoryIncomingLinkTypeSummary"/>
    <parameterBindings name="ProductLinks" nullBinding="true"/>
    <returnValueBindings name="LinkTypeSummaryOut" objectPath="CategoryIncomingLinkTypeSummaryOut"/>
  </nodes>
<!--@Location 27,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode29">
<!--@BendPoints 55,7-->
    <nodeSuccessors name="next" next="LoopNode10_Entry"/>
  </nodes>
<!--@Location 29,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode21" strict="true">
    <returnValues name="CategoryIncomingLinkTypeSummaryIter" type="java.util.Iterator&lt;com.intershop.component.mvc.capi.linktype.LinkTypeSummary>"/>
  </nodes>
<!--@Location 29,2-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode22" name="Error" strict="true"/>
<!--@Location 31,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode11" strict="true" name="GetIncomingLinkedCategoryIDMap"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode14"/>
    <parameters name="TypeCodeName" type="java.lang.String"/>
    <parameters name="TargetCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
  </nodes>
<!--@Location 31,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode14">
    <nodeSuccessors name="next" next="CallNode13"/>
    <nodeSuccessors name="Error" next="EndNode16"/>
    <startNode referencedName="This:GetIncomingLinkedCategoryIDs"/>
    <returnValueBindings name="LinkedCategoryUUIDIterator" objectPath="LinkedCategoryUUIDs"/>
  </nodes>
<!--@Location 31,3-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode13">
    <nodeSuccessors name="next" next="EndNode14"/>
    <parameterBindings name="Items" objectPath="LinkedCategoryUUIDs"/>
    <startNode referencedName="ProcessUtils-CreateMapFromIterator"/>
    <returnValueBindings name="OutMap" objectPath="LinkedCategoryUUIDMap"/>
  </nodes>
<!--@Location 31,4-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode14" strict="true">
    <returnValues name="LinkedCategoryUUIDMap" type="java.util.Map" optional="true"/>
  </nodes>
<!--@Location 32,2-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode16" name="Error"/>
<!--@Location 34,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode9" strict="true" name="GetIncomingLinkedCategoryIDs"
      callMode="Private">
    <nodeSuccessors name="next" next="GetCatalogCategoryLinksByTarget0"/>
    <parameters name="TypeCodeName" type="java.lang.String"/>
    <parameters name="TargetCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
  </nodes>
<!--@Location 34,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCatalogCategoryLinksByTarget0">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetCatalogCategoryLinksByTarget.xml"/>
    <nodeSuccessors name="next" next="AddObjectToVector3"/>
    <nodeSuccessors name="pipelet_error" next="EndNode15"/>
    <returnValueBindings name="IncomingCatalogCategoryLinks" objectPath="AllIncomingCatalogCategoryLinks"/>
  </nodes>
<!--@Location 34,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddObjectToVector3">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
    <nodeSuccessors name="next" next="LoopNode7"/>
    <parameterBindings name="InVector" nullBinding="true"/>
    <parameterBindings name="Object" nullBinding="true"/>
    <parameterBindings name="Objects" nullBinding="true"/>
    <returnValueBindings name="Iterator" objectPath="LinkedCategoryUUIDIterator"/>
    <returnValueBindings name="OutVector" objectPath="LinkedCategoryUUIDs"/>
  </nodes>
<!--@Location 34,4-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode7" loop="AllIncomingCatalogCategoryLinks">
    <nodeSuccessors name="next" next="EndNode17"/>
    <entry key="CategoryLink">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode17"/>
    </entry>
  </nodes>
<!--@Location 34,5-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode17" conditionKey="TypeCodeName"
      operator="str_eq" conditionItem="CategoryLink:TypeCode">
    <nodeSuccessors name="decision_yes" next="AddObjectToVector4"/>
    <nodeSuccessors name="decision_no" next="JoinNode26"/>
  </nodes>
<!--@Location 34,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddObjectToVector4">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
<!--@BendPoints 67,13-->
    <nodeSuccessors name="next" next="JoinNode26"/>
    <parameterBindings name="InVector" objectPath="LinkedCategoryUUIDs"/>
    <parameterBindings name="Object" objectPath="CategoryLink:SourceCategory:UUID"/>
    <returnValueBindings name="Iterator" objectPath="LinkedCategoryUUIDIterator"/>
    <returnValueBindings name="OutVector" objectPath="LinkedCategoryUUIDs"/>
  </nodes>
<!--@Location 33,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode26">
<!--@BendPoints 67,9-->
    <nodeSuccessors name="next" next="LoopNode7_Entry"/>
  </nodes>
<!--@Location 35,4-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode17" strict="true">
    <returnValues name="LinkedCategoryUUIDIterator" type="java.util.Iterator"/>
  </nodes>
<!--@Location 35,2-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode15" name="Error"/>
<!--@Location 10,10-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode5" strict="true" name="GetLinkedCategoryIDMap"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode2"/>
    <parameters name="TypeCodeName" type="java.lang.String"/>
    <parameters name="CatalogCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
<!--The domain for which the links are visible-->
    <parameters name="LinkDomain" type="com.intershop.beehive.core.capi.domain.Domain"
        optional="true"/>
  </nodes>
<!--@Location 10,11-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode2">
    <nodeSuccessors name="next" next="CallNode3"/>
    <startNode referencedName="ProcessCatalogCategoryLinks-GetLinkedCategoryIDs"/>
    <returnValueBindings name="LinkedCategoryUUIDIterator" objectPath="LinkedCategoryUUIDs"/>
  </nodes>
<!--@Location 10,12-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode3">
    <nodeSuccessors name="next" next="EndNode6"/>
    <parameterBindings name="Items" objectPath="LinkedCategoryUUIDs"/>
    <startNode referencedName="ProcessUtils-CreateMapFromIterator"/>
    <returnValueBindings name="OutMap" objectPath="LinkedCategoryUUIDMap"/>
  </nodes>
<!--@Location 10,13-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode6" strict="true">
    <returnValues name="LinkedCategoryUUIDMap" type="java.util.Map" optional="true"/>
  </nodes>
<!--@Location 7,10-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode13" strict="true" name="GetLinkedCategoryIDs"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode7"/>
    <parameters name="TypeCodeName" type="java.lang.String"/>
    <parameters name="CatalogCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
<!--The domain for which the links are visible.-->
    <parameters name="LinkDomain" type="com.intershop.beehive.core.capi.domain.Domain"
        optional="true"/>
  </nodes>
<!--@Location 7,11-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode7">
    <nodeSuccessors name="next" next="AddObjectToVector1"/>
    <parameterBindings name="LinkTypeName" objectPath="TypeCodeName"/>
    <parameterBindings name="SourceCategory" objectPath="CatalogCategory"/>
    <startNode referencedName="This:GetOutgoingCategoryLinks"/>
  </nodes>
<!--@Location 7,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddObjectToVector1">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
    <nodeSuccessors name="next" next="LoopNode3"/>
    <parameterBindings name="InVector" nullBinding="true"/>
    <parameterBindings name="Object" nullBinding="true"/>
    <parameterBindings name="Objects" nullBinding="true"/>
    <returnValueBindings name="Iterator" objectPath="LinkedCategoryUUIDIterator"/>
    <returnValueBindings name="OutVector" objectPath="LinkedCategoryUUIDs"/>
  </nodes>
<!--@Location 7,13-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode3" loop="CategoryLinks">
    <nodeSuccessors name="next" next="EndNode5"/>
    <entry key="CategoryLink">
      <nodeSuccessors name="loop_entry_next" next="AddObjectToVector2"/>
    </entry>
  </nodes>
<!--@Location 7,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddObjectToVector2">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
<!--@BendPoints 13,29 13,27-->
    <nodeSuccessors name="next" next="LoopNode3_Entry"/>
    <parameterBindings name="InVector" objectPath="LinkedCategoryUUIDs"/>
    <parameterBindings name="Object" objectPath="CategoryLink:TargetCategory:UUID"/>
    <returnValueBindings name="Iterator" objectPath="LinkedCategoryUUIDIterator"/>
    <returnValueBindings name="OutVector" objectPath="LinkedCategoryUUIDs"/>
  </nodes>
<!--@Location 8,13-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode5" strict="true">
    <returnValues name="LinkedCategoryUUIDIterator" type="java.util.Iterator"/>
  </nodes>
<!--Returns the outgoing category links of the given category, including all links shared from other repositories.
If for some reason it is not possible to retrieve the links the error connector is used.
@Location 23,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode0" strict="true" visibility="Private"
      name="GetOutgoingCategoryLinks" callMode="Private">
    <nodeSuccessors name="next" next="DecisionNode11"/>
<!--The category for which the outgoing links will be returned.-->
    <parameters name="SourceCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
<!--The domain for which links the returned links should be visible. The links themselves don't have to be in that domain, but could be shared from another one.
If the parameter is not present an empty iterator is returned.-->
    <parameters name="LinkDomain" type="com.intershop.beehive.core.capi.domain.Domain"
        optional="true"/>
<!--The name of the link type.-->
    <parameters name="LinkTypeName" type="java.lang.String"/>
  </nodes>
<!--@Location 23,2-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode11" conditionKey="LinkDomain">
    <nodeSuccessors name="decision_yes" next="GetTypeCodeDefinition0"/>
<!--@BendPoints 51,5-->
    <nodeSuccessors name="decision_no" next="AddObjectToVector0"/>
  </nodes>
<!--@Location 23,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetTypeCodeDefinition0">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetTypeCodeDefinition.xml"/>
    <nodeSuccessors name="next" next="GetCatalogByCategory0"/>
<!--@BendPoints 49,7-->
    <nodeSuccessors name="pipelet_error" next="JoinNode19"/>
    <parameterBindings name="TypeCodeGroup" constant="CatalogCategoryLink"/>
    <parameterBindings name="TypeCodeName" objectPath="LinkTypeName"/>
  </nodes>
<!--@Location 23,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCatalogByCategory0">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetCatalogByCategory.xml"/>
    <nodeSuccessors name="next" next="ExecuteObjectsQuery0"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode19"/>
    <parameterBindings name="CatalogCategory" objectPath="SourceCategory"/>
    <parameterBindings name="OwningDomain" objectPath="LinkDomain"/>
  </nodes>
<!--@Location 23,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExecuteObjectsQuery0">
    <configurationValues name="Datasource" value="default"/>
    <configurationValues name="ParameterName_01" value="Category"/>
    <configurationValues name="ParameterName_02" value="Catalog"/>
    <configurationValues name="ParameterName_03" value="LinkDirection"/>
    <configurationValues name="ParameterName_04" value="TypeCode"/>
    <configurationValues name="QueryName" value="catalog/GetCategoryCategoryLinks"/>
    <pipelet href="enfinity:/core/pipelets/ExecuteObjectsQuery.xml"/>
    <nodeSuccessors name="next" next="JoinNode11"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode13"/>
    <parameterBindings name="ParameterValue_01" objectPath="SourceCategory"/>
    <parameterBindings name="ParameterValue_02" objectPath="Catalog"/>
    <parameterBindings name="ParameterValue_03" constant="outgoing"/>
    <parameterBindings name="ParameterValue_04" objectPath="TypeCodeDefinition:TypeCode"/>
    <returnValueBindings name="SearchResult" objectPath="CategoryLinks"/>
  </nodes>
<!--@Location 23,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode11">
    <nodeSuccessors name="next" next="EndNode12"/>
  </nodes>
<!--@Location 23,8-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode12" strict="true">
<!--The catalog category links or an empty iterator if no link was found.-->
    <returnValues name="CategoryLinks" type="java.util.Iterator&lt;com.intershop.beehive.xcs.capi.catalog.CatalogCategoryLink>"
        optional="true"/>
  </nodes>
<!--@Location 24,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode13">
    <nodeSuccessors name="next" next="EndNode0"/>
  </nodes>
<!--@Location 24,6-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode0" name="Error" strict="true"/>
<!--@Location 24,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode19">
    <nodeSuccessors name="next" next="JoinNode13"/>
  </nodes>
<!--@Location 25,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddObjectToVector0">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
<!--@BendPoints 51,15-->
    <nodeSuccessors name="next" next="JoinNode11"/>
    <parameterBindings name="InVector" nullBinding="true"/>
    <parameterBindings name="Object" nullBinding="true"/>
    <parameterBindings name="Objects" nullBinding="true"/>
    <returnValueBindings name="Iterator" objectPath="CategoryLinks"/>
    <returnValueBindings name="OutVector" nullBinding="true"/>
  </nodes>
<!--@Location 4,10-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode17" strict="true" name="MoveLinkPositions"
      callMode="Private">
    <nodeSuccessors name="next" next="LoopNode8"/>
    <parameters name="TypeCodeNames" type="java.util.Iterator"/>
    <parameters name="SourceCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
    <parameters name="SelectedCategoryLinkUUIDs" type="java.util.Iterator"/>
    <parameters name="moveDirection" type="java.lang.String"/>
<!--The domain for which the links are visible.-->
    <parameters name="LinkDomain" type="com.intershop.beehive.core.capi.domain.Domain"
        optional="true"/>
  </nodes>
<!--@Location 4,11-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode8" loop="TypeCodeNames">
    <nodeSuccessors name="next" next="EndNode19"/>
    <entry key="TypeCodeName">
      <nodeSuccessors name="loop_entry_next" next="CallNode6"/>
    </entry>
  </nodes>
<!--@Location 4,12-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode6">
    <nodeSuccessors name="next" next="Decision1"/>
    <parameterBindings name="LinkTypeName" objectPath="TypeCodeName"/>
    <startNode referencedName="This:GetOutgoingCategoryLinks"/>
  </nodes>
<!--@Location 4,13-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="Decision1" conditionKey="CategoryLinks"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="CallNode16"/>
<!--@BendPoints 10,27 10,31-->
    <nodeSuccessors name="decision_no" next="JoinNode6"/>
  </nodes>
<!--@Location 4,14-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode16">
    <nodeSuccessors name="next" next="JoinNode6"/>
    <parameterBindings name="SelectedObjectUUIDs" objectPath="SelectedCategoryLinkUUIDs"/>
    <parameterBindings name="SortedPositionables" objectPath="CategoryLinks"/>
    <startNode referencedName="ProcessSorting-MovePositions"/>
  </nodes>
<!--@Location 4,15-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode6">
<!--@BendPoints 8,31 8,23-->
    <nodeSuccessors name="next" next="LoopNode8_Entry"/>
  </nodes>
<!--@Location 5,11-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode19"/>
<!--@Location 22,10-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode7" strict="true" name="MoveLinkPositions2"
      callMode="Private">
    <nodeSuccessors name="next" next="LoopNode4"/>
    <parameters name="CategoryLinkTypeSummaryIter" type="java.util.Iterator"/>
    <parameters name="SourceCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
    <parameters name="SelectedCategoryLinkUUIDs" type="java.util.Iterator"/>
    <parameters name="moveDirection" type="java.lang.String"/>
<!--The domain for which the links are visible.-->
    <parameters name="LinkDomain" type="com.intershop.beehive.core.capi.domain.Domain"
        optional="true"/>
  </nodes>
<!--@Location 22,11-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode4" loop="CategoryLinkTypeSummaryIter">
    <nodeSuccessors name="next" next="EndNode10"/>
    <entry key="LinkTypeSummary">
<!--@BendPoints 45,24-->
      <nodeSuccessors name="loop_entry_next" next="DecisionNode5"/>
    </entry>
  </nodes>
<!--@Location 22,12-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode5" conditionKey="LinkTypeSummary:CategoryLinkAllowed"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="DecisionNode6"/>
<!--@BendPoints 47,25-->
    <nodeSuccessors name="decision_no" next="JoinNode16"/>
  </nodes>
<!--@Location 22,13-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode6" conditionKey="LinkTypeSummary:CategoryLinkAvailable"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="CallNode8"/>
    <nodeSuccessors name="decision_no" next="JoinNode16"/>
  </nodes>
<!--@Location 22,14-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode8">
    <nodeSuccessors name="next" next="Decision2"/>
    <nodeSuccessors name="Error" next="JoinNode17"/>
    <parameterBindings name="LinkTypeName" objectPath="LinkTypeSummary:TypeCodeDefinition:Name"/>
    <startNode referencedName="This:GetOutgoingCategoryLinks"/>
  </nodes>
<!--@Location 22,15-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="Decision2" conditionKey="CategoryLinks"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="CreateCollectionFromIterator0"/>
    <nodeSuccessors name="decision_no" next="JoinNode18"/>
  </nodes>
<!--@Location 22,16-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateCollectionFromIterator0">
    <pipelet href="enfinity:/bc_foundation/pipelets/CreateCollectionFromIterator.xml"/>
    <nodeSuccessors name="next" next="LoopNode6"/>
    <parameterBindings name="ObjectIterator" objectPath="CategoryLinks"/>
    <returnValueBindings name="ObjectCollection" objectPath="CategoryLinksCollection"/>
  </nodes>
<!--@Location 22,17-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode6" loop="CategoryLinks">
<!--@BendPoints 46,35 46,41-->
    <nodeSuccessors name="next" next="SortIteratorByComparator0"/>
    <entry key="CategoryLink">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode16"/>
    </entry>
  </nodes>
<!--@Location 22,18-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode16" conditionKey="CategoryLink:DomainID"
      operator="str_neq" conditionItem="LinkDomain:DomainID">
    <nodeSuccessors name="decision_yes" next="RemoveObjectFromCollection0"/>
    <nodeSuccessors name="decision_no" next="JoinNode20"/>
  </nodes>
<!--@Location 22,19-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveObjectFromCollection0">
    <pipelet href="enfinity:/bc_foundation/pipelets/RemoveObjectFromCollection.xml"/>
<!--@BendPoints 43,39-->
    <nodeSuccessors name="next" next="JoinNode20"/>
    <parameterBindings name="InCollection" objectPath="CategoryLinksCollection"/>
    <parameterBindings name="InObject" objectPath="CategoryLink"/>
    <returnValueBindings name="OutCollection" objectPath="CategoryLinksCollection"/>
  </nodes>
<!--@Location 21,18-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode20">
<!--@BendPoints 43,35-->
    <nodeSuccessors name="next" next="LoopNode6_Entry"/>
  </nodes>
<!--@Location 22,20-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SortIteratorByComparator0">
    <configurationValues name="DefaultSortingAttribute" value="Position"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SortIteratorByComparator.xml"/>
    <nodeSuccessors name="next" next="CallNode4"/>
    <parameterBindings name="Iterator" objectPath="CategoryLinksCollection:Iterator"/>
    <returnValueBindings name="SortedIterator" objectPath="CategoryLinks"/>
  </nodes>
<!--@Location 22,21-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode4">
    <nodeSuccessors name="next" next="JoinNode9"/>
    <parameterBindings name="SelectedObjectUUIDs" objectPath="SelectedCategoryLinkUUIDs"/>
    <parameterBindings name="SortedPositionables" objectPath="CategoryLinks"/>
    <startNode referencedName="ProcessSorting-MovePositions"/>
  </nodes>
<!--@Location 22,22-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode9">
<!--@BendPoints 42,45 42,23-->
    <nodeSuccessors name="next" next="LoopNode4_Entry"/>
  </nodes>
<!--@Location 23,15-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode18">
<!--@BendPoints 47,35 47,45-->
    <nodeSuccessors name="next" next="JoinNode9"/>
  </nodes>
<!--@Location 23,14-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode17">
    <nodeSuccessors name="next" next="JoinNode18"/>
  </nodes>
<!--@Location 23,13-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode16">
    <nodeSuccessors name="next" next="JoinNode17"/>
  </nodes>
<!--@Location 23,11-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode10"/>
<!--@Location 9,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode4" strict="true" name="RemoveCategoryLinks"
      callMode="Private">
    <nodeSuccessors name="next" next="LoopNode2"/>
    <parameters name="UUIDIterator" type="java.util.Iterator"/>
  </nodes>
<!--@Location 9,2-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode2" loop="UUIDIterator">
    <nodeSuccessors name="next" next="EndNode4"/>
    <entry key="UUID">
      <nodeSuccessors name="loop_entry_next" next="GetPersistentObjectByUUID1"/>
    </entry>
  </nodes>
<!--@Location 9,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetPersistentObjectByUUID1">
    <configurationValues name="PersistentObjectPOClass" value="com.intershop.beehive.xcs.internal.catalog.CatalogCategoryLinkPO"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetPersistentObjectByUUID.xml"/>
    <nodeSuccessors name="next" next="RemoveCatalogCategoryLink1"/>
<!--@BendPoints 21,7-->
    <nodeSuccessors name="pipelet_error" next="JoinNode2"/>
    <returnValueBindings name="PersistentObject" objectPath="CategoryLink"/>
  </nodes>
<!--@Location 9,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveCatalogCategoryLink1">
    <pipelet href="enfinity:/bc_mvc/pipelets/RemoveCatalogCategoryLink.xml"/>
    <nodeSuccessors name="next" next="JoinNode1"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode2"/>
  </nodes>
<!--@Location 9,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode1">
<!--@BendPoints 18,11 18,5-->
    <nodeSuccessors name="next" next="LoopNode2_Entry"/>
  </nodes>
<!--@Location 10,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode2">
<!--@BendPoints 21,11-->
    <nodeSuccessors name="next" next="JoinNode1"/>
  </nodes>
<!--@Location 10,2-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode4" strict="true"/>
<!--@Location 12,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode8" strict="true" name="TypeCodeConfiguration"
      callMode="Private">
    <nodeSuccessors name="next" next="DecisionNode7"/>
    <parameters name="Category" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
    <parameters name="CategoryLinkTypeSummaryIter" type="java.util.Iterator" optional="true"/>
    <parameters name="ChannelID" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 12,2-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode7" conditionKey="CategoryLinkTypeSummaryIter"
      operator="undef">
    <nodeSuccessors name="decision_yes" next="JoinNode33"/>
<!--@BendPoints 27,5-->
    <nodeSuccessors name="decision_no" next="DecisionNode21"/>
  </nodes>
<!--@Location 12,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode33">
    <nodeSuccessors name="next" next="CallNode10"/>
  </nodes>
<!--@Location 12,4-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode10">
    <nodeSuccessors name="next" next="KeyMapper3"/>
    <nodeSuccessors name="Error" next="JoinNode34"/>
    <parameterBindings name="CategoryUUID" objectPath="Category:UUID"/>
    <startNode referencedName="ProcessLinkTypeSummaryConfiguration-CategoryLinkConfigurations"/>
  </nodes>
<!--@Location 12,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper3">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="JoinNode10"/>
    <parameterBindings name="InValue_1" objectPath="TypeCodeNames"/>
    <parameterBindings name="InValue_2" objectPath="TypeCodeNames"/>
    <parameterBindings name="InValue_3" objectPath="TypeCodeGroup"/>
    <returnValueBindings name="OutValue_1" objectPath="TypeCodesToShow"/>
    <returnValueBindings name="OutValue_2" objectPath="CategoryTypeCodesToShow"/>
    <returnValueBindings name="OutValue_3" objectPath="CategoryTypeCodeGroup"/>
  </nodes>
<!--@Location 12,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode10">
    <nodeSuccessors name="next" next="EndNode11"/>
  </nodes>
<!--@Location 12,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode11" strict="true">
    <returnValues name="CategoryLinkTypeSummaryIter" type="java.util.Iterator" optional="true"/>
    <returnValues name="CategoryTypeCodeGroup" type="java.lang.String" optional="true"/>
    <returnValues name="CategoryTypeCodesToShow" type="com.intershop.beehive.foundation.util.ResettableIterator"
        optional="true"/>
    <returnValues name="TypeCodeNames" type="com.intershop.beehive.foundation.util.ResettableIterator"
        optional="true"/>
    <returnValues name="TypeCodeGroup" type="java.lang.String" optional="true"/>
    <returnValues name="TypeCodesToShow" type="com.intershop.beehive.foundation.util.ResettableIterator"
        optional="true"/>
  </nodes>
<!--@Location 13,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode34">
<!--@BendPoints 27,13-->
    <nodeSuccessors name="next" next="JoinNode10"/>
  </nodes>
<!--@Location 13,3-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode21" conditionKey="CategoryLinkTypeSummaryIter"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="JoinNode34"/>
    <nodeSuccessors name="decision_no" next="JoinNode33"/>
  </nodes>
<!--@Location 14,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode15" strict="true" name="TypeCodeConfigurationForIncomingLinks"
      callMode="Private">
    <nodeSuccessors name="next" next="DecisionNode24"/>
    <parameters name="Category" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
    <parameters name="CategoryIncomingLinkTypeSummaryIter" type="java.util.Iterator"
        optional="true"/>
    <parameters name="ChannelID" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 14,2-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode24" conditionKey="CategoryIncomingLinkTypeSummaryIter"
      operator="undef">
    <nodeSuccessors name="decision_yes" next="JoinNode38"/>
<!--@BendPoints 31,5-->
    <nodeSuccessors name="decision_no" next="DecisionNode23"/>
  </nodes>
<!--@Location 14,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode38">
    <nodeSuccessors name="next" next="CallNode22"/>
  </nodes>
<!--@Location 14,4-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode22">
    <nodeSuccessors name="next" next="KeyMapper0"/>
    <nodeSuccessors name="Error" next="JoinNode37"/>
    <startNode referencedName="ProcessCatalogCategoryLinks-CategoryIncomingLinkConfigurations"/>
  </nodes>
<!--@Location 14,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper0">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="JoinNode39"/>
    <parameterBindings name="InValue_1" objectPath="TypeCodeNames"/>
    <parameterBindings name="InValue_2" objectPath="TypeCodeNames"/>
    <parameterBindings name="InValue_3" objectPath="TypeCodeGroup"/>
    <returnValueBindings name="OutValue_1" objectPath="TypeCodesToShow"/>
    <returnValueBindings name="OutValue_2" objectPath="CategoryIncomingTypeCodesToShow"/>
    <returnValueBindings name="OutValue_3" objectPath="CategoryIncomingTypeCodeGroup"/>
  </nodes>
<!--@Location 14,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode39">
    <nodeSuccessors name="next" next="EndNode23"/>
  </nodes>
<!--@Location 14,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode23" strict="true">
    <returnValues name="CategoryIncomingLinkTypeSummaryIter" type="java.util.Iterator"
        optional="true"/>
    <returnValues name="CategoryIncomingTypeCodeGroup" type="java.lang.String" optional="true"/>
    <returnValues name="CategoryIncomingTypeCodesToShow" type="com.intershop.beehive.foundation.util.ResettableIterator"
        optional="true"/>
    <returnValues name="TypeCodeNames" type="com.intershop.beehive.foundation.util.ResettableIterator"
        optional="true"/>
    <returnValues name="TypeCodeGroup" type="java.lang.String" optional="true"/>
    <returnValues name="TypeCodesToShow" type="com.intershop.beehive.foundation.util.ResettableIterator"
        optional="true"/>
  </nodes>
<!--@Location 15,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode37">
<!--@BendPoints 31,13-->
    <nodeSuccessors name="next" next="JoinNode39"/>
  </nodes>
<!--@Location 15,3-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode23" conditionKey="CategoryIncomingLinkTypeSummaryIter"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="JoinNode37"/>
    <nodeSuccessors name="decision_no" next="JoinNode38"/>
  </nodes>
<!--@Location 25,10-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode10" strict="true" name="UpdatePositions"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode11"/>
    <parameters name="SourceCategory" type="com.intershop.beehive.xcs.capi.catalog.CatalogCategory"/>
    <parameters name="LinkDomain" type="com.intershop.beehive.core.capi.domain.Domain"
        optional="true"/>
    <parameters name="LinkTypeName" type="java.lang.String"/>
  </nodes>
<!--@Location 25,11-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode11">
    <nodeSuccessors name="next" next="DecisionNode15"/>
    <startNode referencedName="ProcessCatalogCategoryLinks-GetOutgoingCategoryLinks"/>
  </nodes>
<!--@Location 25,12-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode15" conditionKey="CategoryLinks"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="VerifyDouble0"/>
<!--@BendPoints 53,25-->
    <nodeSuccessors name="decision_no" next="JoinNode24"/>
  </nodes>
<!--@Location 25,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="VerifyDouble0">
    <pipelet href="enfinity:/bc_foundation/pipelets/VerifyDouble.xml"/>
    <nodeSuccessors name="next" next="LoopNode0"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode24"/>
    <parameterBindings name="LocalizedString" constant="1.0"/>
    <returnValueBindings name="DoubleValue" objectPath="Position"/>
  </nodes>
<!--@Location 25,14-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode0" loop="CategoryLinks">
    <nodeSuccessors name="next" next="JoinNode25"/>
    <entry key="CategoryLink">
<!--@BendPoints 51,30-->
      <nodeSuccessors name="loop_entry_next" next="DecisionNode13"/>
    </entry>
  </nodes>
<!--@Location 25,15-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode13" conditionKey="CategoryLink:PositionNull"
      operator="str_neq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="DecisionNode14"/>
<!--@BendPoints 55,31 55,32-->
    <nodeSuccessors name="decision_no" next="UpdatePositionable0"/>
  </nodes>
<!--@Location 25,16-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode14" conditionKey="CategoryLink:Position"
      operator="gte" conditionItem="Position">
    <nodeSuccessors name="decision_yes" next="CalculateDouble0"/>
<!--@BendPoints 53,33-->
    <nodeSuccessors name="decision_no" next="JoinNode21"/>
  </nodes>
<!--@Location 25,17-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CalculateDouble0">
    <configurationValues name="Operand2" value="1"/>
    <configurationValues name="Operation" value="+"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CalculateDouble.xml"/>
    <nodeSuccessors name="next" next="JoinNode23"/>
    <parameterBindings name="Operand1" objectPath="CategoryLink:Position"/>
    <returnValueBindings name="Result" objectPath="Position"/>
  </nodes>
<!--@Location 25,18-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode23">
<!--@BendPoints 50,37 50,29-->
    <nodeSuccessors name="next" next="LoopNode0_Entry"/>
  </nodes>
<!--@Location 26,18-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode21">
    <nodeSuccessors name="next" next="JoinNode23"/>
  </nodes>
<!--@Location 27,16-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdatePositionable0">
    <pipelet href="enfinity:/core/pipelets/UpdatePositionable.xml"/>
    <nodeSuccessors name="next" next="CalculateDouble1"/>
<!--@BendPoints 57,33 57,37-->
    <nodeSuccessors name="pipelet_error" next="JoinNode22"/>
    <parameterBindings name="Positionable" objectPath="CategoryLink"/>
  </nodes>
<!--@Location 27,17-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CalculateDouble1">
    <configurationValues name="Operand2" value="1"/>
    <configurationValues name="Operation" value="+"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CalculateDouble.xml"/>
    <nodeSuccessors name="next" next="JoinNode22"/>
    <parameterBindings name="Operand1" objectPath="Position"/>
    <returnValueBindings name="Result" objectPath="Position"/>
  </nodes>
<!--@Location 27,18-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode22">
    <nodeSuccessors name="next" next="JoinNode21"/>
  </nodes>
<!--@Location 26,14-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode25">
    <nodeSuccessors name="next" next="EndNode13"/>
  </nodes>
<!--@Location 27,14-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode13" strict="true"/>
<!--@Location 26,13-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode24">
    <nodeSuccessors name="next" next="JoinNode25"/>
  </nodes>
</pipeline:Pipeline>
