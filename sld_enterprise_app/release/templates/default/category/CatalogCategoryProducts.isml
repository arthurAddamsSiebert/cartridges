<iscontent type="text/html" charset="UTF-8" compact="true">
<isinclude template="preview/Modules">
<!-- Products -->
<table cellpadding="0" cellspacing="0" border="0" width="100%">
	<tr>
		<td width="100%" class="table_title aldi"><istext key="CatalogCategoryProducts.Products.table_title" encoding="off"/></td>
	</tr>
</table>

<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS)#">
	<isif condition="#isDefined(confirmProductsDelete) and (hasLoopElements(SelectedSortedObjectUUIDs) or hasLoopElements(SelectedUnsortedObjectUUIDs))#">
		<isform action="#URL(Action('ViewBrowseCatalogCategory-Dispatch'))#" method="post" name="deleteProductForm">
			<table width="100%" border="0" cellspacing="0" cellpadding="0">
				<ISMessageBox subject="#localizeText('sld_enterprise_app.Product.subject')#"
					type="mdc"
					okbtnname="deleteProducts"
					cancelbtnname="cancelDelete"
					parametername1="CatalogCategoryID"
					parametervalue1="#Category:UUID#">
			</table>
		</isform>
	</isif>
	
	<!-- delete confirmation if nothing is selected-->
	<isif condition="#isDefined(confirmProductsDelete) and not(hasLoopElements(SelectedSortedObjectUUIDs) or hasLoopElements(SelectedUnsortedObjectUUIDs))#">
		<table width="100%" border="0" cellspacing="0" cellpadding="0">
			<ISMessageBox subject="#localizeText('sld_enterprise_app.Product.subject')#" type="mde">
		</table>
	</isif>

	<!-- Information about failed product deletion-->
	<isif condition="#ProductDeletionFailed EQ 'OffersExist'#">
		<table border="0" cellspacing="0" cellpadding="4" width="100%" class="error_box w e s">
			<tr>
				<td class="error_icon top e"><img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/></td>
				<td class="error top" width="100%">
					<istext key="CatalogCategoryProducts.OneOrMoreProductsCouldNotBeDeletedBecauseOffersAre.error" encoding="off"/>
				</td>
			</tr>
		</table>
	</isif>
	<isif condition="#(isDefined(ProductDeletionFailed) AND (ProductDeletionFailed EQ 'CacheClearFailed'))#">
		<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
			<tr>
				<td class="error_icon e">
					<img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/>
				</td>
				<td class="error" width="100%">
					<istext key="CatalogCategoryProducts.TheProductSCannotBeDeletedPleaseSeeTheErrorLogForD.error" encoding="off"/>
				</td>
			</tr>
		</table>
	</isif>
	
	<isif condition="#isDefined(LockedSKUs) AND (LockedSKUs NE '')#">
		<isif condition="#isDefined(assignSelected)#">
			<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
				<tr>
					<td class="error_icon e">
						<img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/>
					</td>
					<td class="error" width="100%">
						<istext key="CatalogCategoryProducts.TheFollowingProductsCouldNotBeAssignedToThisCatego.error" parameter0="#encodeValue(LockedSKUs)#" encoding="off"/>
					</td>
				</tr>
			</table>
		<iselseif condition="#isDefined(StartUnassignSelected)#"/>
			<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
				<tr>
					<td class="error_icon e">
						<img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/>
					</td>
					<td class="error" width="100%">
						<istext key="CatalogCategoryProducts.TheFollowingProductsCouldNotBeUnassignedFromThisCa.error" parameter0="#encodeValue(LockedSKUs)#" encoding="off"/>
					</td>
				</tr>
			</table>
		</isif>
	</isif>
	
	<isif condition="#ErrorCode EQ 'AttributesTypeConflict'#">
		<table border="0" cellspacing="0" cellpadding="4" width="100%" class="error_box w e s">
			<tr>
				<td class="error_icon top e"><img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/></td>
				<td class="error top" width="100%">
					<istext key="CatalogCategoryProducts.ProductsCouldNotBeAssignedToTheClassificationCategory.error"/>
				</td>
			</tr>
		</table>
    </isif>
		
	<isif condition="#isDefined(AttributesWithTheSameType) AND NOT (AttributesWithTheSameType EQ '')#">
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
	        <tr>
	            <td>
	                <table border="0" cellspacing="0" cellpadding="4" width="100%" class="error_box w e s">
	                    <tr>
							<td class="information e"><img src="#WebRoot()#/images/confirmation_info.gif" alt="#localizeText('CatalogCategoryProducts.ClassificationAttributeValuesHavePriority.info')#" border="0" align="middle"/></td>
							<td class="information" width="100%"><istext key="CatalogCategoryProducts.ClassificationAttributeValuesHavePriority.info"/></td>
	                    </tr>
	                </table>
	            </td>
	        </tr>
	    </table>
	</isif>
</isif>
<isform action="#URL(Action('ViewBrowseCatalogCategory-Dispatch'))#" method="post" name="productForm" id="productForm">
	<table cellpadding="0" cellspacing="0" border="0" width="100%">
		<isif condition="#(isDefined(PreviewProductError))#">
					<table border="0" cellspacing="0" cellpadding="4" width="100%" class="error_box w e s">
						<tr>
							<td class="error_icon top e"><img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/></td>
							<td class="error" width="100%"><isPreviewError previewError="#PreviewProductError#" ></td>
						</tr>
					</table>
		      	<iselseif condition="#(isDefined(confirmPreview) AND isDefined(previewTyp))#">
		   <isif condition="#previewTyp EQ "product"#">
	    	<tr>
               <input type="hidden" name="ProductID" value="#stringToHtml(ProductID)#"/>
               <isPreviewMessageBox previewMessage="#confirmPreview#" itemType="product">
        	</tr>
		   </isif>	
		</isif>	
		
		<tr>
			<td>
				<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS)#">
					<isif condition="#isDefined(sort) and not(hasElements(UnsortedUUIDIterator))#">
						<table border="0" cellspacing="0" cellpadding="4" width="100%" class="w e s error_box">
							<tr>
								<td class="error_icon e"><img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/></td>
								<td class="error" width="100%">
									<istext key="CatalogCategoryProducts.YouHaveNotSelectedAnythingSelectAtLeastOneUnsorted.error" encoding="off"/>
								</td>
							</tr>
						</table>
					</isif>
					<isif condition="#isDefined(unsort) and not(hasElements(SortedUUIDIterator))#">
						<table border="0" cellspacing="0" cellpadding="4" width="100%" class="w e s error_box">
							<tr>
								<td class="error_icon e"><img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/></td>
								<td class="error" width="100%">
									<istext key="CatalogCategoryProducts.YouHaveNotSelectedAnythingSelectAtLeastOneSortedPr.error" encoding="off"/>
								</td>
							</tr>
						</table>
					</isif>
					<isif condition="#(isDefined(ERROR_SELECTION_MOVE_PRODUCT_UP) or isDefined(ERROR_SELECTION_MOVE_PRODUCT_DOWN)) and not(hasElements(SortedUUIDIterator))#">
						<table border="0" cellspacing="0" cellpadding="4" width="100%" class="w e s error_box">
							<tr>
								<td class="error_icon e"><img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/></td>
								<td class="error" width="100%">
									<isif condition="#isDefined(ERROR_SELECTION_MOVE_PRODUCT_UP)#">
										<istext key="CatalogCategoryProducts.YouHaveNotSelectedAnythingSelectAtLeastOneSortedPr.error1" encoding="off"/>
									<iselse>
										<istext key="CatalogCategoryProducts.YouHaveNotSelectedAnythingSelectAtLeastOneSortedPr.error2" encoding="off"/>
									</isif>
								</td>
							</tr>
						</table>
					</isif>
					<isif condition="#isDefined(ConfirmUnassignAllProducts)#">
						<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
							<tr>
								<td class="error_icon middle e"><img src="#webroot()#/images/confirmation.gif" width="16" height="15" alt="" border="0"/></td>
								<td class="confirm middle" width="100%">
									<istext key="CatalogCategoryProducts.AreYouSureYouWantToUnassignAllProductsFromThisCate.error" encoding="off"/>
								</td>
								<td align="right">
									<table border="0" cellspacing="0" cellpadding="0">
										<tr>
											<td class="button"><input type="submit" name="StartUnassignAllProducts" value="#localizeText('CatalogCategoryProducts.OK.button')#" class="button"/></td>
											<td>
												<img height="0" border="0" width="4" alt="" src="#WebRoot()#/images/space.gif"/>
												<input type="hidden" name="PageableID" value="<isprint value="#Products:ID#">"/>
												<input type="hidden" name="PageableName" value="Objects"/>
												<input type="hidden" name="CatalogCategoryID" value="<isprint value="#Category:UUID#">"/>
												<input type="hidden" name="ProcessDescription" value="<istext key="CatalogCategoryProducts.UnassigningAllProductsFromCategory.input" parameter0="#encodeValue(Category:DisplayName)#" encoding="off"/>"/>
												<input type="hidden" name="OrganizationUUID" value="#Organization:UUID#"/>
											</td>
											<td class="button"><input type="submit" name="cancelDelete" value="#localizeText('CatalogCategoryProducts.Cancel.button')#" class="button"/></td>
										</tr>
									</table>
								</td>	
							</tr>
						</table>
					</isif>
					<isif condition="#isDefined(ConfirmUnassignSelectedProducts)#">	
						<isif condition="#hasLoopElements(SelectedSortedObjectUUIDs) or hasLoopElements(SelectedUnsortedObjectUUIDs)#">
							<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
								<tr>
									<td class="error_icon middle e"><img src="#webroot()#/images/confirmation.gif" width="16" height="15" alt="" border="0"/></td>									
									<td width="100%">
										<table border="0" cellspacing="0" cellpadding="0" width="100%">
											<tr>												
												<td class="confirm middle" width="100%">
													<istext key="CatalogCategoryProducts.UnassignTheSelectedProductsFromThisCategoryNotePro.error" encoding="off"/>
												</td>
											</tr>
											<tr>
												<td class="confirm_subtitle middle" width="100%">
													<istext key="CatalogCategoryProducts.UnassignTheSelectedProductsFromThisCategoryNotePro.errorNote" encoding="off"/>
												</td>
											</tr>											
										</table>
									</td>		
									<td align="right">
										<table border="0" cellspacing="0" cellpadding="0">
											<tr>
												<td class="button"><input type="submit" name="StartUnassignSelected" value="#localizeText('CatalogCategoryProducts.OK.button')#" class="button"/></td>
												<td>
													<img height="0" border="0" width="4" alt="" src="#WebRoot()#/images/space.gif"/>
													<input type="hidden" name="CatalogCategoryID" value="<isprint value="#Category:UUID#">"/>
												</td>
												<td class="button"><input type="submit" name="cancelDelete" value="#localizeText('CatalogCategoryProducts.Cancel.button')#" class="button"/></td>
											</tr>
										</table>
									</td>	
								</tr>
							</table>
						<iselse>
							<table border="0" cellspacing="0" cellpadding="4" width="100%" class="error_box w e s">
								<tr>
									<td class="error_icon middle e"><img src="#webroot()#/images/error.gif" width="16" height="15" alt="" border="0"/></td>
									<td class="error middle" width="100%">
										<istext key="CatalogCategoryProducts.YouHaveNotSelectedAnyProductsToBeUnassignedUseTheC.error" encoding="off"/> 
									</td>
								</tr>
							</table>
						</isif>	
					</isif>
					<isif condition="#isDefined(EditSelectedProducts)#">
						<isif condition="#(NOT hasLoopElements(SelectedSortedObjectUUIDs)) AND (NOT hasLoopElements(SelectedUnsortedObjectUUIDs))#">
							<table border="0" cellspacing="0" cellpadding="4" width="100%" class="error_box w e s">
								<tr>
									<td class="error_icon middle e"><img src="#webroot()#/images/error.gif" width="16" height="15" alt="" border="0"/></td>
									<td class="error middle" width="100%">
										<istext key="CatalogCategoryProducts.YouHaveNotSelectedAnyProductsUseTheCheckboxesToSel.error" encoding="off"/>
									</td>
								</tr>
							</table>
						</isif>
					</isif>
				</isif>
				<!--- Product List --->
				<isif condition="#hasElements(Products)#">
					<table border="0" cellspacing="0" cellpadding="0" width="100%">
					<isif condition="#not(isDefined(Category:ProductBindingType)) or not(Category:ProductBindingType == 1)#">
						<isset scope="request" name ="ShowSorting" value="True">
					<iselse>
						<isset scope="request" name ="ShowSorting" value="False">
					</isif>
					<isif condition="#IsDefined(sortByStdAttr) OR IsDefined(sortByCustomAttr)#">
							<tr>
								<td colspan='<isif condition="#(RowSpan > 0) AND (ShowSorting EQ 'True') AND isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS)#">8<iselse>9</isif>'>
									<table border="0" cellspacing="0" cellpadding="0" width="100%" class="confirm_box">
										<tr>
											<td class="w e s">
												<table border="0" cellpadding="4" cellspacing="0" width="100%" class="confirm_box">
													<tr>
														<td class="error_icon e"><img src="#WebRoot()#/images/confirmation.gif" width="16" height="15" alt="" border="0"/></td>
														<td class="confirm" width="100%">
															<istext key="CatalogCategoryProducts.DoYouWantToApplyManualSortingToAllProductsInThisCa.confirm" encoding="off"/> 
														</td>
														<td>
															<table border="0" cellspacing="0" cellpadding="0">
																<tr>
																	<td class="button">
																		<isif condition="#IsDefined(sortByStdAttr) AND (NOT IsDefined(sortByCustomAttr))#">
																			<input type="hidden" name="sortByStdAttribute" value="sortByStdAttr" />
																		</isif>
																		<isif condition="#(NOT IsDefined(sortByStdAttr)) AND IsDefined(sortByCustomAttr)#">
																			<input type="hidden" name="sortByCstmAttrribute" value="sortByCustomAttr" />
																		</isif>
																		<input type="submit" name="startSorting" value="#localizeText('CatalogCategoryProducts.OK.button')#" class="button"/>
																	</td>
																	<td><img src="#Webroot()#/images/space.gif" width="4" height="0" alt="" border="0"/></td>
																	<td class="button"><input type="submit" id="messageBoxCancel" name="cancelSorting" value="#localizeText('CatalogCategoryProducts.Cancel.button')#" class="button"/></td>
																</tr>
															</table>
														</td>
													</tr>
												</table>
											</td>
										</tr>
									</table>
								</td> 
							</tr>
						</isif>
						<tr>
							<isif condition="#ShowSorting EQ 'True'#">
								<isif condition="#isDefined(GetSQDByNameResultDict:SearchQueryDefinition)#">
									<td class="table_title_description w e s" colspan='<isif condition="#(RowSpan > 0) AND (ShowSorting EQ 'True') AND isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS)#">9<iselse>10</isif>'>
										<istext key="CatalogCategoryProducts.TheListShowsAllProductsThatHaveBeenDynamicallyAssi.table_title_description" encoding="off"/>
									</td>
								<iselse>
									<td class="table_title_description w e s" colspan='<isif condition="#(RowSpan > 0) AND (ShowSorting EQ 'True') AND isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS)#">9<iselse>10</isif>'>
										<istext key="CatalogCategoryProducts.TheListShowsAllProductsInThisCategory.table_title_description" encoding="off"/>
										<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS)#">
											<br/><br/>
											<istext key="CatalogCategoryProducts.ToShowSomeProductsAtAFixedPositionOnTopOfTheListUs.table_title_description" encoding="off"/> 
										</isif>
									</td>
								</isif>
							<iselse>
								<td class="table_title_description w e s" colspan='<isif condition="#(RowSpan > 0) AND (ShowSorting EQ 'True') AND isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS)#">8<iselse>9</isif>'><istext key="CatalogCategoryProducts.TheListShowsProductsInThisCategory.table_title_description" encoding="off"/></td>
							</isif>
						</tr>
						<isif condition="#(NOT(Catalog:isProxy))AND (isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS)) AND (NOT isDefined(GetSQDByNameResultDict:SearchQueryDefinition))#">
							<tr>
								<td class="w e s" colspan='<isif condition="#(RowSpan > 0) AND (ShowSorting EQ 'True') AND isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS)#">9<iselse>10</isif>'>
									<table cellpadding="0" cellspacing="0" border="0">
										<tr>
											<td class="fielditem2" nowrap="nowrap"><istext key="CatalogCategoryProducts.PreArrangeProducts.fielditem2" encoding="off"/></td>
										</tr>
										<tr>
											<td nowrap="nowrap" class="label_select"><label class="label label_select" for="AdvSorting_standardAttr"><istext key="CatalogCategoryProducts.ByStandardProductAttribute.label" encoding="off"/>:</label></td>
											<td class="table_detail">
												<select name="AdvSorting_standardAttr" id="AdvSorting_standardAttr" class="select inputfield_en">
													<option value="name" <isif condition="#AdvSorting_standardAttr EQ 'name'#">selected="selected"</isif>><istext key="CatalogCategoryProducts.ProductName.option" encoding="off"/></option>
													<option value="manufacturerName" <isif condition="#AdvSorting_standardAttr EQ 'manufacturerName'#">selected="selected"</isif>><istext key="CatalogCategoryProducts.ManufacturerName.option" encoding="off"/></option>
													<option value="value" <isif condition="#AdvSorting_standardAttr EQ 'value'#">selected="selected"</isif>><istext key="CatalogCategoryProducts.ListPrice.option" encoding="off"/></option>
													<option value="sku" <isif condition="#AdvSorting_standardAttr EQ 'sku'#">selected="selected"</isif>><istext key="CatalogCategoryProducts.ProductID.option" encoding="off"/></option>
												</select>
											</td>
											<td class="table_detail">
												<select name="AdvSorting_standardAttrDirection" class="select inputfield_en">
													<option value="ascending" <isif condition="#AdvSorting_standardAttrDirection EQ 'ascending'#">selected="selected"</isif>><istext key="CatalogCategoryProducts.Ascending.option" encoding="off"/></option>
													<option value="descending" <isif condition="#AdvSorting_standardAttrDirection EQ 'descending'#">selected="selected"</isif>><istext key="CatalogCategoryProducts.Descending.option" encoding="off"/></option>
												</select>
											</td>
											<td>
												<table cellspacing="2" cellpadding="0" border="0">
													<tbody><tr>
														<td class="button">
															<input type="submit" class="button" value="#localizeText('CatalogCategoryProducts.Apply.button')#" name="sortByStdAttr" />
														</td>
													</tr></tbody>
												</table>
											</td>
										</tr>
										<isif condition="#isDefined(SortedAttributeDescriptors) AND hasElements(SortedAttributeDescriptors)#">
											<tr>
												<td nowrap="nowrap" class="label_select"><label class="label label_select" for="AdvSorting_customAttr"><istext key="CatalogCategoryProducts.ByCustomProductAttribute.label" encoding="off"/>:</label></td>
												<td class="table_detail">
													<input type="hidden" name="AttributeLocalizedFlag" value="0" />
													<select name="AdvSorting_customAttr" id="AdvSorting_customAttr" class="select inputfield_en">
														<option value="none" <isif condition="#(not isdefined(name:Value)) or (name:Value EQ '')#">selected="selected"</isif>><istext key="CatalogCategoryProducts.None.option" encoding="off"/></option>
														<!--- Use BackofficeSearchableAttributesGroup:SortedAttributeDescriptorsIterator alternative to sort by position in the group --->
														<isloop iterator="SortedAttributeDescriptors" alias="AttributeDescriptor">
															<option value="<isprint value="#AttributeDescriptor:ID#">" <isif condition="#AdvSorting_customAttr EQ AttributeDescriptor:ID#" >selected="selected"</isif>><isprint value="#AttributeDescriptor:DisplayName#"></option>
														</isloop>
													</select>
												</td>
												<td class="table_detail">
													<select name="AdvSorting_customAttrDirection" class="select inputfield_en">
														<option value="ascending" <isif condition="#AdvSorting_customAttrDirection EQ 'ascending'#">selected="selected"</isif>><istext key="CatalogCategoryProducts.Ascending.option1" encoding="off"/></option>
														<option value="descending" <isif condition="#AdvSorting_customAttrDirection EQ 'descending'#">selected="selected"</isif>><istext key="CatalogCategoryProducts.Descending.option1" encoding="off"/></option>
													</select>
												</td>
												<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS) AND (NOT(Catalog:isProxy))#">
												
													<td>
														<table cellspacing="2" cellpadding="0" border="0">
															<tbody><tr>
																<td class="button">
																	<input type="submit" class="button" value="#localizeText('CatalogCategoryProducts.Apply.button')#" name="sortByCustomAttr" />
																</td>
															</tr></tbody>
														</table>
													</td>
												</isif>
											</tr>
										</isif>
										<tr><td><img src="#Webroot()#/images/space.gif" width="4" height="0" alt="" border="0"/></td></tr>
									</table>
								</td>
							</tr>
						</isif>
						<isset scope="request" name ="ColSpanOfPagingBar" value="#8#">
						<isset scope="request" name ="RowSpan" value="#0#">
						<isloop iterator="Products" alias = "ProductBO">
							<isif condition="#NOT Category:ProductPositionNull(ProductBO:Extension("PersistentObjectBOExtension"):PersistentObject)#">
								<isset scope="request" name ="RowSpan" value="#RowSpan + 1#">
							</isif>
						</isloop>
						<tr>
							<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS)#">
								<td class=" table_header s w" nowrap="nowrap">
									<div id="C">
										<table border="0" cellspacing="0" cellpadding="0" class="table_header center" width="80">
											<tr>
												<td nowrap="nowrap">
													<a href="javascript:selectAll('productForm','ortedObjectUUID','C','D');" class="tableheader"><istext key="CatalogCategoryProducts.SelectAll.link" encoding="off"/></a>
												</td>
											</tr>
										</table>
									</div>
									<div id="D" style="display:none">
										<table border="0" cellspacing="0" cellpadding="0" class="table_header center" width="80">
											<tr>
												<td nowrap="nowrap">
													<a href="javascript:selectAll('productForm','ortedObjectUUID','C','D');" class="tableheader"><istext key="CatalogCategoryProducts.ClearAll.link" encoding="off"/></a>
												</td>
											</tr>
										</table>
									</div>
								</td>
							</isif>
							<td class="table_header w e s" width="100%"><istext key="CatalogCategoryProducts.Name.table_header" encoding="off"/></td>
							<td class="table_header e s" nowrap="nowrap"><istext key="CatalogCategoryProducts.ID.table_header" encoding="off"/></td>
							<isif condition="#IsDefined(Category:PRODUCT_SORTING_ATTRIBUTE_VALUE) AND (Category:PRODUCT_SORTING_ATTRIBUTE_VALUE NE '')#">
								<isif condition="#Category:PRODUCT_SORTING_ATTRIBUTE_VALUE NE 'manufacturerName'#">
									<td class="table_header e s" nowrap="wrap">
										<isprint value="#Category:PRODUCT_SORTING_ATTRIBUTE_VALUE#">
										<isset scope="request" name ="ColSpanOfPagingBar" value="#ColSpanOfPagingBar + 1#">
									</td>
								</isif>
							</isif>
							<td class="table_header e s" nowrap="nowrap"><istext key="CatalogCategoryProducts.ManufacturerName.table_header" encoding="off"/></td>
							<td class="table_header e s" nowrap="nowrap"><istext key="CatalogCategoryProducts.Supplier.table_header" encoding="off"/></td>
							<td class="table_header e s right" nowrap="nowrap"><istext key="CatalogCategoryProducts.ListPrice0.table_header" parameter0="#encodeValue(CurrentSession:Currency:CurrencyName)#" encoding="off"/></td>
							<td class="table_header e s left" width="5%"><istext key="CatalogCategoryProducts.Status.table_header" encoding="off"/></td>
							<td class="table_header e s left" width="5%"><istext key="CatalogCategoryProducts.Actions.table_header" encoding="off"/></td>
							<isif condition="#(RowSpan > 0) AND (ShowSorting EQ 'True') AND isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS) AND (NOT isDefined(GetSQDByNameResultDict:SearchQueryDefinition))#">
								<td class="table_header e s left" nowrap="nowrap"><istext key="CatalogCategoryProducts.Sorting.table_header" encoding="off"/></td>
							</isif>
						</tr>
						<isset scope="request" name ="StartSorted" value="False">
						<isset scope="request" name ="StartUnSorted" value="False">
					
						<isloop iterator="Products" alias = "ProductBO">
							<isif condition="#not(Category:ProductPositionNull(ProductBO:Extension("PersistentObjectBOExtension"):PersistentObject)) and (ShowSorting EQ 'True')#">
								<tr>
									<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS)#">
										<td class="s w center" ><input type="hidden" name="SortedObjectUUID" value="#ProductBO:ID#"/><input type="checkbox" name="SelectedSortedObjectUUID" value="#ProductBO:ID#" <isif condition="#isDefined(SortedClipboard) AND (SortedClipboard:contains(ProductBO:ID))#">checked</isif>/>&nbsp;</td>
									</isif>
									<isif condition="#isDefined(CurrentUserPermissionMap:SLD_VIEW_PRODUCTS)#">
										<td class="table_detail top w e s"><a href="#URL(Action('ViewProduct-Edit'), Parameter('ProductID', ProductBO:ID), Parameter('CatalogCategoryID', Category:UUID))#" class="table_detail_link"><isprint value="#ProductBO:Name#"></a>&nbsp;</td>
									<iselse>
										<td class="table_detail top w e s"><isprint value="#ProductBO:Name#"></td>
									</isif>
									<isif condition="#isDefined(CurrentUserPermissionMap:SLD_VIEW_PRODUCTS)#">
										<td class="table_detail top e s" nowrap="nowrap"><a href="#URL(Action('ViewProduct-Edit'), Parameter('ProductID', ProductBO:ID), Parameter('CatalogCategoryID', Category:UUID))#" class="table_detail_link"><isprint value="#ProductBO:SKU#"></a>&nbsp;</td>
									<iselse>
										<td class="table_detail top e s" nowrap="nowrap"><isprint value="#ProductBO:SKU#">&nbsp;</td>
									</isif>
									<isif condition="#IsDefined(Category:PRODUCT_SORTING_ATTRIBUTE_VALUE) AND (Category:PRODUCT_SORTING_ATTRIBUTE_VALUE NE '')#">
										<isif condition="#Category:PRODUCT_SORTING_ATTRIBUTE_VALUE NE 'manufacturerName'#">
											<td class="table_detail top e s">
												<isset name="sortingAttributeName" value="#Category:PRODUCT_SORTING_ATTRIBUTE_VALUE#" scope="request">
												<isif condition="#LookupHelper:get(ProductBO:ID):Attribute(sortingAttributeName) NE ''#">
													<isprint value="#LookupHelper:get(ProductBO:ID):Attribute(sortingAttributeName)#"/>
												<iselse>
													&nbsp;
												</isif>
											</td>
										</isif>
									</isif>
									<td class="table_detail top e s" nowrap="nowrap"><isprint value="#ProductBO:ManufacturerName#">&nbsp;</td>
									<td class="table_detail top e s" nowrap="nowrap"><isprint value="#ProductBO:SupplierName#">&nbsp;</td>
									<td class="table_detail top e s right" nowrap="nowrap"><isprint value="#ProductBO:Price#">&nbsp;</td>
									<td class="table_detail_status e s left" nowrap="nowrap">
										<isif condition="#ProductBO:isAvailable#">
											<img src="#WebRoot()#/images/status_instock.gif" alt="#localizeText('CatalogCategoryProducts.InStock.alt')#" title="#localizeText('CatalogCategoryProducts.InStock.title')#" border="0"/>
										<iselse>
											&nbsp;
										</isif>
										<isif condition="#ProductBO:hasCatalogCategories#">
											<img src="#WebRoot()#/images/status_explicitly_bound.gif" alt="#localizeText('CatalogCategoryProducts.Categorized.alt')#" title="#localizeText('CatalogCategoryProducts.Categorized.title')#" border="0"/>
										<iselse>
											&nbsp;
										</isif>
										<isif condition="#ProductBO:getOffersCount>0#">
											<img src="#WebRoot()#/images/status_offers.gif" alt="#localizeText('CatalogCategoryProducts.Offered.alt')#" title="#localizeText('CatalogCategoryProducts.Offered.title')#" border="0"/>
										<iselse>
											&nbsp;
										</isif>
										<isif condition="#ProductBO:DerivedProduct#">
											<isif condition="#ProductBO:DerivedProductChanged#">
												<img src="#WebRoot()#/images/status_shared_product_from_m.gif" alt="#localizeText('CatalogCategoryProducts.SharedFromAnotherAndEdited.alt')#" title="#localizeText('CatalogCategoryProducts.SharedFromAnotherAndEdited.title')#" border="0"/>
											<iselse>
												<img src="#WebRoot()#/images/status_shared_product_from.gif" alt="#localizeText('CatalogCategoryProducts.SharedFromAnother.alt')#" title="#localizeText('CatalogCategoryProducts.SharedFromAnother.title')#" border="0"/>
											</isif>
										<iselse>
											&nbsp;
										</isif>
									</td>
									<td class="table_detail_status e s left" nowrap="nowrap">
										<table border="0" cellspacing="0" cellpadding="0" width="100%">
											<tr>
												<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS)#">
													<td width="33%" class="table_detail_status">
														<isif condition="#ProductBO:isOnline#">
															<button class="action_button" name="setProductOffline" value="<isprint value="#ProductBO:ID#">" title="#localizeText('CatalogCategoryProducts.SwitchOffline.button')#">
																<img src="#WebRoot()#/images/onlineGreenDot.gif" alt="#localizeText('CatalogCategoryProducts.SwitchOffline.alt')#" title="#localizeText('CatalogCategoryProducts.SwitchOffline.title')#" border="0"/>
															</button>
														<iselse>
															<button class="action_button" name="setProductOnline" value="<isprint value="#ProductBO:ID#">" title="#localizeText('CatalogCategoryProducts.SwitchOnline.button')#">
																<img src="#WebRoot()#/images/offlineRedDot.gif" alt="#localizeText('CatalogCategoryProducts.SwitchOnline.alt')#" title="#localizeText('CatalogCategoryProducts.SwitchOnline.title')#" border="0"/>
															</button>
														</isif>
													</td>
													<isif condition="#ProductLockActivated EQ 'true'#">
														<td width="33%" class="table_detail_status">
															<isif condition="#LockingLookupHelper:isLockedForMe(ProductBO:Extension("PersistentObjectBOExtension"):PersistentObject,CurrentUser)#">
																<a href="#URL(Action('ViewBrowseCatalogCategory-UnlockProduct'),Parameter('ProductID',ProductBO:ID), Parameter('CatalogCategoryID', CatalogCategoryID),Parameter('JumpTarget', 'ViewChannelCatalog_52-Paging'), Parameter('CatalogID',CatalogID))#">
																   <img src="#WebRoot()#/images/lockedForMe.gif" alt="#localizeText('CatalogCategoryProducts.LockedForMe.alt')#" title="#localizeText('CatalogCategoryProducts.LockedForMe.title')#" border="0"/></a>
															<iselseif condition="#LockingLookupHelper:isLockedForOther(ProductBO:Extension("PersistentObjectBOExtension"):PersistentObject,CurrentUser)#">
																<img src="#WebRoot()#/images/lockedForOther.gif" alt="#localizeText('CatalogCategoryProducts.LockedByOther.alt')#" title="#localizeText('CatalogCategoryProducts.LockedByOther.title')#" border="0"/>
															<iselse>
																<a href="#URL(Action('ViewBrowseCatalogCategory-LockProduct'),Parameter('ProductID',ProductBO:ID), Parameter('CatalogCategoryID', CatalogCategoryID), Parameter('CatalogID',CatalogID), Parameter('JumpTarget', 'ViewChannelCatalog_52-Paging'))#">
																	<img src="#WebRoot()#/images/unlocked.gif" alt="#localizeText('CatalogCategoryProducts.Unlocked.alt')#" title="#localizeText('CatalogCategoryProducts.Unlocked.title')#" border="0"/></a>
															</isif>
														</td>
													</isif>
												<iselse>
													<td width="33%" class="table_detail_status">
														<isif condition="#ProductBO:isOnline#">
															<img src="#WebRoot()#/images/onlineGreenDot.gif" alt="#localizeText('CatalogCategoryProducts.SwitchOffline.alt')#" title="#localizeText('CatalogCategoryProducts.SwitchOffline.title')#" border="0"/>
														<iselse>
															<img src="#WebRoot()#/images/offlineRedDot.gif" alt="#localizeText('CatalogCategoryProducts.SwitchOnline.alt')#" title="#localizeText('CatalogCategoryProducts.SwitchOnline.title')#" border="0"/>
														</isif>
													</td>
													<isif condition="#ProductLockActivated EQ 'true'#">
														<td width="33%" class="table_detail_status">
															<isif condition="#LockingLookupHelper:isLockedForMe(ProductBO:Extension("PersistentObjectBOExtension"):PersistentObject,CurrentUser)#">
																<img src="#WebRoot()#/images/lockedForMe.gif" alt="#localizeText('CatalogCategoryProducts.LockedForMe.alt')#" itlet="Locked for me" border="0"/>
															<iselseif condition="#LockingLookupHelper:isLockedForOther(ProductBO:Extension("PersistentObjectBOExtension"):PersistentObject,CurrentUser)#">
																<img src="#WebRoot()#/images/lockedForOther.gif" alt="#localizeText('CatalogCategoryProducts.LockedByOther.alt')#" title="#localizeText('CatalogCategoryProducts.LockedByOther.title')#" border="0"/>
															<iselse>
																<img src="#WebRoot()#/images/unlocked.gif" alt="#localizeText('CatalogCategoryProducts.Unlocked.alt')#" title="#localizeText('CatalogCategoryProducts.Unlocked.title')#" border="0"/>
															</isif>
														</td>
													</isif>
												</isif>
												<isif condition="#isDefined(CurrentUserPermissionMap:SLD_VIEW_STOREFRONT)#">
													<ispipeline pipeline="ViewContentOverview-GetMasterEditingPreference" alias="ResultMap"/>
													<isif condition="#(isDefined(ResultMap:MasterEditingEnabled) AND (ResultMap:MasterEditingEnabled EQ 'true'))#">
														<td width="33%" class="table_detail_status">
															<ISPreviewIcon 
																imageTitle="#localizeText('sld_enterprise_app.OpenASitePreviewDirectlyOnTheProductDetailPageForT.imageTitle')#"
																imageAlt="#localizeText('sld_enterprise_app.OpenASitePreviewDirectlyOnTheProductDetailPageForT.imageAlt')#"
																previewURL="#URL(Action('ViewProduct-PreviewProduct'), Parameter('SKU', ProductBO:SKU))#" 
																contextPipeline="ViewBrowseCatalogCategory-Paging" 
																contextParameter0="CatalogID" contextValue0="#CatalogID#"
																contextParameter1="CatalogCategoryID" contextValue1="#CatalogCategoryID#" >
														</td>
													</isif>
												</isif>											
											</tr>
										</table>									
									</td>
									<isif condition="#(StartSorted eq 'False') and (ShowSorting eq 'True') AND (NOT isDefined(GetSQDByNameResultDict:SearchQueryDefinition))#">
										<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS)#">
											<td class="table_detail_status e s center sort" nowrap="nowrap" rowspan="<isprint value="#RowSpan#" style="INTEGER">">
												<table border="0" cellpadding="0" cellspacing="0" align="center">
													<tr>
														<td><input type="image" name="moveUp" src="#WebRoot()#/images/sort_up.gif" alt="" border="0"/></td>
													</tr>
													<tr><td><img src="#WebRoot()#/images/space.gif" width="1" height="4" alt="" border="0"/></td></tr>
													<tr>
														<td><input type="image" name="moveDown" src="#WebRoot()#/images/sort_down.gif" alt="" border="0"/></td>
													</tr>
												</table>
											</td>
										</isif>
										<isset scope="request" name ="StartSorted" value="True">
									</isif>
								</tr>
							<iselse>
								<isif condition="#(StartSorted eq 'True') and (StartUnSorted eq 'False')#">
									<tr><td class="w e s" colspan='<isif condition="#(RowSpan > 0) AND (ShowSorting EQ 'True') AND isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS)#">8<iselse>9</isif>'><img src="#WebRoot()#/images/space.gif" width="1" height="2" alt="" border="0"/></td></tr>
								</isif>
								<isset scope="request" name ="StartUnSorted" value="True">
								<tr>
									<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS)#">
										<td class="s w center" ><input type="hidden" name="UnsortedObjectUUID" value="#ProductBO:ID#"/><input type="checkbox" name="SelectedUnsortedObjectUUID" value="#ProductBO:ID#" <isif condition="#isDefined(UnsortedClipboard) AND (UnsortedClipboard:contains(ProductBO:ID))#">checked</isif> />&nbsp; </td>
									</isif>
									<td class="table_detail top w e s">
										<isif condition="#isDefined(CurrentUserPermissionMap:SLD_VIEW_PRODUCTS) #">
											<a href="#URL(Action('ViewProduct-Edit'), Parameter('ProductID', ProductBO:ID), Parameter('CatalogCategoryID', Category:UUID))#" class="table_detail_link"><isprint value="#ProductBO:Name#"></a>&nbsp;
										<iselse>
											<isprint value="#ProductBO:Name#">&nbsp;
										</isif>
									</td>
									<td class="table_detail top e s" nowrap="nowrap">
											<isif condition="#isDefined(CurrentUserPermissionMap:SLD_VIEW_PRODUCTS) #">
											<a href="#URL(Action('ViewProduct-Edit'), Parameter('ProductID', ProductBO:ID), Parameter('CatalogCategoryID', Category:UUID))#" class="table_detail_link"><isprint value="#ProductBO:SKU#"></a>&nbsp;
										<iselse>
											<isprint value="#ProductBO:SKU#">&nbsp;
										</isif>
									</td>
									<isif condition="#IsDefined(Category:PRODUCT_SORTING_ATTRIBUTE_VALUE) AND (Category:PRODUCT_SORTING_ATTRIBUTE_VALUE NE '')#">
										<isif condition="#Category:PRODUCT_SORTING_ATTRIBUTE_VALUE NE 'manufacturerName'#">
											<td class="table_detail top e s">
												<isset name="sortingAttributeName" value="#Category:PRODUCT_SORTING_ATTRIBUTE_VALUE#" scope="request">
												<isif condition="#LookupHelper:get(ProductBO:ID):Attribute(sortingAttributeName) NE ''#">
													<isprint value="#LookupHelper:get(ProductBO:ID):Attribute(sortingAttributeName)#"/>
												<iselse>
													&nbsp;
												</isif>
											</td>
										</isif>
									</isif>
									<td class="table_detail top e s" nowrap="nowrap"><isprint value="#ProductBO:ManufacturerName#">&nbsp;</td>
									<td class="table_detail top e s" nowrap="nowrap"><isprint value="#ProductBO:SupplierName#">&nbsp;</td>
									<td class="table_detail top e s right" nowrap="nowrap"><isprint value="#ProductBO:Price#">&nbsp;</td>
									<td class="table_detail_status e s left" nowrap="nowrap">
										<isif condition="#ProductBO:isAvailable#">
											<img src="#WebRoot()#/images/status_instock.gif" alt="#localizeText('CatalogCategoryProducts.InStock.alt1')#" title="#localizeText('CatalogCategoryProducts.InStock.title1')#" border="0"/>
										<iselse>
											&nbsp;
										</isif>
										<isif condition="#ProductBO:hasCatalogCategories#">
											<img src="#WebRoot()#/images/status_explicitly_bound.gif" alt="#localizeText('CatalogCategoryProducts.Categorized.alt1')#" title="#localizeText('CatalogCategoryProducts.Categorized.title1')#" border="0"/>
										<iselse>
											&nbsp;
										</isif>
										<isif condition="#ProductBO:getOffersCount>0#">
											<img src="#WebRoot()#/images/status_offers.gif" alt="#localizeText('CatalogCategoryProducts.Offered.alt')#" title="#localizeText('CatalogCategoryProducts.Offered.title')#" border="0"/>
										<iselse>
											&nbsp;
										</isif>
										<isif condition="#ProductBO:DerivedProduct#">
											<isif condition="#ProductBO:DerivedProductChanged#">
												<img src="#WebRoot()#/images/status_shared_product_from_m.gif" alt="#localizeText('CatalogCategoryProducts.SharedFromAnotherAndEdited.alt')#" title="#localizeText('CatalogCategoryProducts.SharedFromAnotherAndEdited.title')#" border="0"/>
											<iselse>
												<img src="#WebRoot()#/images/status_shared_product_from.gif" alt="#localizeText('CatalogCategoryProducts.SharedFromAnother.alt')#" title="#localizeText('CatalogCategoryProducts.SharedFromAnother.title')#" border="0"/>
											</isif>
										<iselse>
											&nbsp;
										</isif>
									</td>
									<td class="table_detail_status e s left" nowrap="nowrap">
										<table border="0" cellspacing="0" cellpadding="0" width="100%">
											<tr>
												<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS)#">
													<td width="33%" class="table_detail_status">
														<isif condition="#ProductBO:isOnline#">
															<button class="action_button" name="setProductOffline" value="<isprint value="#ProductBO:ID#">" title="#localizeText('CatalogCategoryProducts.SwitchOffline.button')#">
																<img src="#WebRoot()#/images/onlineGreenDot.gif" alt="#localizeText('CatalogCategoryProducts.SwitchOffline.alt')#" title="#localizeText('CatalogCategoryProducts.SwitchOffline.title')#" border="0"/>
															</button>
														<iselse>
															<button class="action_button" name="setProductOnline" value="<isprint value="#ProductBO:ID#">" title="#localizeText('CatalogCategoryProducts.SwitchOnline.button')#">
																<img src="#WebRoot()#/images/offlineRedDot.gif" alt="#localizeText('CatalogCategoryProducts.SwitchOnline.alt')#" title="#localizeText('CatalogCategoryProducts.SwitchOnline.title')#" border="0"/>
															</button>
														</isif>
													</td>
													<td width="33%" class="table_detail_status">
														<isif condition="#ProductLockActivated EQ 'true'#">
															<isif condition="#LockingLookupHelper:isLockedForMe(ProductBO:Extension("PersistentObjectBOExtension"):PersistentObject,CurrentUser)#">
																<a href="#URL(Action('ViewBrowseCatalogCategory-UnlockProduct'),Parameter('ProductID',ProductBO:ID), Parameter('CatalogCategoryID', CatalogCategoryID),Parameter('JumpTarget', 'ViewChannelCatalog_52-Paging'), Parameter('CatalogID',CatalogID))#">
																	<img src="#WebRoot()#/images/lockedForMe.gif" alt="#localizeText('CatalogCategoryProducts.LockedForMe.alt')#" title="#localizeText('CatalogCategoryProducts.LockedForMe.title')#" border="0"/></a>
															<iselseif condition="#LockingLookupHelper:isLockedForOther(ProductBO:Extension("PersistentObjectBOExtension"):PersistentObject,CurrentUser)#">
																<img src="#WebRoot()#/images/lockedForOther.gif" alt="#localizeText('CatalogCategoryProducts.LockedByOther.alt')#" title="#localizeText('CatalogCategoryProducts.LockedByOther.title')#" border="0"/>
															<iselse>
																<a href="#URL(Action('ViewBrowseCatalogCategory-LockProduct'),Parameter('ProductID',ProductBO:ID), Parameter('CatalogCategoryID', CatalogCategoryID), Parameter('CatalogID',CatalogID))#">
																	<img src="#WebRoot()#/images/unlocked.gif" alt="#localizeText('CatalogCategoryProducts.Unlocked.alt')#" title="#localizeText('CatalogCategoryProducts.Unlocked.title')#" border="0"/></a>
															</isif>
														</isif>
													</td>
												<iselse>
													<td width="33%" class="table_detail_status">
														<isif condition="#ProductBO:isOnline#">
															<img src="#WebRoot()#/images/onlineGreenDot.gif" alt="#localizeText('CatalogCategoryProducts.SwitchOffline.alt')#" title="#localizeText('CatalogCategoryProducts.SwitchOffline.title')#" border="0"/>
														<iselse>
															<img src="#WebRoot()#/images/offlineRedDot.gif" alt="#localizeText('CatalogCategoryProducts.SwitchOnline.alt')#" title="#localizeText('CatalogCategoryProducts.SwitchOnline.title')#" border="0"/>
														</isif>
													</td>
													<td width="33%" class="table_detail_status">
														<isif condition="#ProductLockActivated EQ 'true'#">
															<isif condition="#LockingLookupHelper:isLockedForMe(ProductBO:Extension("PersistentObjectBOExtension"):PersistentObject,CurrentUser)#">
																<img src="#WebRoot()#/images/lockedForMe.gif" alt="#localizeText('CatalogCategoryProducts.LockedForMe.alt')#" title="#localizeText('CatalogCategoryProducts.LockedForMe.title')#" border="0"/>
															<iselseif condition="#LockingLookupHelper:isLockedForOther(ProductBO:Extension("PersistentObjectBOExtension"):PersistentObject,CurrentUser)#">
																<img src="#WebRoot()#/images/lockedForOther.gif" alt="#localizeText('CatalogCategoryProducts.LockedByOther.alt')#" title="#localizeText('CatalogCategoryProducts.LockedByOther.title')#" border="0"/>
															<iselse>
																<img src="#WebRoot()#/images/unlocked.gif" alt="#localizeText('CatalogCategoryProducts.Unlocked.alt')#" title="#localizeText('CatalogCategoryProducts.Unlocked.title')#" border="0"/>
															</isif>
														</isif>
													</td>
												</isif>
												<isif condition="#isDefined(CurrentUserPermissionMap:SLD_VIEW_STOREFRONT)#">
													<ispipeline pipeline="ViewContentOverview-GetMasterEditingPreference" alias="ResultMap"/>
													<isif condition="#(isDefined(ResultMap:MasterEditingEnabled) AND (ResultMap:MasterEditingEnabled EQ 'true'))#">
														<td width="33%" class="table_detail_status">
															<ISPreviewIcon 
																imageTitle="#localizeText('sld_enterprise_app.OpenASitePreviewDirectlyOnTheProductDetailPageForT.imageTitle')#"
																imageAlt="#localizeText('sld_enterprise_app.OpenASitePreviewDirectlyOnTheProductDetailPageForT.imageAlt')#"
																previewURL="#URL(Action('ViewProduct-PreviewProduct'), Parameter('SKU', ProductBO:SKU))#" 
																contextPipeline="ViewBrowseCatalogCategory-Paging" 
																contextParameter0="CatalogID" contextValue0="#CatalogID#"
																contextParameter1="CatalogCategoryID" contextValue1="#CatalogCategoryID#" >
														</td>
													</isif>
												</isif>
											</tr>
										</table>
									</td>
									<isif condition="#(NOT(Catalog:isProxy)) AND (RowSpan > 0) AND isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS)#">
										<td class="table_detail e s center">&nbsp;</td>
									</isif>
								</tr>
							</isif>
						</isloop>
						<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS)#">
							<tr>
								<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_BATCH_PROCESSES)#">
									<td colspan="2" align="left" class="w s">
										<table border="0" cellspacing="4" cellpadding="0">
											<tr>
												<td class="button"><input type="submit" name="EditAllProducts" value="#localizeText('CatalogCategoryProducts.EditAll.button')#" class="button"/></td>
												<td class="button"><input type="submit" name="EditSelectedProducts" value="#localizeText('CatalogCategoryProducts.EditSelected.button')#" class="button"/></td>
												<isif condition="#NOT isDefined(GetSQDByNameResultDict:SearchQueryDefinition)#">
													<td class="button"><input type="submit" name="ConfirmUnassignAllProducts" value="#localizeText('CatalogCategoryProducts.UnassignAll.button')#" class="button"/></td>
												</isif>
											</tr>
										</table>
									</td>
								<iselse>
									<td colspan="2" align="left" class="w s">
										&nbsp;
									</td>
								</isif>
								<td colspan='<isif condition="#((NOT(Catalog:isProxy)))AND (RowSpan > 0) AND (ShowSorting EQ 'True') AND isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS) AND (NOT isDefined(GetSQDByNameResultDict:SearchQueryDefinition))#">8<iselse>7</isif>' class="e s" align="right">
									<isif condition="#NOT isDefined(GetSQDByNameResultDict:SearchQueryDefinition)#">
										<table border="0" cellspacing="4" cellpadding="0">
											<tr>
												<isif condition="#(Catalog:TypeCode != 2) OR ((NOT Category:isRootCategory) AND (NOT hasLoopElements(Category:SubCategories))) #"><!--- For classification catalogs check subcategories--->
													<isif condition="#NOT(isDefined( GetSQDByNameResultDict:SearchQueryDefinition ))#">
														<td class="button"><input type="submit" name="AddProducts" value="#localizeText('CatalogCategoryProducts.Add.button')#" class="button"/></td>
													</isif>
												</isif>
												<isif condition="#NOT(isDefined( GetSQDByNameResultDict:SearchQueryDefinition ))#">
													<td class="button"><input type="submit" name="ConfirmUnassignSelectedProducts" value="#localizeText('CatalogCategoryProducts.Unassign.button')#" class="button"/></td>
												</isif>
												<isif condition="#ShowSorting eq 'True'#">
													<td class="button"><input type="submit" name="sort" value="#localizeText('CatalogCategoryProducts.Sort.button')#" class="button" <isif condition="#StartUnSorted EQ 'False'#">disabled="disabled"</isif>/></td>
													<td class="button"><input type="submit" name="unsort" value="#localizeText('CatalogCategoryProducts.Unsort.button')#" class="button" <isif condition="#RowSpan == 0#">disabled="disabled"</isif> /></td>
												</isif>
												<isif condition="#NOT(isDefined( GetSQDByNameResultDict:SearchQueryDefinition ))#">
													<td class="button"><input type="submit" name="confirmProductsDelete" value="#localizeText('CatalogCategoryProducts.Delete.button')#" class="button"/></td>
												</isif>
											</tr>
										</table>
									<iselse>
										&nbsp;
									</isif>
								</td>
							</tr>
						</isif>
						<tr>
							<td>
								<input type="hidden" name="CatalogID" value="<isprint value="#Catalog:Id#">"/>
								<input type="hidden" name="CatalogCategoryID" value="<isprint value="#Category:UUID#">"/>
								<img src="#WebRoot()#/images/space.gif" width="1" height="6" alt="" border="0"/>
							</td>
						</tr>
						<tr>
							<isif condition="#(RowSpan > 0) AND (ShowSorting EQ 'True') AND isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS)#">
								<isset scope="request" name ="ColSpanOfPagingBar" value="#ColSpanOfPagingBar + 1#">
							</isif>
							<td colspan="<isprint value="#ColSpanOfPagingBar#">">
								<ISFlexPagingBar2 pageable="Products" variablepagesize="true" rowsperpage="#RowsPerPage#">
							</td>
						</tr>
					</table>
				<iselse>
					<table cellpadding="0" cellspacing="0" border="0" width="100%">
						<tr>
							<td class="table_detail w e s"><istext key="CatalogCategoryProducts.ThisCategoryDoesNotContainAnyProducts.table_detail" encoding="off"/></td>
						</tr>
						<isif condition="#NOT(isDefined( GetSQDByNameResultDict:SearchQueryDefinition ))#">
							<isif condition="#((Catalog:TypeCode != 2) OR ((NOT Category:isRootCategory) AND (NOT hasLoopElements(Category:SubCategories)))) AND isDefined(CurrentUserPermissionMap:SLD_MANAGE_CATALOGS)#"><!--- For classification catalogs check subcategories--->
								<tr>
									<td class="w e s" align="right">
										<input type="hidden" name="CatalogID" value="<isprint value="#Catalog:Id#">"/>
										<input type="hidden" name="CatalogCategoryID" value="<isprint value="#Category:UUID#">"/>
										<table border="0" cellspacing="4" cellpadding="0">
											<tr>
												<td class="button"><input type="submit" name="AddProducts" value="#localizeText('CatalogCategoryProducts.Add.button')#" class="button"/></td>
											</tr>
										</table>
									</td>
								</tr>
							</isif>
						</isif>
					</table>
				</isif>
			</td>
		</tr>
	</table>
</isform>