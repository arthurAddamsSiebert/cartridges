<iscontent type="text/html" charset="UTF-8" compact="true">
<isinclude template="preview/Modules">
<!-- Working Area -->
<ISBreadCrumbTrail link="#URL(Action('ViewOverview-Catalog'))#" text="#localizeText('sld_enterprise_app.MasterCatalogs.text')#" start="true" hide="true">
<isif condition="#(NOT isDefined(CurrentSearchType)) OR (CurrentSearchType EQ 'Simple')#">
	<ISBreadCrumbTrail  removewizard="true" listview="true" link="#URL(Action('ViewProductList-Sort'), Parameter('IsSearchFired', IsSearchFired), Parameter('SelectedMenuItem', SelectedMenuItem))#" text="#localizeText('sld_enterprise_app.Products.text')#" hide="false">
<iselseif condition="#CurrentSearchType EQ 'Classification'#">
	<ISBreadCrumbTrail  removewizard="true" listview="true" link="#URL(Action('ViewProductList-SortClassification'),Parameter('ChannelID', ChannelID), Parameter('IsSearchFired', IsSearchFired), Parameter('SelectedMenuItem', SelectedMenuItem))#" text="#localizeText('sld_enterprise_app.Products.text')#">
<iselse>
	<ISBreadCrumbTrail  removewizard="true" listview="true" link="#URL(Action('ViewProductList-SortAdvanced'), Parameter('IsSearchFired', IsSearchFired), Parameter('SelectedMenuItem', SelectedMenuItem))#" text="#localizeText('sld_enterprise_app.Products.text')#" hide="false">
</isif>
<table border="0" cellpadding="0" cellspacing="0" width="100%" data-testing-id="page-bo-product-list-organization">
	<tr>
		<td width="100%" class="table_title aldi"><istext key="sld_enterprise_app.MasterProducts.table_title" encoding="off"/></td>
	</tr>
	<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_PRODUCTS)#">
		<!-- delete confirmation if one is selected, script is found in inc/ConfirmationScript.isml-->
		<isif condition="#isDefined(confirmDelete) AND hasLoopElements(Clipboard:ObjectUUIDs)#">
			<tr>
				<td>
					<isform action="#URL(Action('ViewProductList-Dispatch'))#" name="deleteForm" method="post">
						<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
							<tr>
								<td class="error_icon e">
									<img src="#WebRoot()#/images/confirmation.gif" width="16" height="15" alt="" border="0"/>
								</td>
								<td class="confirm" width="100%">
									<istext key="sld_enterprise_app.DeleteAllSelectedProducts.error" encoding="off"/>
									<isif condition="#(RecycleBinUsage NE 'true')#">
										<br/><istext key="sld_enterprise_app.NoteProductsWhichAreDerivedByChannelsOrOtherOrgani.error" encoding="off"/>
									</isif>
								</td>
								<td>
									<table border="0" cellspacing="0" cellpadding="0">
										<tr>
											<td class="button">
												<input type="submit" name="delete" value="#localizeText('sld_enterprise_app.OK.button')#" class="button"/>
											</td>
											<td><img src="#Webroot()#/images/space.gif" width="4" height="0" alt="" border="0"/></td>
											<td class="button">
												<input type="submit" name="cancel" value="#localizeText('sld_enterprise_app.Cancel.button')#" class="button"/>
												<input type="hidden" name="IsSearchFired" value="<isprint value="#IsSearchFired#"/>" />
											</td>
										</tr>
									</table>
								</td>
							</tr>
						</table>
					</isform>
				</td>
			</tr>
		</isif>
		<!-- offline confirmation if default variation is selected-->
		<isif condition="#isDefined(DeletionOfDefaultVariationProduct)#">
			<tr>
				<td>
					<isform action="#URL(Action('ViewProductList-Dispatch'))#" name="updateForm" method="post">
						<table border="0" cellspacing="0" cellpadding="0" width="100%" class="confirm_box">
							<ISMessageBox subject="#localizeText('sld_enterprise_app.Products.subject')#" type="mdc" message="#localizeText('sld_enterprise_app.SetDefaultVariationProductOffline.message')#"
							              okbtnname="applyOfflineProduct" cancelbtnname="cancelDefaultVariationDelete" colspan="1"
							              parametername1="IsSearchFired" parametervalue1="#IsSearchFired#">
			              	<input type="hidden" name="ProductID" value="#ProductID#"/>
			              	<input type="hidden" name="applyDefaultVariation" value="">
						</table>
					</isform>
				</td>
			</tr>
		</isif>	
		<isif condition="#IsDefined(applyOfflineProduct) AND (NOT (IsDefined(ProductBORepository:ProductBOByID(ProductID):ProductBOMaster:AttributeValue("MasterProductOfflineByVariation")) AND (ProductBORepository:ProductBOByID(ProductID):ProductBOMaster:AttributeValue("MasterProductOfflineByVariation"):StringValue EQ 'true')))#">
			<tr>
				<td>
					<table border="0" cellpadding="4" cellspacing="0" width="100%"
							class="information w e s">
						<tr>
							<td class="e"><img
								src="#WebRoot()#/images/information.gif" width="16" height="15" alt=""
								border="0" />
							</td>
							<td class="information" width="100%">
								<istext key="sld_enterprise_app.TheProductVariationWithSKUIsNewDefaultVariant.message" parameter0="#ProductBORepository:ProductBOByID(ProductID):ProductBOMaster:DefaultVariationProductBO:SKU#" parameter1="#ProductBORepository:ProductBOByID(ProductID):ProductBOMaster:DefaultVariationProductBO:Name#" encoding="off"/>
							</td>
						</tr>
					</table>
				</td>
			</tr>		
		</isif>
		<isif condition="#IsDefined(MasterProductReturnedOnline)#">
			<tr>
				<td>
					<table border="0" cellpadding="4" cellspacing="0" width="100%"
							class="information w e s">
						<tr>
							<td class="e"><img
								src="#WebRoot()#/images/information.gif" width="16" height="15" alt=""
								border="0" />
							</td>
							<td class="information" width="100%">
								<istext key="sld_enterprise_app.TheDefaultProductSetOnlineToo.message" parameter0="#ProductBORepository:ProductBOByID(ProductID):DefaultVariationProductBO:SKU#" parameter1="#ProductBORepository:ProductBOByID(ProductID):DefaultVariationProductBO:Name#" encoding="off"/>
							</td>
						</tr>
					</table>
				</td>
			</tr>		
		</isif>
		<isif condition="#IsDefined(applyOfflineProduct) AND IsDefined(ProductBORepository:ProductBOByID(ProductID):ProductBOMaster:AttributeValue("MasterProductOfflineByVariation")) AND (ProductBORepository:ProductBOByID(ProductID):ProductBOMaster:AttributeValue("MasterProductOfflineByVariation"):StringValue EQ 'true')#">
			<tr>
				<td>
					<table border="0" cellpadding="4" cellspacing="0" width="100%"
							class="information w e s">
						<tr>
							<td class="e"><img
								src="#WebRoot()#/images/information.gif" width="16" height="15" alt=""
								border="0" />
							</td>
							<td class="information" width="100%">
								<istext key="sld_enterprise_app.MasterVariationWasSetToOfflineToo.message" parameter0="#ProductBORepository:ProductBOByID(ProductID):ProductBOMaster:DefaultVariationProductBO:SKU#" parameter1="#ProductBORepository:ProductBOByID(ProductID):ProductBOMaster:DefaultVariationProductBO:Name#" encoding="off"/>
							</td>
						</tr>
					</table>
				</td>
			</tr>		
		</isif>
		<!-- confirmation if nothing is selected for assign and edit all-->
		<isif condition="#isDefined(NoProductSelected)#">
			<tr>
				<td>
					<table border="0" cellspacing="0" cellpadding="4" width="100%" class="error_box w e s">
						<tr>
							<td class="error_icon e">
								<img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/>
							</td>
							<td class="error" width="100%">
								<istext key="sld_enterprise_app.YouHaveNotSelectedAnyProducts.error" encoding="off"/><br/>
								<isif condition="#isDefined(assign)#">
									<istext key="sld_enterprise_app.UseTheCheckboxesToSelectAndClickAssign.message" encoding="off"/>
								<iselseif condition="#isDefined(process)#">
									<istext key="sld_enterprise_app.UseTheCheckboxesToSelectAndClickEditSelected.message" encoding="off"/>
								<iselseif condition="#isDefined(copy)#">
									<istext key="sld_enterprise_app.UseTheCheckboxesToSelectAndClickCopy.message" encoding="off"/>
								<iselseif condition="#isDefined(selectStagingTarget)#">
									<istext key="sld_enterprise_app.UseTheCheckboxesToSelectAndClickPublishToLiveSystem.message" encoding="off"/>
								</isif>
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</isif>
		<!-- delete confirmation if nothing is selected-->
		<isif condition="#isDefined(confirmDelete) AND (NOT(hasLoopElements(Clipboard:ObjectUUIDs)))#">
			<tr>
				<td>
					<table border="0" cellspacing="0" cellpadding="4" width="100%" class="error_box w e s">
						<tr>
							<td class="error_icon e">
								<img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/>
							</td>
							<td class="error" width="100%">
								<istext key="sld_enterprise_app.PleaseSelectAtLeastOneProduct.error" encoding="off"/>
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</isif>
		<isif condition="#(isDefined(PreviewProductError))#">
			<tr>
				<td>
					<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
						<tr>
							<td class="error_icon e"><img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/></td>
							<td class="error" width="100%"><isPreviewError previewError="#PreviewProductError#" ></td>
						</tr>
					</table>
				</td>
			</tr>
		<iselseif condition="#(isDefined(confirmPreview))#">
		    <isform action="#URL(Action('ViewProductList-Dispatch'))#" name="deleteForm" method="post">
	            <input type="hidden" name="ProductID" value="#stringToHtml(ProductID)#"/>
	            <isPreviewMessageBox previewMessage="#confirmPreview#" itemType="product">
            </isform>
		</isif>


		<!-- delete confirmation if one is selected, script is found in inc/ConfirmationScript.isml-->
		<isif condition="#(isDefined(ProductDeletionFailed) AND (ProductDeletionFailed EQ 'OffersExist'))#">
			<tr>
				<td>
					<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
						<tr>
							<td class="error_icon e">
								<img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/>
							</td>
							<td class="error" width="100%">
								<istext key="sld_enterprise_app.SomeProductsCouldNotBeDeletedBecauseTheyAreOffered.error" encoding="off"/>
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</isif>
		<isif condition="#(isDefined(ProductDeletionFailed) AND (ProductDeletionFailed EQ 'ProductReferencesExist'))#">
			<tr>
				<td>
					<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
						<tr>
							<td class="error_icon e">
								<img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/>
							</td>
							<td class="error" width="100%">
								<istext key="sld_enterprise_app.YouCannotDeleteAllOfTheSelectedItemsBecauseTheyAre.error" encoding="off"/>
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</isif>
	    <isif condition="#(isDefined(ProductDeletionFailed) AND (ProductDeletionFailed EQ 'Locked'))#">
			<tr>
				<td>
					<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
						<tr>
							<td class="error_icon e">
								<img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/>
							</td>
							<td class="error" width="100%">
								<istext key="sld_enterprise_app.SomeProductsCouldNotBeDeletedBecauseTheyAreLockedB.error" encoding="off"/>
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</isif>	
		<isif condition="#(isDefined(ProductDeletionFailed) AND (ProductDeletionFailed EQ 'CacheClearFailed'))#">
			<tr>
				<td>
					<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
						<tr>
							<td class="error_icon e">
								<img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/>
							</td>
							<td class="error" width="100%">
								<istext key="sld_enterprise_app.TheProductSCannotBeDeletedPleaseSeeTheErrorLogForD.error" encoding="off"/>
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</isif>
		<isif condition="#(isDefined(ErrorProductNotAvailable))#">
			<tr>
				<td>
					<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
						<tr>
							<td class="error_icon e">
								<img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/>
							</td>
							<td class="error" width="100%">
								<istext key="sld_enterprise_app.TheProductIsNotLongerAvailable.error" encoding="off"/>
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</isif>
	</isif>
	<!-- Check search mask -->
	<tr>
		<td>
			<table border="0" cellpadding="0" cellspacing="0" width="100%">
				<isinclude template="inc/ProductSearchMessages.isml">
			</table>
		</td>
	</tr>
	
	<isset name="ProductButtonsDisabledAttribute" value="#''#" scope="request"/>	
	<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_PRODUCTS)#">
		<isif condition="#isDefined(ProductLockActivated) AND (ProductLockActivated EQ 'true')#">
			<ispipeline pipeline="ProcessProductLock-LookupParentNamedResource" alias="GlobalProductLockInfoDictionary" params="#ParamMap(ParamEntry('ProductDomain',ProductDomain))#"/>
			<isif condition="#isDefined(GlobalProductLockInfoDictionary:AllProductsLocked)#">
				<isset name="ProductButtonsDisabledAttribute" value="#'disabled="disabled"'#" scope="request"/>
				<tr>
					<td>
						<table border="0" cellpadding="3" cellspacing="0" width="100%" class="information w e s">
							<tr>
								<td><img src="#WebRoot()#/images/lockedForOther.gif" align="middle" alt="#localizeText('sld_enterprise_app.LockedByOther.alt')#" title="#localizeText('sld_enterprise_app.LockedByOther.title')#" border="0"/></td>
								<td width="100%">
									<istext key="sld_enterprise_app.AllProductsAreCurrentlyLockedBySystemProcess.message" parameter0="text-decoration: underline" encoding="off"/>
									<isLockOwnerToolTip Resource="#GlobalProductLockInfoDictionary:Resource#" CurrentUser="#CurrentUser#">
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</isif>
		</isif>	
	</isif>
	
	<isif condition="#isDefined(InitializingSearch) AND (InitializingSearch EQ 'true')#">
		<tr>
			<td>	
				<table border="0" cellspacing="0" cellpadding="4" width="100%" class="information w e s">
					<tr>
						<td class="e"><img src="#WebRoot()#/images/information.gif" width="16" height="15" alt="" border="0"/></td>
						<td width="100%"><istext key="ProductSearch.NoSearchExecuted" encoding="off"/></td>
					</tr>
				</table>
			</td>
		</tr>
	<iselse>
		<tr>
			<td class="table_title_description w e s">
				<isif condition="#isDefined(IsSearchFired) AND (IsSearchFired EQ 'true')#">
						<istext key="sld_enterprise_app.TheListShowsAllSearchResults.table_title_description" encoding="off"/>
				<iselse>
						<istext key="sld_enterprise_app.TheListShowsAllProductsCurrentlyInTheCentralReposi.table_title_description" encoding="off"/>
				</isif>
				<isif condition="#hasLoopElements(Products) AND hasElements(TargetClusters)#">
						<br/><br/><istext key="sld_enterprise_app.ForPublishingProductsToLiveSystemClickPublishToLiv.table_title_description" encoding="off"/>
				</isif>
			</td>
		</tr>
	</isif>
</table>
<!-- include Standard Product search mask for simple and parametric search -->
<isif condition="#(SearchType NE 'classification')#">
	<isset name="ProductSearchHelpContext" value="#'/help/ov_ui.html#ov_ui_searchOpt'#" scope="request" />
</isif>

<ISProductSearchMask pipeline="ViewProductList-Dispatch" searchtype="#SearchType#" parametername1="IsSearchFired" parametervalue1="#IsSearchFired#">
<isif condition="#NOT isDefined(SearchType)#">
	<isput name="SearchType" value="simple">
</isif>

<!-- Main Content -->
<ISSticky>
<isform action="#URL(Action('ViewProductList-Dispatch'))#" method="post" name="detailForm">
	<table width="100%" border="0" cellspacing="0" cellpadding="0" class="w">
		<tr>
			<td>
				<table width="100%" border="0" cellspacing="0" cellpadding="0" class="stickyHeader">
					<thead>
						<isif condition="#NOT hasLoopElements(Products)#">
							<tr>
								<td colspan="9">
									<isif condition="#NOT isDefined(InitializingSearch) OR (InitializingSearch NE 'true')#">
										<table border="0" cellpadding="0" cellspacing="0" width="100%" class="e s">
											<isif condition="#isDefined(PriceFromError) OR isDefined(PriceToError) OR isdefined(ERROR_ModifiedDateFrom) OR isdefined(ERROR_ModifiedDateTo)#">
											 	<!--  Error case -> no text --> 
												<ISProductSearchNoResult EmptySearchResultDesc="" EmptyRepositoryDesc="#localizeText('ProductSearch.TheCentralProductRepositoryIsEmpty').' '.localizeText('ProductSearch.ClickNewToAddProducts')#">
											<iselse>
												<ISProductSearchNoResult EmptySearchResultDesc="#localizeText('ProductSearch.NoProductsFoundForYourSearch')#" EmptyRepositoryDesc="#localizeText('ProductSearch.TheCentralProductRepositoryIsEmpty').' '.localizeText('ProductSearch.ClickNewToAddProducts')#">
											</isif>
										</table>
									</isif>
									<table class="e s" width="100%" border="0" cellspacing="0" cellpadding="0">
										<tr>
											<td align="left">
												<table border="0" cellspacing="4" cellpadding="0">
													<tr>
														<td class="button">
															<input type="submit" name="new" value="#localizeText('sld_enterprise_app.New.button')#" class="button" <isprint value="#ProductButtonsDisabledAttribute#"/>/>
														</td>
													</tr>
												</table>
											</td>
										</tr>
									</table>
								</td>
							</tr>
						<iselse>
							<tr>
								<td colspan="9">
									<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_PRODUCTS)#">
										<table class="e s" width="100%" border="0" cellspacing="0" cellpadding="0">
											<tr>
												<td align="left" border="0" cellspacing="0" cellpadding="0">
													<table border="0" cellspacing="0" cellpadding="0">
														<td align="left">
															<table border="0" cellspacing="4" cellpadding="0">
																<tr>
																	<td class="button">
																		<input type="submit" name="assign" value="#localizeText('sld_enterprise_app.Assign.button')#" class="button" <isprint value="#ProductButtonsDisabledAttribute#"/>/>
																	</td>
																	<td class="button">
																		<input type="submit" name="new" value="#localizeText('sld_enterprise_app.New.button')#" class="button" <isprint value="#ProductButtonsDisabledAttribute#"/>/>
																	</td>
																	<td class="button">
																		<input type="submit" name="copy" value="#localizeText('sld_enterprise_app.Copy.button')#" class="button" <isprint value="#ProductButtonsDisabledAttribute#"/>/>
																	</td>
																	<td class="button">
																		<input type="submit" name="confirmDelete" value="#localizeText('sld_enterprise_app.Delete.button')#" class="button" <isprint value="#ProductButtonsDisabledAttribute#"/>/>
																		<input type="hidden" name="NamePrefix" value="<istext key="sld_enterprise_app.CopyOf" encoding="off"/> "/>
																		<input type="hidden" name="IsSearchFired" value="<isprint value="#IsSearchFired#"/>" />
																	</td>
																</tr>
															</table>
														</td>
														<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_BATCH_PROCESSES)#">
															<td width="26">
																&nbsp;
															</td>
															<td align="left">
																<table border="0" cellspacing="4" cellpadding="0">
																	<tr>
																		<td class="button">
																			<input type="submit" name="process" value="#localizeText('sld_enterprise_app.EditSelected.button')#" class="button" <isprint value="#ProductButtonsDisabledAttribute#"/>/>
																		</td>
																		<td class="button">
																			<input type="submit" name="EditAll" value="#localizeText('sld_enterprise_app.EditAll.button')#" class="button" <isprint value="#ProductButtonsDisabledAttribute#"/>/>
																		</td>
																	</tr>
																</table>
															</td>
														</isif>
														<isif condition="#(isDefined(CurrentUserPermissionMap:SLD_REPLICATE_CATALOG_WO_PROVIDER)) 
																					   OR (isDefined(PermissionMap:SLD_REPLICATE_CATALOG_WO_PROVIDER))#">
															<ISPublishToLiveButton addSeparatorBefore="true" disableButtonAttribute="#ProductButtonsDisabledAttribute#">
														</isif>
													</table>
												</td>
											</tr>
										</table>
									</isif>
								</td>
							</tr>
							<tr>
								<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_PRODUCTS)#">
									<th class="table_header e s" nowrap="nowrap" width="80">
										<div id="A">
											<table border="0" cellspacing="0" cellpadding="0" class="table_header center" width="80">
												<tr>
													<td nowrap="nowrap">
														<a href="javascript:selectAll('detailForm','SelectedProductUUID','A','B');" class="tableheader">
															<istext key="sld_enterprise_app.SelectAll.link" encoding="off"/>
														</a>
													</td>
												</tr>
											</table>
										</div>
										<div id="B" style="display:none">
											<table border="0" cellspacing="0" cellpadding="0" class="table_header center" width="80">
												<tr>
													<td nowrap="nowrap">
														<a href="javascript:selectAll('detailForm','SelectedProductUUID','A','B');" class="tableheader">
															<istext key="sld_enterprise_app.ClearAll.link" encoding="off"/>
														</a>
													</td>
												</tr>
											</table>
										</div>
									</th>
								</isif>
								<!--- Hint: Notice the different of CurrentSearchType and SearchType. While SearchType will declare 
										the search mask to display, the CurrentSearchType depends on the current result set. SearchType and CurrentSearchType can differ! --->
								<isif condition="#CurrentSearchType EQ 'Advanced'#">
									<th class="table_header e s" width="60"><istext key="sld_enterprise_app.Image.table_header" encoding="off"/></th>
									<th class="table_header e s">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'name') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList-SortAdvanced'), Parameter('SortBy','name'), Parameter('SortDirection','ascending'), Parameter('SearchType',SearchType))#"><istext key="sld_enterprise_app.Name.link" encoding="off"/></a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList-SortAdvanced'), Parameter('SortBy','name'), Parameter('SortDirection','descending'), Parameter('SearchType',SearchType))#"><istext key="sld_enterprise_app.Name.link" encoding="off"/></a>
										</isif>
									</th>
									<th class="table_header e s" nowrap="nowrap" width="10%">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'SKU') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList-SortAdvanced'), Parameter('SortBy','SKU'), Parameter('SortDirection','ascending'), Parameter('SearchType',SearchType))#"><istext key="sld_enterprise_app.ID.link" encoding="off"/></a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList-SortAdvanced'), Parameter('SortBy','SKU'), Parameter('SortDirection','descending'), Parameter('SearchType',SearchType))#"><istext key="sld_enterprise_app.ID.link" encoding="off"/></a>
										</isif>
									</th>
									<th class="table_header e s" nowrap="nowrap" width="10%">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'SupplierName') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList-SortAdvanced'), Parameter('SortBy','SupplierName'), Parameter('SortDirection', 'ascending'), Parameter('SearchType',SearchType))#" ><istext key="sld_enterprise_app.Supplier.link" encoding="off"/></a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList-SortAdvanced'), Parameter('SortBy','SupplierName'), Parameter('SortDirection', 'descending'), Parameter('SearchType',SearchType))#" ><istext key="sld_enterprise_app.Supplier.link" encoding="off"/></a>						
										</isif>	
									</th>
									<th class="table_header e s right" nowrap="nowrap" width="10%">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'value') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList-SortAdvanced'), Parameter('SortBy','value'), Parameter('SortDirection','ascending'), Parameter('SearchType',SearchType))#">
												<istext key="sld_enterprise_app.ListPrice0.link" parameter0="#encodeValue(CurrentSession:Currency:CurrencyName)#" encoding="off"/>
											</a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList-SortAdvanced'), Parameter('SortBy','value'), Parameter('SortDirection','descending'), Parameter('SearchType',SearchType))#">
												<istext key="sld_enterprise_app.ListPrice0.link" parameter0="#encodeValue(CurrentSession:Currency:CurrencyName)#" encoding="off"/>
											</a>
										</isif>
									</th>
									<th class="table_header e s" nowrap="nowrap" width="10%"><istext key="sld_enterprise_app.Type.table_header" encoding="off"/></th>
									<th class="table_header e s left" width="5%"><istext key="sld_enterprise_app.Status.table_header" encoding="off"/></th>
									<th class="table_header e s left" width="5%"><istext key="sld_enterprise_app.Actions.table_header" encoding="off"/></th>
								<iselseif condition="#CurrentSearchType EQ 'Classification'#">
									<th class="table_header e s" width="60"><istext key="sld_enterprise_app.Image.table_header" encoding="off"/></th>
									<th class="table_header e s">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'name') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList-SortClassification'), Parameter('SortBy','name'), Parameter('SortDirection', 'ascending'), Parameter('SearchType',SearchType))#" ><istext key="sld_enterprise_app.Name.link" encoding="off"/></a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList-SortClassification'), Parameter('SortBy','name'), Parameter('SortDirection', 'descending'), Parameter('SearchType',SearchType))#" ><istext key="sld_enterprise_app.Name.link" encoding="off"/></a>						
										</isif>
									</th>
									<th class="table_header e s" nowrap="nowrap" width="10%">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'SKU') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList-SortClassification'), Parameter('SortBy','SKU'), Parameter('SortDirection', 'ascending'), Parameter('SearchType',SearchType))#" ><istext key="sld_enterprise_app.ID.link" encoding="off"/></a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList-SortClassification'), Parameter('SortBy','SKU'), Parameter('SortDirection', 'descending'), Parameter('SearchType',SearchType))#" ><istext key="sld_enterprise_app.ID.link" encoding="off"/></a>						
										</isif>
									</th>
									<th class="table_header e s" nowrap="nowrap" width="10%">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'SupplierName') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList-SortClassification'), Parameter('SortBy','SupplierName'), Parameter('SortDirection', 'ascending'), Parameter('SearchType',SearchType))#" ><istext key="sld_enterprise_app.Supplier.link" encoding="off"/></a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList-SortClassification'), Parameter('SortBy','SupplierName'), Parameter('SortDirection', 'descending'), Parameter('SearchType',SearchType))#" ><istext key="sld_enterprise_app.Supplier.link" encoding="off"/></a>						
										</isif>	
									</th>
									<th class="table_header e s right" nowrap="nowrap"  width="10%">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'value') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList-SortClassification'), Parameter('SortBy','value'), Parameter('SortDirection', 'ascending'), Parameter('SearchType',SearchType))#" ><istext key="sld_enterprise_app.ListPrice0.link" parameter0="#encodeValue(CurrentSession:Currency:CurrencyName)#" encoding="off"/></a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList-SortClassification'), Parameter('SortBy','value'), Parameter('SortDirection', 'descending'), Parameter('SearchType',SearchType))#" ><istext key="sld_enterprise_app.ListPrice0.link" parameter0="#encodeValue(CurrentSession:Currency:CurrencyName)#" encoding="off"/></a>						
										</isif>
									</th>
									<th class="table_header e s" nowrap="nowrap" width="10%"><istext key="sld_enterprise_app.Type.table_header" encoding="off"/></th>
									<th class="table_header e s left" width="5%"><istext key="sld_enterprise_app.Status.table_header" encoding="off"/></th>
									<th class="table_header e s left" width="5%"><istext key="sld_enterprise_app.Actions.table_header" encoding="off"/></th>
								<iselse>
									<th class="table_header e s" width="60"><istext key="sld_enterprise_app.Image.table_header" encoding="off"/></th>
									<th class="table_header e s">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'name') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList-Sort'), Parameter('SortBy','name'), Parameter('SortDirection', 'ascending'), Parameter('SearchType',SearchType))#"><istext key="sld_enterprise_app.Name.link" encoding="off"/></a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList-Sort'), Parameter('SortBy','name'), Parameter('SortDirection', 'descending'), Parameter('SearchType',SearchType))#"><istext key="sld_enterprise_app.Name.link" encoding="off"/></a>
										</isif>
									</th>
									<th class="table_header e s" nowrap="nowrap" width="10%">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'sku') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList-Sort'), Parameter('SortBy','sku'), Parameter('SortDirection', 'ascending'), Parameter('SearchType',SearchType))#"><istext key="sld_enterprise_app.ID.link" encoding="off"/></a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList-Sort'), Parameter('SortBy','sku'), Parameter('SortDirection', 'descending'), Parameter('SearchType',SearchType))#"><istext key="sld_enterprise_app.ID.link" encoding="off"/></a>
										</isif>
									</th>
									<th class="table_header e s" nowrap="nowrap" width="10%">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'SupplierName') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList-Sort'), Parameter('SortBy','SupplierName'), Parameter('SortDirection', 'ascending'), Parameter('SearchType',SearchType))#" ><istext key="sld_enterprise_app.Supplier.link" encoding="off"/></a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList-Sort'), Parameter('SortBy','SupplierName'), Parameter('SortDirection', 'descending'), Parameter('SearchType',SearchType))#" ><istext key="sld_enterprise_app.Supplier.link" encoding="off"/></a>						
										</isif>
									</th>
									<th class="table_header e s right" nowrap="nowrap" width="10%"><isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'value') AND (SortDirection EQ 'descending')#"><a class="tableheader" href="#URL(Action('ViewProductList-Sort'), Parameter('SortBy','value'), Parameter('SortDirection', 'ascending'), Parameter('SearchType',SearchType))#"><istext key="sld_enterprise_app.ListPrice0.link" parameter0="#encodeValue(CurrentSession:Currency:CurrencyName)#" encoding="off"/></a><iselse><a class="tableheader" href="#URL(Action('ViewProductList-Sort'), Parameter('SortBy','value'), Parameter('SortDirection', 'descending'), Parameter('SearchType',SearchType))#"><istext key="sld_enterprise_app.ListPrice0.link" parameter0="#encodeValue(CurrentSession:Currency:CurrencyName)#" encoding="off"/></a></isif></th>
									<th class="table_header e s" nowrap="nowrap" width="10%"><istext key="sld_enterprise_app.Type.table_header" encoding="off"/></th>
									<th class="table_header e s left" width="5%"><istext key="sld_enterprise_app.Status.table_header" encoding="off"/></th>
									<th class="table_header e s left" width="5%"><istext key="sld_enterprise_app.Actions.table_header" encoding="off"/></th>
								</isif>
							</tr>
						</isif>
					</thead>
					<tbody>
						<isif condition="#hasLoopElements(Products)#">		
							<isloop iterator="Products" alias="Product">
								<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_PRODUCTS) AND isDefined(ProductLockActivated) AND (ProductLockActivated EQ 'true')#">
									<ispipeline pipeline="ProcessProductLock-Lookup" alias="ProductLockInfoDictionary" params="#ParamMap(ParamEntry('Product',Product),ParamEntry('User',CurrentUser))#"/>
 								</isif>
 								<isif condition="#isDefined(ProductLockInfoDictionary:ProductLockedForOther)#">
									<isset name="ProductEditingEnabled" value="false" scope="request"/>			
								<iselse>
									<isset name="ProductEditingEnabled" value="true" scope="request"/>										
								</isif>
								<tr class="products_list_row">
									<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_PRODUCTS)#">
										<td class="e s center top">
											<input type="checkbox" name="SelectedProductUUID" value="<isprint value="#Product:UUID#">" <isif condition="#(Product:UUID EQ Clipboard:ObjectUUID(Product:UUID)) AND NOT (isDefined(GlobalProductLockInfoDictionary:AllProductsLocked) OR isDefined(ProductLockInfoDictionary:ProductLockedForOther))#">checked="checked"</isif> <isif condition="#ProductEditingEnabled EQ 'false'#">disabled="disabled"</isif>/>
											<input type="hidden" name="ProductUUID" value="<isprint value="#Product:UUID#">"/>
										</td>
									</isif>
									<td class="e s center top">	
										<ISCreateMap mapname="ProductThumbnailParams" 
											key0="Product" value0="#Product#" 
											key1="OrganizationDomain" value1="#OrganizationDomain#"
											key2="ImageTypeBORepository" value2="#ImageTypeBORepository#"
											key3="ImageViewBORepository" value3="#ImageViewBORepository#">
										<ispipeline pipeline="ProcessProductDetails-GetProductThumbnail" params="#ProductThumbnailParams#" alias="ProductThumbnailDictionary"/>
										<isset name="ProductImageBO" value="#ProductThumbnailDictionary:ProductImageBO#" scope="request"/>
										<isset scope="request" name="ProductImageEffectiveUrl" value="#ProductImageBO:EffectiveUrl#">
										
										<div class="product_list_image">
											<isif condition="#isDefined(ProductImageEffectiveUrl) AND (ProductImageEffectiveUrl NE '')#">
												<img src="#ProductImageEffectiveUrl#" alt=""/>
											<iselse>
												<img src="#WebRoot()#/images/no_image_available.gif" alt=""/>
											</isif>
										</div>
									</td>
									<td class="table_detail e s top">
										<a href="#URL(Action('ViewProduct-Edit'), Parameter('ProductID', Product:UUID))#" class="table_detail_link">
											<isif condition="#isDefined(SearchLocale)#"><isprint value="#Product:Name(SearchLocale)#"><iselse><isprint value="#Product:Name#"></isif>
										</a>
									</td>
									<td class="table_detail e s top" nowrap="nowrap">
										<a href="#URL(Action('ViewProduct-Edit'), Parameter('ProductID', Product:UUID))#" class="table_detail_link">
											<isprint value="#Product:SKU#">
										</a>
									</td>
									<td class="table_detail e s top" nowrap="nowrap">
										<isprint value="#Product:SupplierName#">&nbsp;
									</td>
									<td class="table_detail e s top right" nowrap="nowrap">
										<isProductPrice Product="#Product#">&nbsp;
									</td>
									<td class="table_detail e s top left" nowrap="nowrap">
										<isinclude template="inc/ProductTypeCode">&nbsp;
									</td>
									<!---  Status --->
									<td class="table_detail_status e s top" nowrap="nowrap">
										<table border="0" cellspacing="0" cellpadding="0" width="100%">
											<tr>
												<td width="25%" class="table_detail_status">
													<isif condition="#Product:isAvailable#">
														<img src="#WebRoot()#/images/status_instock.gif" alt="#localizeText('sld_enterprise_app.InStock.alt')#" title="#localizeText('sld_enterprise_app.InStock.title')#" border="0"/>
													<iselse>
														&nbsp;
													</isif>
												</td>
												<td width="25%" class="table_detail_status">
													<isif condition="#Product:hasCatalogCategories#">
														<img src="#WebRoot()#/images/status_explicitly_bound.gif" alt="#localizeText('sld_enterprise_app.Categorized.alt')#" title="#localizeText('sld_enterprise_app.Categorized.title')#" border="0"/>
													<iselse>
														&nbsp;
													</isif>
												</td>
												<td width="25%" class="table_detail_status">
													<isif condition="#Product:getOffersCount>0#">
														<img src="#WebRoot()#/images/status_offers.gif" alt="#localizeText('sld_enterprise_app.Offered.alt')#" title="#localizeText('sld_enterprise_app.Offered.title')#" border="0"/>
													<iselse>
														&nbsp;
													</isif>
												</td>
												<td width="25%" class="table_detail_status">
													<isif condition="#Product:hasDerivedProducts#">
														<img src="#WebRoot()#/images/status_shared_product_to.gif" alt="#localizeText('sld_enterprise_app.SharedToOthers.alt')#" title="#localizeText('sld_enterprise_app.SharedToOthers.title')#" border="0"/>
													<iselse>
														&nbsp;
													</isif>
												</td>
											</tr>
										</table>
									</td>
									<!---  Actions --->
									<td class="table_detail_status e s top" nowrap="nowrap">
										<table border="0" cellspacing="0" cellpadding="0" width="100%">
											<tr>
												<td width="33%" class="table_detail_status">
													<isif condition="#Product:isOnline#">
														<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_PRODUCTS) AND (ProductEditingEnabled EQ 'true')#">
															<button class="action_button" name="setProductOffline" value="<isprint value="#Product:UUID#">" title="#localizeText('sld_enterprise_app.SwitchOffline.button')#">
																<img src="#WebRoot()#/images/onlineGreenDot.gif" alt="#localizeText('sld_enterprise_app.SwitchOffline.alt')#" title="#localizeText('sld_enterprise_app.SwitchOffline.title')#" border="0"/>
															</button>
														<iselse>
															<img src="#WebRoot()#/images/onlineGreenDot.gif" alt="#localizeText('sld_enterprise_app.SwitchOffline.alt')#" title="#localizeText('sld_enterprise_app.SwitchOffline.title')#" border="0"/>
														</isif>
													<iselse>
														<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_PRODUCTS) AND (ProductEditingEnabled EQ 'true')#">
															<button class="action_button" name="setProductOnline" value="<isprint value="#Product:UUID#">" title="#localizeText('sld_enterprise_app.SwitchOnline.button')#">														
																<img src="#WebRoot()#/images/offlineRedDot.gif" alt="#localizeText('sld_enterprise_app.SwitchOnline.alt')#" title="#localizeText('sld_enterprise_app.SwitchOnline.title')#" border="0"/>
															</button>
														<iselse>
															<img src="#WebRoot()#/images/offlineRedDot.gif" alt="#localizeText('sld_enterprise_app.SwitchOnline.alt')#" title="#localizeText('sld_enterprise_app.SwitchOnline.title')#" border="0"/>
														</isif>
													</isif>
												</td>
												<td width="33%" class="table_detail_status">
												<isif condition="#isDefined(CurrentUserPermissionMap:SLD_MANAGE_PRODUCTS) AND isDefined(ProductLockActivated) AND (ProductLockActivated EQ 'true')#">
													<isif condition="#isDefined(ProductLockInfoDictionary:ProductLockedForMe)#">
														<a href="#URL(Action('ViewProductList-UnlockProduct'),Parameter('ProductID',Product:UUID))#"><img src="#WebRoot()#/images/lockedForMe.gif" alt="#localizeText('sld_enterprise_app.LockedForMe.alt')#" title="#localizeText('sld_enterprise_app.LockedForMe.title')#" border="0"/></a>
													<iselseif condition="#isDefined(GlobalProductLockInfoDictionary:AllProductsLocked) OR isDefined(ProductLockInfoDictionary:ProductLockedForOther)#">
														<img src="#WebRoot()#/images/lockedForOther.gif" alt="#localizeText('sld_enterprise_app.LockedByOther.alt1')#" title="#localizeText('sld_enterprise_app.LockedByOther.title1')#" border="0"/>
													<iselse>
														<a href="#URL(Action('ViewProductList-LockProduct'),Parameter('ProductID',Product:UUID))#"><img src="#WebRoot()#/images/unlocked.gif" alt="#localizeText('sld_enterprise_app.Unlocked.alt')#" title="#localizeText('sld_enterprise_app.Unlocked.title')#" border="0"/></a>
													</isif>
												</isif>
												</td>
												<isif condition="#isDefined(CurrentUserPermissionMap:SLD_VIEW_STOREFRONT) and (isDefined(ApplicationBO:getExtension("(Class)com.intershop.sellside.enterprise.capi.preview.ApplicationBOPreviewExtension"):PreviewTargetApplicationBO(CurrentUser)))#">
															<td width="33%" class="table_detail_status">											
																<!--- Product Preview link --->
																<ISPreviewIcon 
																	imageTitle="#localizeText('sld_enterprise_app.OpenASitePreviewDirectlyOnTheProductDetailPageForT.imageTitle')#"
																	imageAlt="#localizeText('sld_enterprise_app.OpenASitePreviewDirectlyOnTheProductDetailPageForT.imageAlt')#"
																	previewURL="#URL(Action('ViewProduct-PreviewProduct'), Parameter('SKU', Product:SKU))#" 
																	contextPipeline="ViewProductList-Paging" 
																	contextParameter0="ClassificationSearchEnabled" contextValue0="#ClassificationSearchEnabled#" >
																<!--- EO Product Preview link --->
															</td>
											    </isif>
											</tr>
										</table>
									</td>
								</tr>
							</isloop>
						</isif>
					</tbody>
				</table>
			</td>
		</tr>
	</table>
	<isif condition="#hasLoopElements(Products)#">
		<table width="100%" border="0" cellspacing="0" cellpadding="0">
			<tr>
				<td>
					<img src="#WebRoot()#/images/space.gif" width="1" height="6" alt="" border="0"/>
				</td>
			</tr>
		</table>
		<!-- Start Page Cursor -->
		<ISFlexPagingBar pageable="Products" variablepagesize="true" parametername="SearchType" parametervalue="#SearchType#" parametername1="IsSearchFired" parametervalue1="#IsSearchFired#" rowsperpage="#RowsPerPage#">
		<!-- End Page Cursor -->
	</isif>
</isform>
<!-- EO Main Content -->
<!-- EO Working Area -->