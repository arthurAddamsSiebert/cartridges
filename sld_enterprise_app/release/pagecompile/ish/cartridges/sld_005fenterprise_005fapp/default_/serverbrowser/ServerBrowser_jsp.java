/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: JspCServletContext/1.0
 * Generated at: 2019-02-13 15:29:32 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package ish.cartridges.sld_005fenterprise_005fapp.default_.serverbrowser;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.*;
import java.io.*;
import com.intershop.beehive.core.internal.template.*;
import com.intershop.beehive.core.internal.template.isml.*;
import com.intershop.beehive.core.capi.log.*;
import com.intershop.beehive.core.capi.resource.*;
import com.intershop.beehive.core.capi.util.UUIDMgr;
import com.intershop.beehive.core.capi.util.XMLHelper;
import com.intershop.beehive.foundation.util.*;
import com.intershop.beehive.core.internal.url.*;
import com.intershop.beehive.core.internal.resource.*;
import com.intershop.beehive.core.internal.wsrp.*;
import com.intershop.beehive.core.capi.pipeline.PipelineDictionary;
import com.intershop.beehive.core.capi.naming.NamingMgr;
import com.intershop.beehive.core.capi.pagecache.PageCacheMgr;
import com.intershop.beehive.core.capi.request.SessionMgr;
import com.intershop.beehive.core.internal.request.SessionMgrImpl;
import com.intershop.beehive.core.pipelet.PipelineConstants;

public final class ServerBrowser_jsp extends com.intershop.beehive.core.internal.template.AbstractTemplate
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html;charset=utf-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 0, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

 
boolean _boolean_result=false;
TemplateExecutionConfig context = getTemplateExecutionConfig();
createTemplatePageConfig(context.getServletRequest());
printHeader(out);
 
 
setEncodingType("text/html"); 
      out.write("<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\">\n<?is-template class=\"");
      out.print(getClass().getName());
      out.write("\" credits=\"Copyright (C) 2008 Intershop Communications AG, all rights reserved.\"?><html>\n    <head>");
 insertIntershopSignature(request,(com.intershop.beehive.core.capi.request.ServletResponse)response); 
      out.write("<title>");
 {out.write(localizeISText("ServerBrowser.ServerBrowser.title",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</title>\n<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/css/ServerBrowser.css\">\n<script type=\"text/javascript\" src=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/tinymce/js/tinymce/tiny_mce_popup.js\"></script>\n<script type=\"text/javascript\"><!-- \nfunction hov(loc,cls) { \nif ((loc.className) && (!loc.disabled == true)) {\nloc.className=cls; \n} \n} \n--></script> \n</head>\n<body onload=\"window.setTimeout(function(){tinyMCEPopup.getWindowArg('server_browser')._onload(window);}, 100);\">\n<div id=\"toolbar_area\">\n<div style=\"float: right;\"><button class=\"btn\" id=\"refreshButton\" onmouseover=\"hov(this,'btnhov')\" onmouseout=\"hov(this,'btn')\" onclick=\"window.server_browser.command(event, 'Refresh', window);\" title=\"");
 {out.write(localizeISText("ServerBrowser.Refresh",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("\"><img src=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/css/ServerBrowser/ic_refresh.gif\" alt=\"");
 {out.write(localizeISText("ServerBrowser.Refresh",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("\" /></button><button class=\"btn\" id=\"uploadButton\" onmouseover=\"hov(this,'btnhov')\" onmouseout=\"hov(this,'btn')\" disabled=\"disabled\" onclick=\"window.server_browser.command(event, 'Upload', window);\" title=\"");
 {out.write(localizeISText("ServerBrowser.Upload",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("\"><img src=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/css/ServerBrowser/ic_upload.gif\" alt=\"");
 {out.write(localizeISText("ServerBrowser.Upload",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("\" /></button><button class=\"btn\" id=\"newFolderButton\" onmouseover=\"hov(this,'btnhov')\" onmouseout=\"hov(this,'btn')\" disabled=\"disabled\" onclick=\"window.server_browser.command(event, 'NewFolder', window);\" title=\"");
 {out.write(localizeISText("ServerBrowser.NewFolder",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("\"><img src=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/css/ServerBrowser/ic_folder_new.gif\" alt=\"");
 {out.write(localizeISText("ServerBrowser.NewFolder",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("\" /></button><button class=\"btn\" id=\"renameButton\" onmouseover=\"hov(this,'btnhov')\" onmouseout=\"hov(this,'btn')\" disabled=\"disabled\" onclick=\"window.server_browser.command(event, 'Rename', window);\" title=\"");
 {out.write(localizeISText("ServerBrowser.Rename",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("\"><img src=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/css/ServerBrowser/ic_rename.gif\" alt=\"");
 {out.write(localizeISText("ServerBrowser.Rename",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("\" /></button><button class=\"btn\" id=\"deleteButton\" onmouseover=\"hov(this,'btnhov')\" onmouseout=\"hov(this,'btn')\" disabled=\"disabled\" onclick=\"window.server_browser.command(event, 'Delete', window);\" title=\"");
 {out.write(localizeISText("ServerBrowser.Delete",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("\"><img src=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/css/ServerBrowser/ic_delete.gif\" alt=\"");
 {out.write(localizeISText("ServerBrowser.Delete",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("\" /></button></div>\n<div>");
 URLPipelineAction action208 = new URLPipelineAction("javascript:;");String site208 = null;String serverGroup208 = null;String actionValue208 = "javascript:;";if (site208 == null){  site208 = action208.getDomain();  if (site208 == null)  {      site208 = com.intershop.beehive.core.capi.request.Request.getCurrent().getRequestSite().getDomainName();  }}if (serverGroup208 == null){  serverGroup208 = action208.getServerGroup();  if (serverGroup208 == null)  {      serverGroup208 = com.intershop.beehive.core.capi.request.Request.getCurrent().getRequestSite().getServerGroup();  }}out.print("<form");out.print(" method=\"");out.print("GET");out.print("\"");out.print(" name=\"");out.print("server_browser_toolbar");out.print("\"");out.print(" action=\"");out.print("javascript:;");out.print("\"");out.print(" onsubmit=\"");out.print("window.server_browser.command(event, 'Search', search_term.value, top.tinyMCE.activeEditor.windowManager.getParams().target_type);");out.print("\"");out.print(">");out.print(context.prepareWACSRFTag(actionValue208, site208, serverGroup208,false)); 
      out.write("<div style=\"display:inline;\">\n<label for=\"search_term\">");
 {out.write(localizeISText("ServerBrowser.Search.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":</label\n><input name=\"search_term\" id=\"search_term\" type=\"text\" size=\"12\"/>\n<button id=\"gobutton\" >");
 {out.write(localizeISText("ServerBrowser.Go.button",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</button>\n</div>");
 out.print("</form>"); 
 URLPipelineAction action209 = new URLPipelineAction("");String site209 = null;String serverGroup209 = null;String actionValue209 = "";if (site209 == null){  site209 = action209.getDomain();  if (site209 == null)  {      site209 = com.intershop.beehive.core.capi.request.Request.getCurrent().getRequestSite().getDomainName();  }}if (serverGroup209 == null){  serverGroup209 = action209.getServerGroup();  if (serverGroup209 == null)  {      serverGroup209 = com.intershop.beehive.core.capi.request.Request.getCurrent().getRequestSite().getServerGroup();  }}out.print("<form");out.print(" method=\"");out.print("GET");out.print("\"");out.print(" name=\"");out.print("server_browser_locale_toolbar");out.print("\"");out.print(" action=\"");out.print("");out.print("\"");out.print(">");out.print(context.prepareWACSRFTag(actionValue209, site209, serverGroup209,false)); 
      out.write("<div style=\"display:inline;\">\n<select name=\"SelectedLocaleId\" class=\"select\" onchange=\"this.form.submit()\">");
 while (loop("Locales","Locales",null)) { 
      out.write("<option value=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("Locales:LocaleID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {38}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write(' ');
 _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("Locales:LocaleID"),null).equals(context.getFormattedValue(getObject("Locale:LocaleID"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",38,e);}if (_boolean_result) { 
      out.write("selected=\"selected\"");
 } 
      out.write('>');
 {String value = null;try{value=context.getFormattedValue(getObject("Locales:getDisplayName(CurrentSession:Locale)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {39}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("&nbsp;\n</option>");
 } 
      out.write("</select>\n</div>");
 out.print("</form>"); 
      out.write("<div> \n</div>\n<div id=\"folder_tree\"><div class=\"server_browser_node closed\" src=\"\" uri=\"\" description=\"Search Results\" description2=\"Search Results\" id=\"folder_searchresult\"><div onclick=\"window.server_browser.toggleFolder(event, this.parentNode);\"\nondblclick=\"window.server_browser.toggleFolder(event, this.parentNode);\"\nclass=\"node_title\"><span onclick=\"window.server_browser.selectFolder(event, this.parentNode.parentNode, true);\"\nondblclick=\"window.server_browser.selectFolder(event, this.parentNode.parentNode, true);\"\nclass=\"node_icon_search\"><img class=\"spacer20x11\" src=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/images/space.gif\">");
 {out.write(localizeISText("ServerBrowser.SearchResults.spacer20x11",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</span></div><div class=\"subfolder_list\" id=\"folder_searchresult_sublist\"></div></div></div>\n<div id=\"entry_list\"></div>\n<div id=\"control_area\">");
 URLPipelineAction action210 = new URLPipelineAction("javascript:;");String site210 = null;String serverGroup210 = null;String actionValue210 = "javascript:;";if (site210 == null){  site210 = action210.getDomain();  if (site210 == null)  {      site210 = com.intershop.beehive.core.capi.request.Request.getCurrent().getRequestSite().getDomainName();  }}if (serverGroup210 == null){  serverGroup210 = action210.getServerGroup();  if (serverGroup210 == null)  {      serverGroup210 = com.intershop.beehive.core.capi.request.Request.getCurrent().getRequestSite().getServerGroup();  }}out.print("<form");out.print(" method=\"");out.print("GET");out.print("\"");out.print(" name=\"");out.print("server_browser");out.print("\"");out.print(" action=\"");out.print("javascript:;");out.print("\"");out.print(">");out.print(context.prepareWACSRFTag(actionValue210, site210, serverGroup210,false)); 
      out.write("<div class=\"control_buttons\">\n<button class=\"button\" onclick=\"window.server_browser.applyValue(window, selected_uri.value, selected_alt.value, selected_ssl.checked);\">");
 {out.write(localizeISText("ServerBrowser.Apply.button",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</button>\n<button class=\"button secondary-button\" onclick=\"tinyMCEPopup.close();\">");
 {out.write(localizeISText("ServerBrowser.Cancel.button",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</button>\n</div>\n<input name=\"selected_uri\" id=\"selected_uri\" type=\"hidden\">\n<label for=\"selected_alt\">");
 {out.write(localizeISText("ServerBrowser.Selected.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":</label\n><input name=\"selected_alt\" id=\"selected_alt\" type=\"text\" readonly=\"readonly\" size=\"48\"\n><label id=\"selected_lb\"></label>\n<span>\n<input name=\"selected_ssl\" id=\"selected_ssl\" type=\"checkbox\"\n><label for=\"selected_ssl\" title=\"");
      out.print(context.getFormattedValue(localizeText(context.getFormattedValue("ServerBrowser.ForceSSLEncryptionByUsingHttpsProtocol.label",null)),null));
      out.write('"');
      out.write('>');
 {out.write(localizeISText("ServerBrowser.ForceSSL.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</label>\n</span>");
 out.print("</form>"); 
      out.write("</div>\n<div id=\"blueprint\" style=\"display: none;\">\n<div id=\"blueprint.folder\"><div class=\"server_browser_node closed\" src=\"@src@\" uri=\"@uri@\" description=\"@description@\" description2=\"@description2@\" readonly=\"@readonly@\"><div onclick=\"window.server_browser.toggleFolder(event, this.parentNode);\"\nondblclick=\"window.server_browser.toggleFolder(event, this.parentNode);\"\nclass=\"node_title\"><span onclick=\"window.server_browser.selectFolder(event, this.parentNode.parentNode, true);\"\nondblclick=\"window.server_browser.selectFolder(event, this.parentNode.parentNode, true);\"\nclass=\"node_icon\" style=\"background-image:url(@icon@)\"><img class=\"spacer20x11\" src=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/images/space.gif\">@title@</span></div><div class=\"subfolder_list\" id=\"@id@\"></div></div></div>\n<div id=\"blueprint.leaf\"><div class=\"server_browser_leaf\" src=\"@src@\" img=\"@preview@\" encoded=\"@encoded@\" description=\"@description@\" description2=\"@description2@\" readonly=\"@readonly@\"><div class=\"leaf_frame\" title=\"@description@\"\nonclick=\"window.server_browser.selectLeaf(event, window, this.parentNode);\"\nondblclick=\"window.server_browser.selectLeaf(event, window, this.parentNode);\">\n<div style=\"margin:1px;background-image:url(@icon@);width:16px;height:17px;\"></div>\n<br></div><a class=\"leaf_title\" title=\"");
      out.print(context.getFormattedValue(localizeText(context.getFormattedValue("ServerBrowser.ShowProduct.link",null)),null));
      out.write("\" href=\"javascript:this.blur();\"\nonclick=\"window.server_browser.openLeaf(event, window, this.parentNode);\">@title@</a></div></div>\n<div id=\"blueprint.placeholder\">\n<img src=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/images/no_image_available.gif\">\n</div>\n<div id=\"params.server_browser\"\nuploadPipeline=\"");
      out.print(context.getFormattedValue(url(true,(new URLPipelineAction(context.getFormattedValue("ServerBrowser-UploadPrompt",null)))),null));
      out.write("\"\nfolderPipeline=\"");
      out.print(context.getFormattedValue(url(true,(new URLPipelineAction(context.getFormattedValue("ServerBrowser-FolderPrompt",null)))),null));
      out.write("\"\nrenameFolderPipeline=\"");
      out.print(context.getFormattedValue(url(true,(new URLPipelineAction(context.getFormattedValue("ServerBrowser-RenameFolderPrompt",null)))),null));
      out.write("\"\nrenameImagePipeline=\"");
      out.print(context.getFormattedValue(url(true,(new URLPipelineAction(context.getFormattedValue("ServerBrowser-RenameImagePrompt",null)))),null));
      out.write("\"\ndeleteFolderPipeline=\"");
      out.print(context.getFormattedValue(url(true,(new URLPipelineAction(context.getFormattedValue("ServerBrowser-DeleteFolderPrompt",null)))),null));
      out.write("\"\ndeleteImagePipeline=\"");
      out.print(context.getFormattedValue(url(true,(new URLPipelineAction(context.getFormattedValue("ServerBrowser-DeleteImagePrompt",null)))),null));
      out.write("\">\n</div>\n<span id=\"title.file\">");
 {out.write(localizeISText("ServerBrowser.SelectLinkTarget1",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</span>\n<span id=\"title.image\">");
 {out.write(localizeISText("ServerBrowser.SelectImage1",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</span>\n<span id=\"title.media\">");
 {out.write(localizeISText("ServerBrowser.SelectImage1",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</span>\n</div>\n<div id=\"prompt_layer\" style=\"display: none\"><div id=\"prompt\" class=\"intershop\"></div></div>\n<div id=\"busy_shield\"><div class=\"spinner\"></div></div>\n</body>\n</html>");
 printFooter(out); 
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
