<%@  page buffer="none" import="java.util.*,java.io.*,com.intershop.beehive.core.internal.template.*,com.intershop.beehive.core.internal.template.isml.*,com.intershop.beehive.core.capi.log.*,com.intershop.beehive.core.capi.resource.*,com.intershop.beehive.core.capi.util.UUIDMgr,com.intershop.beehive.core.capi.util.XMLHelper,com.intershop.beehive.foundation.util.*,com.intershop.beehive.core.internal.url.*,com.intershop.beehive.core.internal.resource.*,com.intershop.beehive.core.internal.wsrp.*,com.intershop.beehive.core.capi.pipeline.PipelineDictionary,com.intershop.beehive.core.capi.naming.NamingMgr,com.intershop.beehive.core.capi.pagecache.PageCacheMgr,com.intershop.beehive.core.capi.request.SessionMgr,com.intershop.beehive.core.internal.request.SessionMgrImpl,com.intershop.beehive.core.pipelet.PipelineConstants" extends="com.intershop.beehive.core.internal.template.AbstractTemplate" %><% 
boolean _boolean_result=false;
TemplateExecutionConfig context = getTemplateExecutionConfig();
createTemplatePageConfig(context.getServletRequest());
printHeader(out);
 %>
<% %><%@ page contentType="text/html;charset=utf-8" %><%setEncodingType("text/html"); %><% {Object temp_obj = (getObject("ConditionDescriptorRegistry:Descriptor(ThisCondition)")); getPipelineDictionary().put("ThisDescriptor", temp_obj);} %><% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("ThisCondition:UUID"),null).equals(context.getFormattedValue(getObject("EditCondition:UUID"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",5,e);}if (_boolean_result) { %><%getPipelineDictionary().put("ThisEditMode", true); %><% } else { %><%getPipelineDictionary().put("ThisEditMode", false); %><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((!((Boolean) (disableErrorMessages().isDefined(getObject("ThisCondition:ParentCondition")))).booleanValue() || !((Boolean) getObject("ThisCondition:ParentCondition:TypeGroupOperator")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && !((Boolean) getObject("ThisEditMode")).booleanValue() && !((Boolean) getObject("ThisEditGroupMode")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",12,e);}if (_boolean_result) { %><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td class="table_detail"><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("ConditionDescriptorRegistry:TypeGroupingEnabled(ThisCondition)")).booleanValue() && !((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("readonly")))).booleanValue() && ((Boolean) ((((context.getFormattedValue(getObject("readonly"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",16,e);}if (_boolean_result) { %><a href="<%=context.getFormattedValue(url(true,(new URLPipelineAction(context.getFormattedValue(getObject("DispatchPipeline"),null))),(new URLParameterSet().addURLParameter(context.getFormattedValue(getObject("ContextObjectIDName"),null),context.getFormattedValue(getObject("ContextObjectID"),null))).addURLParameter(context.getFormattedValue("EditConditionTypeGroupID",null),context.getFormattedValue(getObject("ThisCondition:UUID"),null)).addURLParameter(context.getFormattedValue("editConditionTypeGroup",null),context.getFormattedValue("submit",null)).addURLParameter(context.getFormattedValue(getObject("parametername1"),null),context.getFormattedValue(getObject("parametervalue1"),null)).addURLParameter(context.getFormattedValue(getObject("parametername2"),null),context.getFormattedValue(getObject("parametervalue2"),null)).addURLParameter(context.getFormattedValue(getObject("parametername3"),null),context.getFormattedValue(getObject("parametervalue3"),null)).addURLParameter(context.getFormattedValue(getObject("parametername4"),null),context.getFormattedValue(getObject("parametervalue4"),null)).addURLParameter(context.getFormattedValue(getObject("parametername5"),null),context.getFormattedValue(getObject("parametervalue5"),null))),null)%>" class="emValue"><% {String value = null;try{value=context.getFormattedValue(getObject("ConditionTypesMap:get(ThisDescriptor:Type)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {22}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></a><% } else { %><% {String value = null;try{value=context.getFormattedValue(getObject("ConditionTypesMap:get(ThisDescriptor:Type)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {25}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } %></td>
</tr>
</table><% } %><% {Object temp_obj = (getObject("ThisCondition")); getPipelineDictionary().put("Condition", temp_obj);} %><% {Object temp_obj = (url(true,(new URLPipelineAction(context.getFormattedValue(getObject("DispatchPipeline"),null))),(new URLParameterSet().addURLParameter(context.getFormattedValue(getObject("ContextObjectIDName"),null),context.getFormattedValue(getObject("ContextObjectID"),null))).addURLParameter(context.getFormattedValue("EditConditionID",null),context.getFormattedValue(getObject("Condition:UUID"),null)).addURLParameter(context.getFormattedValue("editCondition",null),context.getFormattedValue("submit",null)).addURLParameter(context.getFormattedValue(getObject("parametername1"),null),context.getFormattedValue(getObject("parametervalue1"),null)).addURLParameter(context.getFormattedValue(getObject("parametername2"),null),context.getFormattedValue(getObject("parametervalue2"),null)).addURLParameter(context.getFormattedValue(getObject("parametername3"),null),context.getFormattedValue(getObject("parametervalue3"),null)).addURLParameter(context.getFormattedValue(getObject("parametername4"),null),context.getFormattedValue(getObject("parametervalue4"),null)).addURLParameter(context.getFormattedValue(getObject("parametername5"),null),context.getFormattedValue(getObject("parametervalue5"),null)))); getPipelineDictionary().put("ConditionConfigurationURL", temp_obj);} %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("ThisEditMode")).booleanValue() && !((Boolean) getObject("ThisEditGroupMode")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",40,e);}if (_boolean_result) { %><table cellpadding="0" cellspacing="6" class="editbox aldi" width="100%">
<tr>
<td class="table_title4"><% {out.write(localizeISText("sld_enterprise_app.Edit.subject",null,null,null,null,null,null,null,null,null,null,null,null));} %> <% {String value = null;try{value=context.getFormattedValue(getObject("ConditionTypesMap:get(ThisDescriptor:Type)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {44}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %> <% {out.write(localizeISText("ConditionEditor.Condition.subject",null,null,null,null,null,null,null,null,null,null,null,null));} %></td>
</tr>
<tr>
<td><% } %> 
<table border="0" cellpadding="0" cellspacing="0" width="100%" <% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("ThisEditMode"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",51,e);}if (_boolean_result) { %>class="aldi editbox"<% } %>><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("ThisEditMode")).booleanValue() && ((Boolean) getObject("ConditionForm:isInvalid")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",52,e);}if (_boolean_result) { %><tr>
<td width="100%" colspan="2" class="se">
<table cellspacing="0" cellpadding="4" border="0" width="100%">
<tr valign="top" width="100%">
<td class="error_icon top ee"><img src="<%=context.getFormattedValue(context.webRoot(),null)%>/images/error.gif" width="16" height="15" alt="" border="0"/></td>
<td class="error top" width="100%">
<b><% {out.write(localizeISText("Condition.ConditionCouldNotBeUpdated.error",null,null,null,null,null,null,null,null,null,null,null,null));} %></b><br/><% processOpenTag(response, pageContext, "safetemplateinclude", new TagParameter[] {
new TagParameter("includename",getObject("ThisDescriptor:ConfigErrorTemplate"))}, 60); %></td>
</tr>
</table>
</td>
</tr><% } %><tr><% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("ThisEditMode"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",68,e);}if (_boolean_result) { %><td class="" width="100%">
<input type="hidden" name="EditConditionID" value="<% {String value = null;try{value=context.getFormattedValue(getObject("ThisCondition:UUID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {70}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("ThisDescriptor:ConfigTemplate"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",71,e);}if (_boolean_result) { %><% processOpenTag(response, pageContext, "safetemplateinclude", new TagParameter[] {
new TagParameter("includename",getObject("ThisDescriptor:ConfigTemplate"))}, 72); %><% } else { %><%getPipelineDictionary().put("ThisEditMode", false); %><% processOpenTag(response, pageContext, "safetemplateinclude", new TagParameter[] {
new TagParameter("includename",getObject("ThisDescriptor:DisplayTemplate"))}, 75); %><% } %></td>
<td class="right top" width="75">
&nbsp;
</td><% } else { %><td colspan="2"><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("ThisDescriptor:DisplayTemplate"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",83,e);}if (_boolean_result) { %><table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr>
<td class="table_detail"><% processOpenTag(response, pageContext, "safetemplateinclude", new TagParameter[] {
new TagParameter("includename",getObject("ThisDescriptor:DisplayTemplate"))}, 87); %></td>
</tr>
</table><% } %></td><% } %></tr><% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("ThisEditMode"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",95,e);}if (_boolean_result) { %><tr>
<td width="100%" align="right" colspan="2" class="ne">
<table cellspacing="4" cellpadding="0" border="0">
<tr>
<td class="button"><input type="submit" class="button" value="<%=context.getFormattedValue(localizeText(context.getFormattedValue("sld_enterprise_app.OK.button",null)),null)%>" name="updateCondition"/></td>
<td class="button"><input type="submit" class="button" value="<%=context.getFormattedValue(localizeText(context.getFormattedValue("sld_enterprise_app.Cancel.button",null)),null)%>" name="cancelCondition"/></td>
</tr>
</table>
</td>
</tr><% } %></table><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("ThisEditMode")).booleanValue() && !((Boolean) getObject("ThisEditGroupMode")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",109,e);}if (_boolean_result) { %></td>
</tr>
</table><% } %> 
<% printFooter(out); %>