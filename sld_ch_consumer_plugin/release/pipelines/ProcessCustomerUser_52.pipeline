<?xml version="1.0" encoding="UTF-8"?>
<!--todo
@Group CustomerUser-->

<pipeline:Pipeline xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:pipeline="http://www.intershop.de/pipeline/2010"
    name="ProcessCustomerUser_52" overrideMode="Inherit" type="process">
<!--Get the LinkLifeTime as domain preference
or as config of application.
This is because some preferences
still configurable as domain preference.
@Location 11,6-->
  <nodes xsi:type="pipeline:Text" nodeID="Text0"/>
<!--@Location 12,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode5" strict="true" name="CallSendEmailPipeline"
      callMode="Private">
    <nodeSuccessors name="next" next="KeyMapper_uePygC2-Eei_qu9acoyebA"/>
    <parameters name="UserBO" type="com.intershop.component.user.capi.UserBO"/>
    <parameters name="CurrentChannel" type="com.intershop.component.mvc.capi.catalog.Repository"/>
    <parameters name="LinkLifeTimeConfigKey" type="java.lang.String" optional="true"/>
    <parameters name="EmailFromConfigKey" type="java.lang.String"/>
    <parameters name="EmailSubjectConfigKey" type="java.lang.String"/>
    <parameters name="EmailTemplateConfigKey" type="java.lang.String"/>
  </nodes>
<!--@Location 12,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper_uePygC2-Eei_qu9acoyebA">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="CallNode1"/>
    <parameterBindings name="InValue_1" constant="(Boolean)true"/>
    <returnValueBindings name="OutValue_1" objectPath="WaitForResult"/>
  </nodes>
<!--@Location 12,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode1">
    <nodeSuccessors name="next" next="GetApplicationBO0"/>
    <startNode referencedName="ProcessOrganization_52-GetConsumerOrg"/>
  </nodes>
<!--@Location 12,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetApplicationBO0">
    <pipelet href="enfinity:/bc_application/pipelets/GetApplicationBO.xml"/>
    <nodeSuccessors name="next" next="GetApplicationBOByID0"/>
    <returnValueBindings name="ApplicationBO" objectPath="CurrentApplicationBO"/>
  </nodes>
<!--@Location 12,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetApplicationBOByID0">
    <pipelet href="enfinity:/bc_application/pipelets/GetApplicationBOByID.xml"/>
    <nodeSuccessors name="next" next="KeyMapper_tW2soC2-Eei_qu9acoyebA"/>
<!--@BendPoints 27,9-->
    <nodeSuccessors name="pipelet_error" next="JoinNode2"/>
    <parameterBindings name="ApplicationBORepository" objectPath="CurrentApplicationBO:Repository(&quot;ApplicationBORepository&quot;)"/>
    <parameterBindings name="ApplicationID" objectPath="Organization:Domain:Site:DefaultApplication:UUID"/>
  </nodes>
<!--@Location 12,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper_tW2soC2-Eei_qu9acoyebA">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="DecisionNode0"/>
    <parameterBindings name="InValue_1" objectPath="ApplicationBO"/>
    <parameterBindings name="InValue_10" objectPath="ApplicationBO:DefaultCurrency"/>
    <returnValueBindings name="OutValue_1" objectPath="TargetApplicationBO"/>
    <returnValueBindings name="OutValue_10" objectPath="DefaultCurrency"/>
  </nodes>
<!--@Location 12,6-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode0" conditionKey="LinkLifeTimeConfigKey">
    <nodeSuccessors name="decision_yes" next="DecisionNode9"/>
<!--@BendPoints 26,13 26,19-->
    <nodeSuccessors name="decision_no" next="JoinNode6"/>
  </nodes>
<!--@Location 12,7-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode9" conditionKey="LinkLifeTimeConfigKey"
      operator="str_eq" conditionValue="PasswordReminderLinkLifeTime">
    <nodeSuccessors name="decision_yes" next="GetDomainPreference0"/>
<!--@BendPoints 23,15-->
    <nodeSuccessors name="decision_no" next="KeyMapper_v0OuAC2-Eei_qu9acoyebA"/>
  </nodes>
<!--@Location 12,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetDomainPreference0">
    <configurationValues name="DefaultPreferenceKey" value="PasswordReminderLinkLifeTime"/>
    <configurationValues name="Type" value="Integer"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetDomainPreference.xml"/>
    <nodeSuccessors name="next" next="JoinNode6"/>
    <parameterBindings name="PreferenceDomain" objectPath="CurrentChannel:Domain"/>
    <returnValueBindings name="PreferenceIntValue" objectPath="PasswordRelatedLinkLifeTime"/>
  </nodes>
<!--@Location 12,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode6">
    <nodeSuccessors name="next" next="KeyMapper_wt454C2-Eei_qu9acoyebA"/>
  </nodes>
<!--@Location 12,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper_wt454C2-Eei_qu9acoyebA">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="ExecutePipeline0"/>
    <parameterBindings name="InValue_1" objectPath="Organization:OwningDomain:Configuration:String(EmailFromConfigKey)"/>
    <parameterBindings name="InValue_10" nullBinding="true"/>
    <parameterBindings name="InValue_2" objectPath="Organization:OwningDomain:Configuration:String(EmailSubjectConfigKey)"/>
    <parameterBindings name="InValue_3" objectPath="Organization:OwningDomain:Configuration:String(EmailTemplateConfigKey)"/>
    <parameterBindings name="InValue_4" nullBinding="true"/>
    <parameterBindings name="InValue_5" nullBinding="true"/>
    <parameterBindings name="InValue_6" nullBinding="true"/>
    <parameterBindings name="InValue_7" nullBinding="true"/>
    <parameterBindings name="InValue_8" nullBinding="true"/>
    <parameterBindings name="InValue_9" nullBinding="true"/>
    <returnValueBindings name="OutValue_1" objectPath="PasswordRelatedEmailFrom"/>
    <returnValueBindings name="OutValue_10" nullBinding="true"/>
    <returnValueBindings name="OutValue_2" objectPath="PasswordRelatedEmailSubject"/>
    <returnValueBindings name="OutValue_3" objectPath="PasswordRelatedEmailTemplate"/>
    <returnValueBindings name="OutValue_4" nullBinding="true"/>
    <returnValueBindings name="OutValue_5" nullBinding="true"/>
    <returnValueBindings name="OutValue_6" nullBinding="true"/>
    <returnValueBindings name="OutValue_7" nullBinding="true"/>
    <returnValueBindings name="OutValue_8" nullBinding="true"/>
    <returnValueBindings name="OutValue_9" nullBinding="true"/>
  </nodes>
<!--@Location 12,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExecutePipeline0">
    <configurationValues name="Asynchronous" value="false"/>
    <configurationValues name="PipelineName" value="ProcessUserForgotLoginData"/>
    <configurationValues name="PipelineStartNode" value="SendPasswordRemainderMail"/>
    <pipelet href="enfinity:/core/pipelets/ExecutePipeline.xml"/>
    <nodeSuccessors name="next" next="DecisionNode1"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode2"/>
    <parameterBindings name="App" nullBinding="true"/>
    <parameterBindings name="Application" objectPath="ApplicationBO:Extension(&quot;PersistentObjectBOExtension&quot;):PersistentObject"/>
    <parameterBindings name="CurrentDomain" objectPath="ApplicationBO:Site:Domain"/>
    <parameterBindings name="CurrentUser" nullBinding="true"/>
    <parameterBindings name="PipelineDomain" nullBinding="true"/>
    <parameterBindings name="PipelineDomainID" nullBinding="true"/>
    <parameterBindings name="PipelineDomainName" nullBinding="true"/>
    <parameterBindings name="PipelineName" nullBinding="true"/>
    <parameterBindings name="PipelineStartNode" nullBinding="true"/>
  </nodes>
<!--@Location 12,12-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode1" conditionKey="PipelineResult:hasFinishedWithEnd"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="DecisionNode2"/>
    <nodeSuccessors name="decision_no" next="JoinNode9"/>
  </nodes>
<!--@Location 12,13-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode2" conditionKey="PipelineResult:EndName"
      operator="str_eq" conditionValue="ERROR">
    <nodeSuccessors name="decision_yes" next="JoinNode10"/>
    <nodeSuccessors name="decision_no" next="SetDictionaryValue_xjaMoC2-Eei_qu9acoyebA"/>
  </nodes>
<!--@Location 13,13-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode10">
    <nodeSuccessors name="next" next="SetDictionaryValue_yMj3UC2-Eei_qu9acoyebA"/>
  </nodes>
<!--@Location 13,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue_yMj3UC2-Eei_qu9acoyebA">
    <configurationValues name="Name" value="MailResult"/>
    <configurationValues name="Value" value="error"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/core/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="EndNode7"/>
  </nodes>
<!--@Location 13,15-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode7" name="ERROR" strict="true">
    <returnValues name="MailResult" type="java.lang.String"/>
  </nodes>
<!--@Location 12,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue_xjaMoC2-Eei_qu9acoyebA">
    <configurationValues name="Name" value="MailResult"/>
    <configurationValues name="Value" value="ok"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/core/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="EndNode8"/>
  </nodes>
<!--@Location 12,15-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode8" name="OK" strict="true">
    <returnValues name="MailResult" type="java.lang.String"/>
  </nodes>
<!--@Location 13,12-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode9">
    <nodeSuccessors name="next" next="JoinNode10"/>
  </nodes>
<!--@Location 13,11-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode2">
    <nodeSuccessors name="next" next="JoinNode9"/>
  </nodes>
<!--@Location 11,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper_v0OuAC2-Eei_qu9acoyebA">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
<!--@BendPoints 23,19-->
    <nodeSuccessors name="next" next="JoinNode6"/>
    <parameterBindings name="InValue_1" objectPath="Organization:OwningDomain:Configuration:Integer(LinkLifeTimeConfigKey)"/>
    <parameterBindings name="InValue_10" nullBinding="true"/>
    <parameterBindings name="InValue_2" nullBinding="true"/>
    <parameterBindings name="InValue_3" nullBinding="true"/>
    <parameterBindings name="InValue_4" nullBinding="true"/>
    <parameterBindings name="InValue_5" nullBinding="true"/>
    <parameterBindings name="InValue_6" nullBinding="true"/>
    <parameterBindings name="InValue_7" nullBinding="true"/>
    <parameterBindings name="InValue_8" nullBinding="true"/>
    <parameterBindings name="InValue_9" nullBinding="true"/>
    <returnValueBindings name="OutValue_1" objectPath="PasswordRelatedLinkLifeTime"/>
    <returnValueBindings name="OutValue_10" nullBinding="true"/>
    <returnValueBindings name="OutValue_2" nullBinding="true"/>
    <returnValueBindings name="OutValue_3" nullBinding="true"/>
    <returnValueBindings name="OutValue_4" nullBinding="true"/>
    <returnValueBindings name="OutValue_5" nullBinding="true"/>
    <returnValueBindings name="OutValue_6" nullBinding="true"/>
    <returnValueBindings name="OutValue_7" nullBinding="true"/>
    <returnValueBindings name="OutValue_8" nullBinding="true"/>
    <returnValueBindings name="OutValue_9" nullBinding="true"/>
  </nodes>
<!--@Location 9,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode4" strict="true" name="CreateUser"
      callMode="Private">
    <nodeSuccessors name="next" next="GeneratePassword0" action="begin"/>
    <parameters name="CustomerUserForm" type="com.intershop.beehive.core.capi.webform.Form"/>
    <parameters name="UserBORepository" type="com.intershop.component.user.capi.UserBORepository"/>
    <parameters name="CurrentDomain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 9,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GeneratePassword0">
    <pipelet href="enfinity:/core/pipelets/GeneratePassword.xml"/>
    <nodeSuccessors name="next" next="CreateUserBO0"/>
<!--@BendPoints 21,3-->
    <nodeSuccessors name="pipelet_error" next="JoinNode1"/>
  </nodes>
<!--@Location 9,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateUserBO0">
    <pipelet href="enfinity:/bc_user/pipelets/CreateUserBO.xml"/>
    <nodeSuccessors name="next" next="UpdateUserBOCredentials0"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode1"/>
    <parameterBindings name="Login" objectPath="CustomerUserForm:Login:FormattedValue"/>
    <parameterBindings name="UserBORepository" objectPath="UserBORepository"/>
  </nodes>
<!--@Location 9,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateUserBOCredentials0">
    <pipelet href="enfinity:/bc_user/pipelets/UpdateUserBOCredentials.xml"/>
    <nodeSuccessors name="next" next="UpdateUserBO1"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode3"/>
    <parameterBindings name="Answer" nullBinding="true"/>
    <parameterBindings name="IPRange" nullBinding="true"/>
    <parameterBindings name="IsActive" nullBinding="true"/>
    <parameterBindings name="LastLoggedInDate" nullBinding="true"/>
    <parameterBindings name="Login" objectPath="CustomerUserForm:Login:FormattedValue"/>
    <parameterBindings name="NewPasswordExpiry" nullBinding="true"/>
    <parameterBindings name="Password" objectPath="Password"/>
    <parameterBindings name="SecureCode" objectPath="SecureCode"/>
    <parameterBindings name="SecurityQuestion" nullBinding="true"/>
    <parameterBindings name="UserBO" objectPath="UserBO"/>
  </nodes>
<!--@Location 9,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateUserBO1">
    <configurationValues name="UpdateMissingProperties" value="true"/>
    <pipelet href="enfinity:/bc_user/pipelets/UpdateUserBO.xml"/>
    <nodeSuccessors name="next" next="ExtensionPointNode0" action="flush"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode4"/>
    <parameterBindings name="Active" objectPath="CustomerUserForm:Active:Value"/>
    <parameterBindings name="Birthday" objectPath="CustomerUserForm:Birthday:Value"/>
    <parameterBindings name="Department" objectPath="CustomerUserForm:Department:Value"/>
    <parameterBindings name="Email" objectPath="CustomerUserForm:Email:Value"/>
    <parameterBindings name="Fax" objectPath="CustomerUserForm:Fax:Value"/>
    <parameterBindings name="FirstName" objectPath="CustomerUserForm:FirstName:Value"/>
    <parameterBindings name="LastName" objectPath="CustomerUserForm:LastName:Value"/>
    <parameterBindings name="Mobile" objectPath="CustomerUserForm:Mobile:Value"/>
    <parameterBindings name="PhoneBusiness" objectPath="CustomerUserForm:PhoneBusiness:Value"/>
    <parameterBindings name="PhoneHome" objectPath="CustomerUserForm:PhoneHome:Value"/>
    <parameterBindings name="PreferedLanguage" objectPath="CustomerUserForm:LocaleID:Value"/>
    <parameterBindings name="Title" objectPath="CustomerUserForm:Title:Value"/>
    <parameterBindings name="UserID" objectPath="CustomerUserForm:UserID:Value"/>
  </nodes>
<!--@Location 9,5-->
  <nodes xsi:type="pipeline:ExtensionPointNode" nodeID="ExtensionPointNode0" name="CustomerUserCreated"
      strict="true">
    <nodeSuccessors name="next" next="EndNode4" action="commit"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode7"/>
    <parameters name="UserBO" type="com.intershop.component.user.capi.UserBO"/>
    <parameters name="CustomerUserForm" type="com.intershop.beehive.core.capi.webform.Form"/>
  </nodes>
<!--@Location 9,6-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode4" name="OK" strict="true">
    <returnValues name="UserBO" type="com.intershop.component.user.capi.UserBO" optional="true"/>
  </nodes>
<!--@Location 10,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode7">
    <nodeSuccessors name="next" next="EndNode5" action="rollback"/>
  </nodes>
<!--@Location 10,6-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode5" name="ERROR" strict="true">
    <returnValues name="ERROR_User" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 10,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode4">
    <nodeSuccessors name="next" next="JoinNode7"/>
  </nodes>
<!--@Location 10,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode3">
    <nodeSuccessors name="next" next="JoinNode4"/>
  </nodes>
<!--@Location 10,2-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode1">
    <nodeSuccessors name="next" next="JoinNode3"/>
  </nodes>
<!--@Location 5,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode2" strict="true" name="DeleteUser"
      callMode="Private">
    <nodeSuccessors name="next" next="DeleteUserBO0"/>
    <parameters name="UserBO" type="com.intershop.component.user.capi.UserBO"/>
    <parameters name="CustomerBO" type="com.intershop.component.customer.capi.CustomerBO"/>
  </nodes>
<!--@Location 5,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="DeleteUserBO0">
    <pipelet href="enfinity:/bc_user/pipelets/DeleteUserBO.xml"/>
    <nodeSuccessors name="next" next="EndNode2"/>
    <parameterBindings name="UserBORepository" objectPath="CustomerBO:Extension(&quot;GroupCustomer&quot;)"/>
  </nodes>
<!--@Location 5,2-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode2" strict="true"/>
<!--@Location 1,8-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode7" strict="true" name="DeleteUsers"
      callMode="Private">
    <nodeSuccessors name="next" next="LoopNode1" action="begin"/>
    <parameters name="UserIDIterator" type="java.util.Iterator&lt;java.lang.String>"/>
    <parameters name="CustomerBO" type="com.intershop.component.customer.capi.CustomerBO"/>
    <parameters name="UserBORepository" type="com.intershop.component.user.capi.UserBORepository"/>
  </nodes>
<!--@Location 1,9-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode1" loop="UserIDIterator">
    <nodeSuccessors name="next" next="EndNode10" action="commit"/>
    <entry key="UserUUID">
      <nodeSuccessors name="loop_entry_next" next="CallNode2"/>
    </entry>
  </nodes>
<!--@Location 1,10-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode2">
    <nodeSuccessors name="next" next="CallNode6"/>
    <startNode referencedName="ProcessCustomerUser_52-GetUserBO"/>
  </nodes>
<!--@Location 1,11-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode6">
    <nodeSuccessors name="next" next="CallNode8"/>
    <parameterBindings name="CustomerID" objectPath="CustomerBO:ID"/>
    <startNode referencedName="ProcessPromotion-UnassignUserFromPromotionTargetGroups"/>
  </nodes>
<!--@Location 1,12-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode8">
    <nodeSuccessors name="next" next="CallNode3"/>
    <parameterBindings name="CustomerID" objectPath="CustomerBO:ID"/>
    <startNode referencedName="ProcessCatalogFilter-UnassignUserFromCatalogFilterTargetGroups"/>
  </nodes>
<!--@Location 1,13-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode3">
<!--@BendPoints 1,27 1,19-->
    <nodeSuccessors name="next" next="LoopNode1_Entry"/>
    <startNode referencedName="ProcessCustomerUser_52-DeleteUser"/>
  </nodes>
<!--@Location 2,9-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode10" strict="true"/>
<!--@Location 3,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode1" strict="true" name="GetUserBO"
      callMode="Private">
    <nodeSuccessors name="next" next="GetUserBO0"/>
    <parameters name="UserUUID" type="java.lang.String"/>
    <parameters name="UserBORepository" type="com.intershop.component.user.capi.UserBORepository"/>
  </nodes>
<!--@Location 3,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetUserBO0">
    <pipelet href="enfinity:/bc_user/pipelets/GetUserBO.xml"/>
    <nodeSuccessors name="next" next="EndNode1"/>
    <parameterBindings name="UserID" objectPath="UserUUID"/>
  </nodes>
<!--@Location 3,2-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode1" strict="true">
    <returnValues name="UserBO" type="com.intershop.component.user.capi.UserBO" optional="true"/>
  </nodes>
<!--@Location 1,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode0" strict="true" name="GetUserBOsByCustomer"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode0"/>
    <parameters name="CurrentChannel" type="com.intershop.component.mvc.capi.catalog.Repository"/>
    <parameters name="CustomerID" type="java.lang.String"/>
    <parameters name="SortBy" type="java.lang.String" optional="true"/>
    <parameters name="SortDirection" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 1,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode0">
    <nodeSuccessors name="next" next="ExecutePageableQuery0"/>
    <startNode referencedName="ProcessOrganization_52-GetConsumerOrg"/>
  </nodes>
<!--@Location 1,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExecutePageableQuery0">
    <configurationValues name="DefaultPageSize" value="15"/>
    <configurationValues name="ParameterName_01" value="UserDomain"/>
    <configurationValues name="ParameterName_02" value="CustomerID"/>
    <configurationValues name="ParameterName_03" value="SortBy"/>
    <configurationValues name="ParameterName_04" value="SortDirection"/>
    <configurationValues name="QueryName" value="GetCustomerUserSearch"/>
    <pipelet href="enfinity:/core/pipelets/ExecutePageableQuery.xml"/>
    <nodeSuccessors name="next" next="JoinNode0"/>
<!--@BendPoints 5,5 5,7-->
    <nodeSuccessors name="pipelet_error" next="JoinNode0"/>
    <parameterBindings name="Connection" nullBinding="true"/>
    <parameterBindings name="PageSize" nullBinding="true"/>
    <parameterBindings name="ParameterValue_01" objectPath="Organization:OrganizationDomain"/>
    <parameterBindings name="ParameterValue_02" objectPath="CustomerID"/>
    <parameterBindings name="ParameterValue_03" objectPath="SortBy"/>
    <parameterBindings name="ParameterValue_04" objectPath="SortDirection"/>
    <parameterBindings name="ParameterValue_05" nullBinding="true"/>
    <parameterBindings name="Parameters" nullBinding="true"/>
    <parameterBindings name="Query" nullBinding="true"/>
    <returnValueBindings name="SearchResult" objectPath="Users"/>
  </nodes>
<!--@Location 1,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode0">
    <nodeSuccessors name="next" next="EndNode0"/>
  </nodes>
<!--@Location 1,4-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode0" strict="true">
    <returnValues name="Users" type="java.util.Iterator&lt;com.intershop.component.user.capi.UserBO>"
        optional="true"/>
  </nodes>
<!--@Location 4,8-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode8" strict="true" name="IsLastUser"
      callMode="Private">
    <nodeSuccessors name="next" next="LoopNode2"/>
    <parameters name="UserBO" type="com.intershop.component.user.capi.UserBO"/>
    <parameters name="UserBORepository" type="com.intershop.component.user.capi.UserBORepository"/>
  </nodes>
<!--@Location 4,9-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode2" loop="UserBORepository:AllUserBOs">
    <nodeSuccessors name="next" next="KeyMapper_3QmY8C2-Eei_qu9acoyebA"/>
    <entry key="CurrentUserBO">
<!--@BendPoints 9,20-->
      <nodeSuccessors name="loop_entry_next" next="DecisionNode3"/>
    </entry>
  </nodes>
<!--@Location 4,10-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode3" conditionKey="UserBO:ID"
      operator="str_eq" conditionItem="CurrentUserBO:ID">
<!--@BendPoints 9,22 7,22 7,19-->
    <nodeSuccessors name="decision_yes" next="LoopNode2_Entry"/>
    <nodeSuccessors name="decision_no" next="KeyMapper_3vPcwC2-Eei_qu9acoyebA"/>
  </nodes>
<!--@Location 5,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper_3vPcwC2-Eei_qu9acoyebA">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="EndNode11"/>
    <parameterBindings name="InValue_1" constant="(Boolean)false"/>
    <parameterBindings name="InValue_10" nullBinding="true"/>
    <parameterBindings name="InValue_2" nullBinding="true"/>
    <parameterBindings name="InValue_3" nullBinding="true"/>
    <parameterBindings name="InValue_4" nullBinding="true"/>
    <parameterBindings name="InValue_5" nullBinding="true"/>
    <parameterBindings name="InValue_6" nullBinding="true"/>
    <parameterBindings name="InValue_7" nullBinding="true"/>
    <parameterBindings name="InValue_8" nullBinding="true"/>
    <parameterBindings name="InValue_9" nullBinding="true"/>
    <returnValueBindings name="OutValue_1" objectPath="IsLastUser"/>
    <returnValueBindings name="OutValue_10" nullBinding="true"/>
    <returnValueBindings name="OutValue_2" nullBinding="true"/>
    <returnValueBindings name="OutValue_3" nullBinding="true"/>
    <returnValueBindings name="OutValue_4" nullBinding="true"/>
    <returnValueBindings name="OutValue_5" nullBinding="true"/>
    <returnValueBindings name="OutValue_6" nullBinding="true"/>
    <returnValueBindings name="OutValue_7" nullBinding="true"/>
    <returnValueBindings name="OutValue_8" nullBinding="true"/>
    <returnValueBindings name="OutValue_9" nullBinding="true"/>
  </nodes>
<!--@Location 6,10-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode11" name="false" strict="true">
    <returnValues name="IsLastUser" type="java.lang.Boolean"/>
  </nodes>
<!--@Location 5,9-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper_3QmY8C2-Eei_qu9acoyebA">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="EndNode12"/>
    <parameterBindings name="InValue_1" constant="(Boolean)true"/>
    <parameterBindings name="InValue_10" nullBinding="true"/>
    <parameterBindings name="InValue_2" nullBinding="true"/>
    <parameterBindings name="InValue_3" nullBinding="true"/>
    <parameterBindings name="InValue_4" nullBinding="true"/>
    <parameterBindings name="InValue_5" nullBinding="true"/>
    <parameterBindings name="InValue_6" nullBinding="true"/>
    <parameterBindings name="InValue_7" nullBinding="true"/>
    <parameterBindings name="InValue_8" nullBinding="true"/>
    <parameterBindings name="InValue_9" nullBinding="true"/>
    <returnValueBindings name="OutValue_1" objectPath="IsLastUser"/>
    <returnValueBindings name="OutValue_10" nullBinding="true"/>
    <returnValueBindings name="OutValue_2" nullBinding="true"/>
    <returnValueBindings name="OutValue_3" nullBinding="true"/>
    <returnValueBindings name="OutValue_4" nullBinding="true"/>
    <returnValueBindings name="OutValue_5" nullBinding="true"/>
    <returnValueBindings name="OutValue_6" nullBinding="true"/>
    <returnValueBindings name="OutValue_7" nullBinding="true"/>
    <returnValueBindings name="OutValue_8" nullBinding="true"/>
    <returnValueBindings name="OutValue_9" nullBinding="true"/>
  </nodes>
<!--@Location 6,9-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode12" name="true" strict="true">
    <returnValues name="IsLastUser" type="java.lang.Boolean"/>
  </nodes>
<!--@Location 8,11-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode9" strict="true" name="IsLastUsers"
      callMode="Private">
    <nodeSuccessors name="next" next="LoopNode3"/>
    <parameters name="UserBORepository" type="com.intershop.component.user.capi.UserBORepository"/>
    <parameters name="UserIDIterator" type="java.util.Iterator&lt;java.lang.String>"/>
  </nodes>
<!--@Location 8,12-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode3" loop="UserBORepository:AllUserBOs">
    <nodeSuccessors name="next" next="KeyMapper_5beVEC2-Eei_qu9acoyebA"/>
    <entry key="CurrentUserBO">
      <nodeSuccessors name="loop_entry_next" next="LoopNode4"/>
    </entry>
  </nodes>
<!--@Location 8,13-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode4" loop="UserIDIterator">
    <nodeSuccessors name="next" next="KeyMapper_5-05wC2-Eei_qu9acoyebA"/>
    <entry key="UserUUID">
      <nodeSuccessors name="loop_entry_next" next="CallNode4"/>
    </entry>
  </nodes>
<!--@Location 8,14-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode4">
<!--@BendPoints 17,31-->
    <nodeSuccessors name="next" next="DecisionNode4"/>
    <parameterBindings name="UserUUID" objectPath="UserUUID"/>
    <startNode referencedName="ProcessCustomerUser_52-GetUserBO"/>
    <returnValueBindings name="UserBO" objectPath="UserBO"/>
  </nodes>
<!--@Location 7,15-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode4" conditionKey="UserBO:ID"
      operator="str_eq" conditionItem="CurrentUserBO:ID">
<!--@BendPoints 14,31 14,25-->
    <nodeSuccessors name="decision_yes" next="LoopNode3_Entry"/>
<!--@BendPoints 15,27-->
    <nodeSuccessors name="decision_no" next="LoopNode4_Entry"/>
  </nodes>
<!--@Location 9,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper_5-05wC2-Eei_qu9acoyebA">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="EndNode13"/>
    <parameterBindings name="InValue_1" constant="(Boolean)false"/>
    <parameterBindings name="InValue_10" nullBinding="true"/>
    <parameterBindings name="InValue_2" nullBinding="true"/>
    <parameterBindings name="InValue_3" nullBinding="true"/>
    <parameterBindings name="InValue_4" nullBinding="true"/>
    <parameterBindings name="InValue_5" nullBinding="true"/>
    <parameterBindings name="InValue_6" nullBinding="true"/>
    <parameterBindings name="InValue_7" nullBinding="true"/>
    <parameterBindings name="InValue_8" nullBinding="true"/>
    <parameterBindings name="InValue_9" nullBinding="true"/>
    <returnValueBindings name="OutValue_1" objectPath="IsLastUser"/>
    <returnValueBindings name="OutValue_10" nullBinding="true"/>
    <returnValueBindings name="OutValue_2" nullBinding="true"/>
    <returnValueBindings name="OutValue_3" nullBinding="true"/>
    <returnValueBindings name="OutValue_4" nullBinding="true"/>
    <returnValueBindings name="OutValue_5" nullBinding="true"/>
    <returnValueBindings name="OutValue_6" nullBinding="true"/>
    <returnValueBindings name="OutValue_7" nullBinding="true"/>
    <returnValueBindings name="OutValue_8" nullBinding="true"/>
    <returnValueBindings name="OutValue_9" nullBinding="true"/>
  </nodes>
<!--@Location 10,13-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode13" name="false" strict="true">
    <returnValues name="IsLastUser" type="java.lang.Boolean"/>
  </nodes>
<!--@Location 9,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper_5beVEC2-Eei_qu9acoyebA">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="EndNode15"/>
    <parameterBindings name="InValue_1" constant="(Boolean)true"/>
    <parameterBindings name="InValue_10" nullBinding="true"/>
    <parameterBindings name="InValue_2" nullBinding="true"/>
    <parameterBindings name="InValue_3" nullBinding="true"/>
    <parameterBindings name="InValue_4" nullBinding="true"/>
    <parameterBindings name="InValue_5" nullBinding="true"/>
    <parameterBindings name="InValue_6" nullBinding="true"/>
    <parameterBindings name="InValue_7" nullBinding="true"/>
    <parameterBindings name="InValue_8" nullBinding="true"/>
    <parameterBindings name="InValue_9" nullBinding="true"/>
    <returnValueBindings name="OutValue_1" objectPath="IsLastUser"/>
    <returnValueBindings name="OutValue_10" nullBinding="true"/>
    <returnValueBindings name="OutValue_2" nullBinding="true"/>
    <returnValueBindings name="OutValue_3" nullBinding="true"/>
    <returnValueBindings name="OutValue_4" nullBinding="true"/>
    <returnValueBindings name="OutValue_5" nullBinding="true"/>
    <returnValueBindings name="OutValue_6" nullBinding="true"/>
    <returnValueBindings name="OutValue_7" nullBinding="true"/>
    <returnValueBindings name="OutValue_8" nullBinding="true"/>
    <returnValueBindings name="OutValue_9" nullBinding="true"/>
  </nodes>
<!--@Location 10,12-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode15" name="true" strict="true">
    <returnValues name="IsLastUser" type="java.lang.Boolean"/>
  </nodes>
<!--@Location 14,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode6" strict="true" name="Move"
      callMode="Private">
    <nodeSuccessors name="next" next="LoopNode0"/>
    <parameters name="UUIDIterator" type="java.util.Iterator&lt;java.lang.String>"/>
    <parameters name="CustomerBO" type="com.intershop.component.customer.capi.CustomerBO"/>
    <parameters name="UserBORepository" type="com.intershop.component.user.capi.UserBORepository"/>
    <parameters name="CustomerBORepository" type="com.intershop.component.customer.capi.CustomerBORepository"/>
  </nodes>
<!--@Location 14,1-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode0" loop="UUIDIterator">
    <nodeSuccessors name="next" next="EndNode9"/>
    <entry key="UserUUID">
      <nodeSuccessors name="loop_entry_next" next="GetUserBO1"/>
    </entry>
  </nodes>
<!--@Location 14,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetUserBO1">
    <pipelet href="enfinity:/bc_user/pipelets/GetUserBO.xml"/>
    <nodeSuccessors name="next" next="GetCustomerBOByUserID0"/>
    <parameterBindings name="UserID" objectPath="UserUUID"/>
  </nodes>
<!--@Location 14,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCustomerBOByUserID0">
    <pipelet href="enfinity:/bc_customer/pipelets/GetCustomerBOByUserID.xml"/>
    <nodeSuccessors name="next" next="JoinNode13"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode13"/>
    <parameterBindings name="UserID" objectPath="UserBO:ID"/>
    <returnValueBindings name="CustomerBO" objectPath="oldCustomerBO"/>
  </nodes>
<!--@Location 14,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode13">
    <nodeSuccessors name="next" next="MoveUserBOToCustomerBO0"/>
  </nodes>
<!--@Location 14,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="MoveUserBOToCustomerBO0">
    <pipelet href="enfinity:/bc_customer/pipelets/MoveUserBOToCustomerBO.xml"/>
    <nodeSuccessors name="next" next="ExtensionPointNode2"/>
    <parameterBindings name="CustomerBOGroupCustomerExtension" objectPath="CustomerBO:Extension(&quot;GroupCustomer&quot;)"/>
  </nodes>
<!--@Location 14,6-->
  <nodes xsi:type="pipeline:ExtensionPointNode" nodeID="ExtensionPointNode2" name="CustomerUserMoved"
      strict="true">
    <nodeSuccessors name="next" next="LoopNode0_Entry"/>
    <parameters name="UserBO" type="com.intershop.component.user.capi.UserBO"/>
    <parameters name="oldCustomerBO" type="com.intershop.component.customer.capi.CustomerBO"/>
    <parameters name="CustomerBO" type="com.intershop.component.customer.capi.CustomerBO"/>
  </nodes>
<!--@Location 15,1-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode9" strict="true"/>
<!--@Location 17,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode10" strict="true" name="SendUserCreationMail"
      callMode="Private">
    <nodeSuccessors name="next" next="GetApplicationBO1"/>
    <parameters name="CustomerBO" type="com.intershop.component.customer.capi.CustomerBO"
        optional="true"/>
    <parameters name="CurrentChannel" type="com.intershop.component.mvc.capi.catalog.Repository"/>
    <parameters name="UserBO" type="com.intershop.component.user.capi.UserBO"/>
  </nodes>
<!--@Location 17,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetApplicationBO1">
    <pipelet href="enfinity:/bc_application/pipelets/GetApplicationBO.xml"/>
    <nodeSuccessors name="next" next="KeyMapper_9dZ5cC2-Eei_qu9acoyebA"/>
  </nodes>
<!--@Location 17,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper_9dZ5cC2-Eei_qu9acoyebA">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="DecisionNode10"/>
    <parameterBindings name="InValue_1" objectPath="CustomerBO:Extension(&quot;CompanyCustomer&quot;)"/>
    <parameterBindings name="InValue_10" nullBinding="true"/>
    <parameterBindings name="InValue_2" objectPath="ApplicationBO:Extension(&quot;CustomerApproval&quot;)"/>
    <parameterBindings name="InValue_3" nullBinding="true"/>
    <parameterBindings name="InValue_4" nullBinding="true"/>
    <parameterBindings name="InValue_5" nullBinding="true"/>
    <parameterBindings name="InValue_6" nullBinding="true"/>
    <parameterBindings name="InValue_7" nullBinding="true"/>
    <parameterBindings name="InValue_8" nullBinding="true"/>
    <parameterBindings name="InValue_9" nullBinding="true"/>
    <returnValueBindings name="OutValue_1" objectPath="CompanyCustomer"/>
    <returnValueBindings name="OutValue_10" nullBinding="true"/>
    <returnValueBindings name="OutValue_2" objectPath="CustomerApprovalExtension"/>
    <returnValueBindings name="OutValue_3" nullBinding="true"/>
    <returnValueBindings name="OutValue_4" nullBinding="true"/>
    <returnValueBindings name="OutValue_5" nullBinding="true"/>
    <returnValueBindings name="OutValue_6" nullBinding="true"/>
    <returnValueBindings name="OutValue_7" nullBinding="true"/>
    <returnValueBindings name="OutValue_8" nullBinding="true"/>
    <returnValueBindings name="OutValue_9" nullBinding="true"/>
  </nodes>
<!--@Location 17,3-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode10" conditionKey="CompanyCustomer:isActive"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="DecisionNode8"/>
<!--@BendPoints 37,7-->
    <nodeSuccessors name="decision_no" next="JoinNode17"/>
  </nodes>
<!--@Location 17,4-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode8" conditionKey="CustomerApprovalExtension">
    <nodeSuccessors name="decision_yes" next="DecisionNode6"/>
<!--@BendPoints 33,9-->
    <nodeSuccessors name="decision_no" next="JoinNode14"/>
  </nodes>
<!--@Location 17,5-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode6" conditionKey="CustomerApprovalExtension:Enabled(CustomerBO:CustomerType)"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="CallNode5"/>
    <nodeSuccessors name="decision_no" next="JoinNode14"/>
  </nodes>
<!--@Location 17,6-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode5">
    <nodeSuccessors name="next" next="DecisionNode7"/>
    <nodeSuccessors name="ERROR" next="JoinNode17"/>
    <startNode referencedName="ProcessCustomer-isApproved"/>
  </nodes>
<!--@Location 17,7-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode7" conditionKey="UserBO:Disabled"
      operator="str_eq" conditionValue="false">
    <nodeSuccessors name="decision_yes" next="CallNode7"/>
    <nodeSuccessors name="decision_no" next="JoinNode19"/>
  </nodes>
<!--@Location 17,8-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode7">
    <nodeSuccessors name="ERROR" next="JoinNode16"/>
    <nodeSuccessors name="OK" next="JoinNode18"/>
    <parameterBindings name="EmailFromConfigKey" constant="NewUserEmailFrom"/>
    <parameterBindings name="EmailSubjectConfigKey" constant="NewUserEmailSubject"/>
    <parameterBindings name="EmailTemplateConfigKey" constant="NewUserEmailTemplate"/>
    <parameterBindings name="LinkLifeTimeConfigKey" constant="PasswordReminderLinkLifeTime"/>
    <startNode referencedName="ProcessCustomerUser_52-CallSendEmailPipeline"/>
    <returnValueBindings name="MailResult" nullBinding="true"/>
  </nodes>
<!--@Location 18,8-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode16">
<!--@BendPoints 37,19-->
    <nodeSuccessors name="next" next="JoinNode18"/>
  </nodes>
<!--@Location 17,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode18">
    <nodeSuccessors name="next" next="EndNode14"/>
  </nodes>
<!--@Location 17,10-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode14" strict="true"/>
<!--@Location 18,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode19">
    <nodeSuccessors name="next" next="JoinNode16"/>
  </nodes>
<!--@Location 18,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode17">
    <nodeSuccessors name="next" next="JoinNode19"/>
  </nodes>
<!--@Location 16,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode14">
<!--@BendPoints 33,17-->
    <nodeSuccessors name="next" next="CallNode7"/>
  </nodes>
<!--@Location 7,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode3" strict="true" name="UpdateUser"
      callMode="Private">
    <nodeSuccessors name="next" next="UpdateUserBO0" action="begin"/>
    <parameters name="UserBO" type="com.intershop.component.user.capi.UserBO"/>
    <parameters name="CustomerUserForm" type="com.intershop.beehive.core.capi.webform.Form"/>
  </nodes>
<!--@Location 7,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateUserBO0">
    <configurationValues name="UpdateMissingProperties" value="true"/>
    <pipelet href="enfinity:/bc_user/pipelets/UpdateUserBO.xml"/>
    <nodeSuccessors name="next" next="KeyMapper_0k5AoC2-Eei_qu9acoyebA"/>
<!--@BendPoints 17,3-->
    <nodeSuccessors name="pipelet_error" next="JoinNode11"/>
    <parameterBindings name="Active" objectPath="CustomerUserForm:Active:Value"/>
    <parameterBindings name="Birthday" objectPath="CustomerUserForm:Birthday:Value"/>
    <parameterBindings name="Department" objectPath="CustomerUserForm:Department:Value"/>
    <parameterBindings name="Email" objectPath="CustomerUserForm:Email:Value"/>
    <parameterBindings name="Fax" objectPath="CustomerUserForm:Fax:Value"/>
    <parameterBindings name="FirstName" objectPath="CustomerUserForm:FirstName:Value"/>
    <parameterBindings name="LastName" objectPath="CustomerUserForm:LastName:Value"/>
    <parameterBindings name="Mobile" objectPath="CustomerUserForm:Mobile:Value"/>
    <parameterBindings name="PhoneBusiness" objectPath="CustomerUserForm:PhoneBusiness:Value"/>
    <parameterBindings name="PhoneHome" objectPath="CustomerUserForm:PhoneHome:Value"/>
    <parameterBindings name="PreferedLanguage" objectPath="CustomerUserForm:LocaleID:Value"/>
    <parameterBindings name="Title" objectPath="CustomerUserForm:Title:Value"/>
    <parameterBindings name="UserID" objectPath="CustomerUserForm:UserID:Value"/>
  </nodes>
<!--@Location 7,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper_0k5AoC2-Eei_qu9acoyebA">
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="DecisionNode5"/>
    <parameterBindings name="InValue_1" objectPath="UserBO:Login"/>
    <returnValueBindings name="OutValue_1" objectPath="LoginBeforeUpdate"/>
  </nodes>
<!--@Location 7,3-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode5" conditionKey="LoginBeforeUpdate"
      operator="str_neq" conditionItem="CustomerUserForm:Login:FormattedValue">
    <nodeSuccessors name="decision_yes" next="GeneratePassword1"/>
<!--@BendPoints 13,7 13,15-->
    <nodeSuccessors name="decision_no" next="JoinNode12"/>
  </nodes>
<!--@Location 7,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GeneratePassword1">
    <pipelet href="enfinity:/core/pipelets/GeneratePassword.xml"/>
    <nodeSuccessors name="next" next="UpdateUserBOCredentials1"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode11"/>
  </nodes>
<!--@Location 7,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateUserBOCredentials1">
    <pipelet href="enfinity:/bc_user/pipelets/UpdateUserBOCredentials.xml"/>
    <nodeSuccessors name="next" next="SetDictionaryValue_1sVJ0C2-Eei_qu9acoyebA"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode5"/>
    <parameterBindings name="Answer" nullBinding="true"/>
    <parameterBindings name="IPRange" nullBinding="true"/>
    <parameterBindings name="IsActive" nullBinding="true"/>
    <parameterBindings name="LastLoggedInDate" nullBinding="true"/>
    <parameterBindings name="Login" objectPath="CustomerUserForm:Login:FormattedValue"/>
    <parameterBindings name="NewPasswordExpiry" nullBinding="true"/>
    <parameterBindings name="ReminderEmail" nullBinding="true"/>
    <parameterBindings name="SecureCode" nullBinding="true"/>
    <parameterBindings name="SecurityQuestion" nullBinding="true"/>
  </nodes>
<!--@Location 7,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue_1sVJ0C2-Eei_qu9acoyebA">
    <configurationValues name="Name" value="LoginHasChanged"/>
    <configurationValues name="Value" value="true"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/core/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode12"/>
  </nodes>
<!--@Location 7,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode12">
    <nodeSuccessors name="next" next="ExtensionPointNode1"/>
  </nodes>
<!--@Location 7,8-->
  <nodes xsi:type="pipeline:ExtensionPointNode" nodeID="ExtensionPointNode1" name="CustomerUserUpdated"
      strict="true">
    <nodeSuccessors name="next" next="EndNode3" action="commit"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode8"/>
    <parameters name="UserBO" type="com.intershop.component.user.capi.UserBO"/>
    <parameters name="CustomerUserForm" type="com.intershop.beehive.core.capi.webform.Form"/>
  </nodes>
<!--@Location 7,9-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode3" name="OK" strict="true">
<!--Flag if login was updated.-->
    <returnValues name="LoginHasChanged" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 8,8-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode8">
    <nodeSuccessors name="next" next="EndNode6" action="rollback"/>
  </nodes>
<!--@Location 8,9-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode6" name="ERROR" strict="true">
    <returnValues name="ERROR_User" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 8,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode5">
    <nodeSuccessors name="next" next="JoinNode8"/>
  </nodes>
<!--@Location 8,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode11">
    <nodeSuccessors name="next" next="JoinNode5"/>
  </nodes>
</pipeline:Pipeline>
