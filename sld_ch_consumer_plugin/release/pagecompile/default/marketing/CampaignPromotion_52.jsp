<%@  page buffer="none" import="java.util.*,java.io.*,com.intershop.beehive.core.internal.template.*,com.intershop.beehive.core.internal.template.isml.*,com.intershop.beehive.core.capi.log.*,com.intershop.beehive.core.capi.resource.*,com.intershop.beehive.core.capi.util.UUIDMgr,com.intershop.beehive.core.capi.util.XMLHelper,com.intershop.beehive.foundation.util.*,com.intershop.beehive.core.internal.url.*,com.intershop.beehive.core.internal.resource.*,com.intershop.beehive.core.internal.wsrp.*,com.intershop.beehive.core.capi.pipeline.PipelineDictionary,com.intershop.beehive.core.capi.naming.NamingMgr,com.intershop.beehive.core.capi.pagecache.PageCacheMgr,com.intershop.beehive.core.capi.request.SessionMgr,com.intershop.beehive.core.internal.request.SessionMgrImpl,com.intershop.beehive.core.pipelet.PipelineConstants" extends="com.intershop.beehive.core.internal.template.AbstractTemplate" %><% 
boolean _boolean_result=false;
TemplateExecutionConfig context = getTemplateExecutionConfig();
createTemplatePageConfig(context.getServletRequest());
printHeader(out);
 %><% %><%@ page contentType="text/html;charset=utf-8" %><%setEncodingType("text/html"); %><!-- Working Area -->
<script language="JavaScript" type="text/javascript">
<!--
// Enables, disables budget fields depending on the selected currency.
function setBudgetParameter( currency )
{
if( currency.value == '.All.')
{ 
document.getElementById( 'unlimitedPromotion' ).checked = true;
document.getElementById( 'unlimitedPromotion' ).disabled = true;
document.getElementById( 'limitedPromotion' ).checked = false;
document.getElementById( 'limitedPromotion' ).disabled = true;
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfBudgetReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {15}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).checked = false;
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfThresholdReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {16}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).checked = false;
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:DisableByBudget:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {17}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).checked = false;
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetAmount:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {18}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).disabled = true;
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetAmount:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {19}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).value = '';
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationThreshold:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {20}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).disabled = true;
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationThreshold:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {21}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).value = '';
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationEmail:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {22}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).disabled = true;
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationEmail:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {23}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).value = '';
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:DisableByBudget:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {24}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).disabled = true;
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfBudgetReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {25}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).disabled = true;
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfThresholdReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {26}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).disabled = true;
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetSource:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {27}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).disabled = true;
document.getElementById( 'budgetCurrency').innerHTML='&nbsp;';
} 
else
{
document.getElementById( 'unlimitedPromotion' ).checked = true;
document.getElementById( 'unlimitedPromotion' ).disabled = false;
document.getElementById( 'limitedPromotion' ).checked = false;
document.getElementById( 'limitedPromotion' ).disabled = false;
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfBudgetReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {36}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).checked = false;
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfThresholdReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {37}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).checked = false;
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:DisableByBudget:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {38}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).checked = false;
toogleUnlimited(true)
document.getElementById( 'budgetCurrency').innerHTML=currency.value;
}
}
// Enables, disables budget fields, if budget is either unlimited or limited.
function toogleUnlimited(value) 
{ 
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfBudgetReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {47}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).disabled = value;
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfThresholdReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {48}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).disabled = value;
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:DisableByBudget:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {49}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).disabled = value;
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetAmount:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {50}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).disabled = value;
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationThreshold:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {51}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).disabled = value;
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationEmail:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {52}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).disabled = value;
document.getElementById( '<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetSource:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {53}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>' ).disabled = value;
}
// ===== DOM Ready =====
$(function() {
$("input[name*='_UseCampaignTimeFrame']").on('click', function() {
if($(this).attr("value") == 'true' ){
$("<%=context.getFormattedValue("#",null)%><% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:StartDate:StartDate_Day:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {64}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>").val('<% {String value = null;try{value=context.getFormattedValue(context.getFormattedValue(getObject("Campaign:StartDate"),new Integer(DATE_INPUT)),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {64}",e);}if (value==null) value="";out.write(value);} %>');
$("<%=context.getFormattedValue("#",null)%><% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:StartDate:StartDate_Time:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {65}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>").val('<% {String value = null;try{value=context.getFormattedValue(context.getFormattedValue(getObject("Campaign:StartDate"),new Integer(TIME_INPUT)),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {65}",e);}if (value==null) value="";out.write(value);} %>');
$("<%=context.getFormattedValue("#",null)%><% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:EndDate:EndDate_Day:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {66}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>").val('<% {String value = null;try{value=context.getFormattedValue(context.getFormattedValue(getObject("Campaign:EndDate"),new Integer(DATE_INPUT)),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {66}",e);}if (value==null) value="";out.write(value);} %>');
$("<%=context.getFormattedValue("#",null)%><% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:EndDate:EndDate_Time:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {67}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>").val('<% {String value = null;try{value=context.getFormattedValue(context.getFormattedValue(getObject("Campaign:EndDate"),new Integer(TIME_INPUT)),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {67}",e);}if (value==null) value="";out.write(value);} %>');
$(".dateTimeInput").find("input").prop('readonly', true);
$(".dateTimeInput").find("input[type=button]").prop('disabled', true);
}else if($(this).attr("value") == 'false' ){
<% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion"))))).booleanValue() || ((Boolean) (((!(context.getFormattedValue(getObject("PromotionForm:StartDate:Value"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((!(context.getFormattedValue(getObject("PromotionForm:EndDate:Value"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",74,e);}if (_boolean_result) { %>
$("<%=context.getFormattedValue("#",null)%><% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:StartDate:StartDate_Day:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {75}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>").val('<% {String value = null;try{value=context.getFormattedValue(context.getFormattedValue(getObject("PromotionForm:StartDate:Value"),new Integer(DATE_INPUT)),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {75}",e);}if (value==null) value="";out.write(value);} %>');
$("<%=context.getFormattedValue("#",null)%><% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:StartDate:StartDate_Time:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {76}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>").val('<% {String value = null;try{value=context.getFormattedValue(context.getFormattedValue(getObject("PromotionForm:StartDate:Value"),new Integer(TIME_INPUT)),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {76}",e);}if (value==null) value="";out.write(value);} %>');
$("<%=context.getFormattedValue("#",null)%><% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:EndDate:EndDate_Day:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {77}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>").val('<% {String value = null;try{value=context.getFormattedValue(context.getFormattedValue(getObject("PromotionForm:EndDate:Value"),new Integer(DATE_INPUT)),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {77}",e);}if (value==null) value="";out.write(value);} %>');
$("<%=context.getFormattedValue("#",null)%><% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:EndDate:EndDate_Time:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {78}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>").val('<% {String value = null;try{value=context.getFormattedValue(context.getFormattedValue(getObject("PromotionForm:EndDate:Value"),new Integer(TIME_INPUT)),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {78}",e);}if (value==null) value="";out.write(value);} %>');
$(".dateTimeInput").find("input").removeAttr('readonly').removeAttr('disabled');
$(".dateTimeInput").find("input[type=button]").removeAttr('disabled');
<% } else { %>
$("<%=context.getFormattedValue("#",null)%><% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:StartDate:StartDate_Day:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {84}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>").val('');
$("<%=context.getFormattedValue("#",null)%><% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:StartDate:StartDate_Time:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {85}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>").val('');
$("<%=context.getFormattedValue("#",null)%><% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:EndDate:EndDate_Day:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {86}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>").val('');
$("<%=context.getFormattedValue("#",null)%><% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:EndDate:EndDate_Time:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {87}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>").val('');
$(".dateTimeInput").find("input").removeAttr('readonly').removeAttr('disabled');
<% } %>
}
});
// Set the default radio
<% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("CampaignUUID")))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((((context.getFormattedValue(getObject("Promotion:CampaignID"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) (((((Boolean) ((((Boolean) ((disableErrorMessages().isDefined(getObject("PromotionForm:UseCampaignTimeFrame:Value"))))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue() || ((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:UseCampaignTimeFrame:Value"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",98,e);}if (_boolean_result) { %>
$("input[name*='_UseCampaignTimeFrame'][value=true]").click();
<% } else { %>
$("input[name*='_UseCampaignTimeFrame'][value=false]").click();
<% } %>
});
--> 
</script>
<!-- Main Content --><% _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",111,e);}if (_boolean_result) { %><% processOpenTag(response, pageContext, "breadcrumbtrail", new TagParameter[] {
new TagParameter("text",localizeText(context.getFormattedValue("CampaignPromotion_52.NewPromotionGeneral.text",null)))}, 112); %><% } else { %><% processOpenTag(response, pageContext, "breadcrumbtrail", new TagParameter[] {
new TagParameter("text1",context.getFormattedValue(" - ",null) + context.getFormattedValue(localizeText(context.getFormattedValue("CampaignPromotion_52.General.text1",null)),null)),
new TagParameter("removewizard","true"),
new TagParameter("link",url(true,(new URLPipelineAction(context.getFormattedValue("ViewPromotion-Edit",null))),(new URLParameterSet().addURLParameter(context.getFormattedValue("ChannelID",null),context.getFormattedValue(getObject("CurrentChannel:UUID"),null))).addURLParameter(context.getFormattedValue("PromotionUUID",null),context.getFormattedValue(getObject("Promotion:UUID"),null)))),
new TagParameter("wizard","true"),
new TagParameter("id",getObject("Promotion:UUID")),
new TagParameter("text",getObject("Promotion:DisplayName"))}, 114); %><% } %><% URLPipelineAction action561 = new URLPipelineAction(context.getFormattedValue(url(true,(new URLPipelineAction(context.getFormattedValue("ViewCampaignAssignments_52-DispatchPromotion",null)))),null));String site561 = null;String serverGroup561 = null;String actionValue561 = context.getFormattedValue(url(true,(new URLPipelineAction(context.getFormattedValue("ViewCampaignAssignments_52-DispatchPromotion",null)))),null);if (site561 == null){  site561 = action561.getDomain();  if (site561 == null)  {      site561 = com.intershop.beehive.core.capi.request.Request.getCurrent().getRequestSite().getDomainName();  }}if (serverGroup561 == null){  serverGroup561 = action561.getServerGroup();  if (serverGroup561 == null)  {      serverGroup561 = com.intershop.beehive.core.capi.request.Request.getCurrent().getRequestSite().getServerGroup();  }}out.print("<form");out.print(" method=\"");out.print("post");out.print("\"");out.print(" action=\"");out.print(context.getFormattedValue(url(true,(new URLPipelineAction(context.getFormattedValue("ViewCampaignAssignments_52-DispatchPromotion",null)))),null));out.print("\"");out.print(" name=\"");out.print(context.getFormattedValue(getObject("PromotionForm:ID"),null));out.print("\"");out.print(">");out.print(context.prepareWACSRFTag(actionValue561, site561, serverGroup561,true)); %><input type="hidden" name="ChannelID" value="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentChannel:UUID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {119}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
<input type="hidden" name="CampaignUUID" value="<% {String value = null;try{value=context.getFormattedValue(getObject("Campaign:UUID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {120}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
<input type="hidden" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:CampaignUUID:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {121}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" value="<% {String value = null;try{value=context.getFormattedValue(getObject("Campaign:UUID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {121}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
<!-- Promotion Details Heading --><% {out.flush();processLocalIncludeByServer((com.intershop.beehive.core.capi.request.ServletResponse)response,"marketing/inc/PromotionDetailsHeadingInc", null, "123");} %><!-- Tabs --><% {Object temp_obj = ("General"); getPipelineDictionary().put("SelectedTab", temp_obj);} %><% {out.flush();processLocalIncludeByServer((com.intershop.beehive.core.capi.request.ServletResponse)response,"inc/PromotionTabsInc", null, "127");} %><!-- EO Tabs -->
<!-- incompleteness check--><% {out.flush();processLocalIncludeByServer((com.intershop.beehive.core.capi.request.ServletResponse)response,"marketing/inc/PromotionIncompletenessMessage", null, "132");} %><!-- end incompleteness check--><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",138,e);}if (_boolean_result) { %><input type="submit" name="update" value="<%=context.getFormattedValue(localizeText(context.getFormattedValue("CampaignPromotion_52.Apply.button",null)),null)%>" class="button" style="position: absolute; top: -50000px"/><% } else { %> 
<input type="submit" name="create" value="<%=context.getFormattedValue(localizeText(context.getFormattedValue("CampaignPromotion_52.Apply.button",null)),null)%>" class="button" style="position: absolute; top: -50000px"/><% } %><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td>
<table border="0" cellpadding="0" cellspacing="0" width="100%"><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",150,e);}if (_boolean_result) { %><!-- errors --><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("confirmDelete"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",152,e);}if (_boolean_result) { %><% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("Promotion:isEnabled"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",153,e);}if (_boolean_result) { %><tr>
<td>
<table border="0" cellpadding="4" cellspacing="0" width="100%" class="confirm_box w e s">
<tr>
<td class="error_icon e"><img src="<%=context.getFormattedValue(context.webRoot(),null)%>/images/error.gif" width="16" height="15" alt="" border="0"/></td>
<td class="confirm" width="100%"><% {out.write(localizeISText("error.delete.single.promotion","",null,null,null,null,null,null,null,null,null,null,null));} %></td>
</tr>
</table>
</td>
</tr><% } else { %><!-- delete confirmation--><% processOpenTag(response, pageContext, "messagebox", new TagParameter[] {
new TagParameter("subject",localizeText(context.getFormattedValue("CampaignPromotion_52.Promotion.subject",null))),
new TagParameter("cancelbtnname","cancelDelete"),
new TagParameter("okbtnname","delete"),
new TagParameter("type","sdc")}, 166); %><% } %><% } else {_boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("ERROR_Promotion")))).booleanValue() && ((Boolean) (disableErrorMessages().isDefined(getObject("delete")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",168,e);}if (_boolean_result) { %><tr>
<td>
<table border="0" cellspacing="0" cellpadding="4" width="100%" class="error_box w e s">
<tr valign="top">
<td class="error_icon top e"><img src="<%=context.getFormattedValue(context.webRoot(),null)%>/images/error.gif" width="16" height="15" alt="" border="0"/></td>
<td class="error top" width="100%"> <% {out.write(localizeISText("error.delete.promotion.witherrors","",null,null,null,null,null,null,null,null,null,null,null));} %></td>
</tr>
</table>
</td>
</tr><% } else {_boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("PromotionForm:isInvalid")).booleanValue() || ((Boolean) (disableErrorMessages().isDefined(getObject("ERROR_Promotion")))).booleanValue() || ((Boolean) getObject("PromotionAppAssignmentForm:isError(\"error.Application\")")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",179,e);}if (_boolean_result) { %> 
<tr>
<td>
<table border="0" cellspacing="0" cellpadding="4" width="100%" class="error_box w e s">
<tr>
<td class="error_icon e"><img src="<%=context.getFormattedValue(context.webRoot(),null)%>/images/error.gif" width="16" height="15" alt="" border="0"/></td>
<td class="error top" width="100%"><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",186,e);}if (_boolean_result) { %><b><% {out.write(localizeISText("CampaignPromotion_52.ChangesCouldNotBeApplied.error",null,null,null,null,null,null,null,null,null,null,null,null));} %>:</b><br/><% } else { %><b><% {out.write(localizeISText("CampaignPromotion_52.PromotionCouldNotBeCreated.error",null,null,null,null,null,null,null,null,null,null,null,null));} %>:</b><br/><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:Name:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",191,e);}if (_boolean_result) { %><% while (loop("PromotionForm:Name:Errors","Error",null)) { %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.required",null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",193,e);}if (_boolean_result) { %><% {out.write(localizeISText("error.name.required","",null,null,null,null,null,null,null,null,null,null,null));} %><% } else { %><% {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,null,null,null,null,null,null,null,null,null,null));} %><% } %><br/><% } %><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:PID:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",201,e);}if (_boolean_result) { %><% while (loop("PromotionForm:PID:Errors","Error",null)) { %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.required",null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",203,e);}if (_boolean_result) { %><% {out.write(localizeISText("error.id.required","",null,null,null,null,null,null,null,null,null,null,null));} %><% } else {_boolean_result=false;try {_boolean_result=((Boolean)(((((context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.regexp",null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",205,e);}if (_boolean_result) { %><% {out.write(localizeISText("error.id.invalid","",null,null,null,null,null,null,null,null,null,null,null));} %><% } else {_boolean_result=false;try {_boolean_result=((Boolean)(((((context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.PromotionAlreadyExists",null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",207,e);}if (_boolean_result) { %><% {out.write(localizeISText("error.PromotionAlreadyExists","",null,null,null,null,null,null,null,null,null,null,null));} %><% } else { %><% {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,null,null,null,null,null,null,null,null,null,null));} %><% }}} %><br/><% } %><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:Rank:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",215,e);}if (_boolean_result) { %><% while (loop("PromotionForm:Rank:Errors","Error",null)) { %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.required",null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",217,e);}if (_boolean_result) { %><% {out.write(localizeISText("error.priority.required","",null,null,null,null,null,null,null,null,null,null,null));} %><% } else {_boolean_result=false;try {_boolean_result=((Boolean)(((((context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.intrange",null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",219,e);}if (_boolean_result) { %><% {out.write(localizeISText("error.priority.intrange","",null,null,null,null,null,null,null,null,null,null,null));} %><% } else { %><% {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,null,null,null,null,null,null,null,null,null,null));} %><% }} %><br/><% } %><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionAppAssignmentForm:isError(\"error.Application\")"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",227,e);}if (_boolean_result) { %><% {out.write(localizeISText("error.promotion.noapplication","",null,null,null,null,null,null,null,null,null,null,null));} %><br/><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:StartDate:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",231,e);}if (_boolean_result) { %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("PromotionForm:StartDate:StartDate_Day:Invalid")).booleanValue() || ((Boolean) getObject("PromotionForm:StartDate:StartDate_Time:Invalid")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",233,e);}if (_boolean_result) { %><!-- StartDate_Day Error --><% {out.write(localizeISText("error.startdatetime","",null,null,null,null,null,null,null,null,null,null,null));} %><% } else { %><% while (loop("PromotionForm:StartDate:Errors","Error",null)) { %><% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.datetime",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",239,e);}if (_boolean_result) { %><% {out.write(localizeISText("error.startdatetime","",null,null,null,null,null,null,null,null,null,null,null));} %><% } else {_boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.dependenttimeframe",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",241,e);}if (_boolean_result) { %><% {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,"start",null,null,null,null,null,null,null,null,null));} %><% } else { %><% {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,null,null,null,null,null,null,null,null,null,null));} %><% }} %><% } %><% } %><br/><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:EndDate:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",250,e);}if (_boolean_result) { %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("PromotionForm:EndDate:EndDate_Day:Invalid")).booleanValue() || ((Boolean) getObject("PromotionForm:EndDate:EndDate_Time:Invalid")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",252,e);}if (_boolean_result) { %><!-- EndDate_Day Error --><% {out.write(localizeISText("error.enddatetime","",null,null,null,null,null,null,null,null,null,null,null));} %><% } else { %><% while (loop("PromotionForm:EndDate:Errors","Error",null)) { %><% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.datetime",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",258,e);}if (_boolean_result) { %><% {out.write(localizeISText("error.enddatetime","",null,null,null,null,null,null,null,null,null,null,null));} %><% } else {_boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.dependenttimeframe",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",260,e);}if (_boolean_result) { %><% {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,"end",null,null,null,null,null,null,null,null,null));} %><% } else { %><% {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,null,null,null,null,null,null,null,null,null,null));} %><% }} %><% } %><% } %><br/><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:BudgetAmount:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",269,e);}if (_boolean_result) { %><% while (loop("PromotionForm:BudgetAmount:Errors","Error",null)) { %><% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.double",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",271,e);}if (_boolean_result) { %><% {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,null,null,null,null,null,null,null,null,null,null));} %><br/><% } %><% } %><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:Enabled:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",274,e);}if (_boolean_result) { %><% while (loop("PromotionForm:Enabled:Errors","Error",null)) { %><% {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,null,null,null,null,null,null,null,null,null,null));} %><br/><% } %><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:BudgetNotificationThreshold:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",280,e);}if (_boolean_result) { %><% while (loop("PromotionForm:BudgetNotificationThreshold:Errors","Error",null)) { %><% {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,null,null,null,null,null,null,null,null,null,null));} %><br/><% } %><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:BudgetNotificationEmail:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",286,e);}if (_boolean_result) { %><% while (loop("PromotionForm:BudgetNotificationEmail:Errors","Error",null)) { %><% {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,null,null,null,null,null,null,null,null,null,null));} %><br/><% } %><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:BudgetNotification:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",292,e);}if (_boolean_result) { %><% while (loop("PromotionForm:BudgetNotification:Errors","Error",null)) { %><% {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,null,null,null,null,null,null,null,null,null,null));} %><br/><% } %><% } %></td>
</tr>
</table>
</td>
</tr><% }}} %><% _boolean_result=false;try {_boolean_result=((Boolean)(((disableErrorMessages().isDefined(getObject("PreviewPromotionError")))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",304,e);}if (_boolean_result) { %><tr>
<td>
<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
<tr>
<td class="error_icon e"><img src="<%=context.getFormattedValue(context.webRoot(),null)%>/images/error.gif" width="16" height="15" alt="" border="0"/></td>
<td class="error" width="100%"><% processOpenTag(response, pageContext, "previewerror", new TagParameter[] {
new TagParameter("previewError",getObject("PreviewPromotionError"))}, 310); %></td>
</tr>
</table>
</td>
</tr><% } else {_boolean_result=false;try {_boolean_result=((Boolean)(((disableErrorMessages().isDefined(getObject("confirmPreview")))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",315,e);}if (_boolean_result) { %><% processOpenTag(response, pageContext, "previewmessagebox", new TagParameter[] {
new TagParameter("itemType","promotion"),
new TagParameter("previewMessage",getObject("confirmPreview"))}, 316); %><% }} %><!-- end errors-->
<tr>
<td class="table_title_description w e"><% {out.write(localizeISText("sld_ch_consumer_plugin.FieldsWithARedAsteriskAreMandatory.table_title_description",null,null,"star",null,null,null,null,null,null,null,null,null));} %><br/><br/><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",323,e);}if (_boolean_result) { %><% {out.write(localizeISText("CampaignPromotion_52.ClickApplyToSaveTheDetailsClickResetToRevertToTheLast.table_title_description",null,null,null,null,null,null,null,null,null,null,null,null));} %><% } else { %><% {out.write(localizeISText("CampaignPromotion_52.NoteThatDiscountsOnAnOrderValueAreOnlyPossibleFor.table_title_description",null,null,null,null,null,null,null,null,null,null,null,null));} %><% } %></td>
</tr><% } %></table>
<table border="0" cellpadding="4" cellspacing="0" width="100%" class="infobox_locale w e n">
<tr>
<td class="infobox_item" nowrap="nowrap"><% {out.write(localizeISText("CampaignPromotion_52.SelectLanguage.infobox_item",null,null,null,null,null,null,null,null,null,null,null,null));} %>:</td>
<td class="infobox_item">
<select name="LocaleID" class="select inputfield_en"><% while (loop("AllLocales","Locale",null)) { %><option value="<% {String value = null;try{value=context.getFormattedValue(getObject("Locale:LocaleID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {339}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
<% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("Locale:LocaleID"),null).equals(context.getFormattedValue(getObject("SelectedLocale:LocaleID"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",340,e);}if (_boolean_result) { %>selected="selected"<% } %>><% {String value = null;try{value=context.getFormattedValue(getObject("Locale:getDisplayName(CurrentSession:Locale)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {341}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>&nbsp;</option><% } %></select>
</td>
<td width="100%">
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td class="button">
<input type="submit" name="setLocaleEdit" value="<%=context.getFormattedValue(localizeText(context.getFormattedValue("CampaignPromotion_52.Apply.button",null)),null)%>" class="button"/>
</td>
</tr>
</table>
</td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" border="0" width="100%" class="aldi">
<tr><td colspan="2"><img src="<%=context.getFormattedValue(context.webRoot(),null)%>/images/space.gif" height="4" alt="" border="0"/></td></tr>
<tr>
<input type="hidden" value="on" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:MultipleAllowed:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {361}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
<td <% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:Name:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",363,e);}if (_boolean_result) { %>class="fielditem2_error"<% } else { %>class="fielditem2"<% } %> nowrap="nowrap"><% {out.write(localizeISText("CampaignPromotion_52.Name",null,null,null,null,null,null,null,null,null,null,null,null));} %>:<span class="star">*</span>
</td>
<td>
<table cellpadding="0" cellspacing="0" border="0">
<tr><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",369,e);}if (_boolean_result) { %><td class="fielditem"><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",371,e);}if (_boolean_result) { %><input type="text" size="60" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Name:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {372}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" maxlength="400" 
value="<% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:Name:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",373,e);}if (_boolean_result) { %><% while (loop("PromotionForm:Name:Errors","Error",null)) { %><% _boolean_result=false;try {_boolean_result=((Boolean)((((!(context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.required",null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",375,e);}if (_boolean_result) { %><% {String value = null;try{value=context.getFormattedValue(getObject("Promotion:DisplayName(SelectedLocale)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {376}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } %><% } %><% } else {_boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("PromotionForm:Name:Value"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",379,e);}if (_boolean_result) { %><% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Name:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {380}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } else { %><% {String value = null;try{value=context.getFormattedValue(getObject("Promotion:DisplayName(SelectedLocale)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {382}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% }} %>"
class="inputfield_en"/><% } else { %><input type="text" size="60" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Name:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {386}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" maxlength="400" value="<% {String value = null;try{value=context.getFormattedValue(getObject("Promotion:DisplayName(SelectedLocale)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {386}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" class="inputfield_en" disabled="disabled"/> 
<% } %></td><% } else { %><td class="fielditem">
<input class="inputfield_en" type="text" maxlength="400" size="60" 
id="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Name:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {392}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" 
name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Name:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {393}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" 
value="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Name:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {394}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
</td><% } %><td><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("Promotion:Enabled")).booleanValue() && ((Boolean) (disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_VIEW_STOREFRONT")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",398,e);}if (_boolean_result) { %><% processOpenTag(response, pageContext, "previewicon", new TagParameter[] {
new TagParameter("previewURL",url(true,(new URLPipelineAction(context.getFormattedValue("ViewPromotion-PreviewPromotion",null))),(new URLParameterSet().addURLParameter(context.getFormattedValue("ChannelID",null),context.getFormattedValue(getObject("CurrentChannel:UUID"),null))).addURLParameter(context.getFormattedValue("PromotionUUID",null),context.getFormattedValue(getObject("Promotion:UUID"),null)))),
new TagParameter("contextPipeline","ViewPromotion-Edit"),
new TagParameter("contextValue0",getObject("CurrentChannel:UUID")),
new TagParameter("contextValue1",getObject("Promotion:UUID")),
new TagParameter("imageTitle",localizeText(context.getFormattedValue("CampaignPromotion_52.OpenASitePreviewForThisPromotionWithTheSelectedStart.imageTitle",null))),
new TagParameter("imageAlt",localizeText(context.getFormattedValue("CampaignPromotion_52.OpenASitePreviewForThisPromotionWithTheSelectedStart.imageAlt",null))),
new TagParameter("contextParameter0","ChannelID"),
new TagParameter("contextParameter1","PromotionUUID")}, 399); %><% } %></td>
<td>
<table cellpadding="0" cellspacing="0" border="0">
<tr>
<td>&nbsp;&nbsp;&nbsp;</td>
<td><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",413,e);}if (_boolean_result) { %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:Enabled:Value"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:Enabled:Value"),null).equals(context.getFormattedValue("on",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",414,e);}if (_boolean_result) { %><input type="checkbox" id="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Enabled:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {415}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Enabled:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {415}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" checked="checked"/><% } else { %><input type="checkbox" id="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Enabled:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {417}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Enabled:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {417}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/><% } %><% } else { %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:Enabled:Value"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:Enabled:Value"),null).equals(context.getFormattedValue("on",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",420,e);}if (_boolean_result) { %><input type="checkbox" id="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Enabled:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {421}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Enabled:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {421}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" checked="checked" disabled="disabled"/><% } else { %><input type="checkbox" id="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Enabled:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {423}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Enabled:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {423}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" disabled="disabled"/><% } %><% } %></td>
<td class="table_detail"><label for="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Enabled:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {427}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"><% {out.write(localizeISText("CampaignPromotion_52.Active.table_detail",null,null,null,null,null,null,null,null,null,null,null,null));} %></label></td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td <% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:PID:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",436,e);}if (_boolean_result) { %>class="fielditem2_error"<% } else { %>class="fielditem2"<% } %> nowrap="nowrap"><% {out.write(localizeISText("CampaignPromotion_52.ID",null,null,null,null,null,null,null,null,null,null,null,null));} %>:<span class="star">*</span>
</td>
<td class="fielditem">
<input class="inputfield_en" type="text" maxlength="400" size="60" id="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:PID:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {440}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:PID:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {440}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" value="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:PID:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {440}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
<% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",441,e);}if (_boolean_result) { %>disabled="disabled"<% } %>
/>
</td>
</tr>
<tr>
<td class="fielditem2" nowrap="nowrap" width="1"><% {out.write(localizeISText("CampaignPromotion_52.Description.fielditem2",null,null,null,null,null,null,null,null,null,null,null,null));} %>:</td>
<td class="table_detail"><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",448,e);}if (_boolean_result) { %><textarea rows="5" cols="60" id="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Description:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {449}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Description:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {449}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" class="inputfield_en"><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("PromotionForm:Description:Value"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",449,e);}if (_boolean_result) { %><% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Description:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {449}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } else {_boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",449,e);}if (_boolean_result) { %><% {String value = null;try{value=context.getFormattedValue(getObject("Promotion:Description(SelectedLocale)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {449}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% }} %></textarea><% } else { %><textarea rows="5" cols="60" id="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Description:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {451}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Description:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {451}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" class="inputfield_en" disabled="disabled"><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",451,e);}if (_boolean_result) { %><% {String value = null;try{value=context.getFormattedValue(getObject("Promotion:Description(SelectedLocale)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {451}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } else { %><% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Description:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {451}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } %></textarea><% } %></td>
</tr>
<tr>
<td class="fielditem2" nowrap="nowrap"><% {out.write(localizeISText("CampaignPromotion_52.Currency.fielditem2",null,null,null,null,null,null,null,null,null,null,null,null));} %>:</td>
<td class="fielditem">
<select class="select inputfield_en" 
id="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Currency:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {459}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" 
name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Currency:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {460}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" 
<% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",461,e);}if (_boolean_result) { %>disabled="disabled"<% } %>
onchange="setBudgetParameter(this);"><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",465,e);}if (_boolean_result) { %><option><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",466,e);}if (_boolean_result) { %><% {String value = null;try{value=context.getFormattedValue(getObject("Promotion:Currency:CurrencyName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {466}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } else { %><% {out.write(localizeISText("CampaignPromotion_52.All.option",null,null,null,null,null,null,null,null,null,null,null,null));} %><% } %></option>
<input type="hidden" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Currency:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {467}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" value="<% {String value = null;try{value=context.getFormattedValue(getObject("Promotion:Currency:Mnemonic"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {467}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"><% } else { %><option value=".All." <% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",469,e);}if (_boolean_result) { %>selected="selected"<% } %> ><% {out.write(localizeISText("CampaignPromotion_52.All.option",null,null,null,null,null,null,null,null,null,null,null,null));} %></option><% while (loop("Currencies","Currency",null)) { %><option value="<% {String value = null;try{value=context.getFormattedValue(getObject("Currency:Mnemonic"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {471}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
<% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("Currency:Mnemonic"),null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",472,e);}if (_boolean_result) { %>selected="selected"<% } %>><% {String value = null;try{value=context.getFormattedValue(getObject("Currency:CurrencyName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {473}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></option><% } %><% } %></select>
</td>
</tr>
<tr><td colspan="2"><img src="<%=context.getFormattedValue(context.webRoot(),null)%>/images/space.gif" height="4" alt="" border="0"/></td></tr>
<tr>
<td <% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:Rank:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",483,e);}if (_boolean_result) { %>class="fielditem2_error"<% } else { %>class="fielditem2"<% } %> nowrap="nowrap"><% {out.write(localizeISText("CampaignPromotion_52.Priority",null,null,null,null,null,null,null,null,null,null,null,null));} %>:<span class="star">*</span>
</td><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",486,e);}if (_boolean_result) { %><td>
<table cellpadding="0" cellspacing="0" border="0">
<tr>
<td>
<input class="inputfield_en" type="radio" value="true" id="defaultRank"
name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:RankSelection:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {492}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" 
<% _boolean_result=false;try {_boolean_result=((Boolean)(((((context.getFormattedValue(getObject("PromotionForm:RankSelection:Value"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",493,e);}if (_boolean_result) { %>
checked="checked"
<% } %>
/>
</td>
<td class="fielditem" colspan="3"><label for="defaultRank"><% {out.write(localizeISText("CampaignPromotion_52.DefaultPriority.fielditem",null,null,null,null,null,null,null,null,null,null,null,null));} %></label> 
<% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && ((Boolean) getObject("Promotion:HasDefaultRank")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",499,e);}if (_boolean_result) { %>
(<% {String value = null;try{value=context.getFormattedValue(getObject("Promotion:Rank"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {500}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>)
<% } %></td>
</tr>
<tr>
<td>
<input class="inputfield_en" type="radio" value="false" id="specific_rank"
name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:RankSelection:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {507}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
<% _boolean_result=false;try {_boolean_result=((Boolean)((((((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:RankSelection:Value"),null).equals(context.getFormattedValue("false",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) getObject("Promotion:HasDefaultRank")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",508,e);}if (_boolean_result) { %>
checked="checked"
<% } %>
/>
</td>
<td class="fielditem middle"><label for="specific_rank"><% {out.write(localizeISText("CampaignPromotion_52.SpecifyPriority.fielditem",null,null,null,null,null,null,null,null,null,null,null,null));} %></label></td>
<td class="table_detail">
<input class="inputfield_en" type="text" id="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Rank:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {515}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Rank:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {515}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" maxlength="100" size="10" 
<% _boolean_result=false;try {_boolean_result=((Boolean)(((((context.getFormattedValue(getObject("PromotionForm:RankSelection:Value"),null).equals(context.getFormattedValue("false",null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",516,e);}if (_boolean_result) { %>
value="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Rank:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {517}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
<% } %>
/>
</td>
<td class="middle">
<table cellpadding="0" cellspacing="0" border="0">
<tr>
<td class="button"><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("ShowDefaultPriorities"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",525,e);}if (_boolean_result) { %><input type="hidden" name="ShowDefaultPriorities" value=""/>
<input type="submit" name="showDefaultPriorities" value="<%=context.getFormattedValue(localizeText(context.getFormattedValue("CampaignPromotion_52.HideDefaultPriorities.button",null)),null)%>" class="button"
title="<% while (loop("ActionDescriptors","aDescriptor",null)) { %><% {String value = null;try{value=context.getFormattedValue(getObject("aDescriptor:Name"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {529}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>(<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionActionPriorityHandler:DefaultRank(aDescriptor)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {529}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>)&nbsp;
<% } %>"
/><% } else { %><input type="submit" name="showDefaultPriorities" value="<%=context.getFormattedValue(localizeText(context.getFormattedValue("CampaignPromotion_52.ShowDefaultPriorities.button",null)),null)%>" class="button"
title="<% while (loop("ActionDescriptors","aDescriptor",null)) { %><% {String value = null;try{value=context.getFormattedValue(getObject("aDescriptor:Name"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {535}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>(<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionActionPriorityHandler:DefaultRank(aDescriptor)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {535}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>)&nbsp;
<% } %>"
/><% } %></td>
</tr>
</table>
</td>
</tr>
</table>
</td><% } else { %><td class="fielditem" colspan="3"><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && ((Boolean) getObject("Promotion:HasDefaultRank")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",548,e);}if (_boolean_result) { %><% {out.write(localizeISText("CampaignPromotion_52.DefaultRank.fielditem",null,null,null,null,null,null,null,null,null,null,null,null));} %> (<% {String value = null;try{value=context.getFormattedValue(getObject("Promotion:Rank"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {549}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>)
<% } else {_boolean_result=false;try {_boolean_result=((Boolean)((((((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:RankSelection:Value"),null).equals(context.getFormattedValue("false",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) getObject("Promotion:HasDefaultRank")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",550,e);}if (_boolean_result) { %><% {out.write(localizeISText("CampaignPromotion_52.SpecificRank.fielditem",null,null,null,null,null,null,null,null,null,null,null,null));} %>: <% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Rank:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {551}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% }} %></td><% } %></tr><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("ShowDefaultPriorities"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",556,e);}if (_boolean_result) { %><tr><td colspan="2"><img src="<%=context.getFormattedValue(context.webRoot(),null)%>/images/space.gif" height="4" alt="" border="0"/></td></tr>
<tr>
<td class="fielditem2"></td>
<td>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td class="table_header n e s w" nowrap="nowrap"><% {out.write(localizeISText("CampaignPromotion_52.PromotionTypes.table_header",null,null,null,null,null,null,null,null,null,null,null,null));} %></td>
<td class="table_header n e s" nowrap="nowrap"><% {out.write(localizeISText("CampaignPromotion_52.DefaultPriority.table_header",null,null,null,null,null,null,null,null,null,null,null,null));} %></td>
</tr><% while (loop("ActionDescriptors","aDescriptor",null)) { %><tr>
<td class="table_detail e s w"><% {String value = null;try{value=context.getFormattedValue(getObject("aDescriptor:Name"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {568}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></td>
<td class="table_detail e s"><% {String value = null;try{value=context.getFormattedValue(getObject("PromotionActionPriorityHandler:DefaultRank(aDescriptor)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {569}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></td>
</tr><% } %></table>
</td>
</tr><% } %><!-- apps --><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("Apps")))).booleanValue() && ((Boolean) (hasLoopElements("Apps") ? Boolean.TRUE : Boolean.FALSE)).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",578,e);}if (_boolean_result) { %><tr><td colspan="2"><img src="<%=context.getFormattedValue(context.webRoot(),null)%>/images/space.gif" height="4" alt="" border="0"/></td></tr>
<tr>
<td class="fielditem2<% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionAppAssignmentForm:isError(\"error.Application\")"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",581,e);}if (_boolean_result) { %><% {out.write(localizeISText("CampaignPromotion_52._error.fielditem2",null,null,null,null,null,null,null,null,null,null,null,null));} %><% } %>" nowrap="nowrap">Application:<span class="star">*</span></td>
<td>
<table border="0" cellspacing="0" cellpadding="0">
<tr><% while (loop("Apps","App","appCounter")) { %><% if (((Integer)getObject("appCounter")) != 1 && ((Integer)getObject("appCounter")) % 3 == 1) { %></tr>
<tr><% } %><% {Object temp_obj = (getObject("appCounter")); getPipelineDictionary().put("APP_IT_Counter", temp_obj);} %><td><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",592,e);}if (_boolean_result) { %><input type="checkbox" 
name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionAppAssignmentForm:get(App:UUID):Selection:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {594}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
<% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionAppAssignmentForm:get(App:UUID):Selection:Value"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",595,e);}if (_boolean_result) { %>checked="checked"<% } %>
/><% } %></td>
<td class="table_detail" nowrap="nowrap"> 
<% {String value = null;try{value=context.getFormattedValue(getObject("App:DisplayName(SelectedLocale)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {600}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></td>
<td class="table_detail" nowrap="nowrap">&nbsp;</td><% } %><% if (((Integer)getObject("APP_IT_Counter")) % 3 != 0) { %><td colspan="<%=3 * (3 - ((Integer)getObject("APP_IT_Counter")) % 3) %>">&nbsp;</td><% } %></tr>
</table>
</td>
</tr><% } %><tr><td colspan="2"><img src="<%=context.getFormattedValue(context.webRoot(),null)%>/images/space.gif" height="4" alt="" border="0"/></td></tr>
<tr>
<td class="fielditem2" nowrap="nowrap"><% {out.write(localizeISText("CampaignPromotion_52.Calculation.fielditem2",null,null,null,null,null,null,null,null,null,null,null,null));} %>:</td>
<td>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td class="fielditem"><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",621,e);}if (_boolean_result) { %><select name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:EffectDiscountLevel:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {622}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" class="select inputfield_en">
<option value="off" <% _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) getObject("PromotionForm:EffectDiscountLevel:Value")).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",623,e);}if (_boolean_result) { %>selected="selected"<% } %>><% {out.write(localizeISText("CampaignPromotion_52.BaseCartPrice.option",null,null,null,null,null,null,null,null,null,null,null,null));} %>&nbsp;</option>
<option value="on" <% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:EffectDiscountLevel:Value"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",624,e);}if (_boolean_result) { %>selected="selected"<% } %>><% {out.write(localizeISText("CampaignPromotion_52.DiscountedPrice.option",null,null,null,null,null,null,null,null,null,null,null,null));} %>&nbsp;</option>
</select><% } else { %><select name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:EffectDiscountLevel:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {627}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" class="select inputfield_en" disabled="disabled">
<option value="off" <% _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) getObject("PromotionForm:EffectDiscountLevel:Value")).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",628,e);}if (_boolean_result) { %>selected="selected"<% } %>><% {out.write(localizeISText("CampaignPromotion_52.BaseCartPrice.option",null,null,null,null,null,null,null,null,null,null,null,null));} %>&nbsp;</option>
<option value="on" <% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:EffectDiscountLevel:Value"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",629,e);}if (_boolean_result) { %>selected="selected"<% } %>><% {out.write(localizeISText("CampaignPromotion_52.DiscountedPrice.option",null,null,null,null,null,null,null,null,null,null,null,null));} %>&nbsp;</option>
</select><% } %></td>
</tr>
</table>
</td>
</tr>
<tr><td colspan="2"><img src="<%=context.getFormattedValue(context.webRoot(),null)%>/images/space.gif" height="4" alt="" border="0"/></td></tr><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",640,e);}if (_boolean_result) { %><tr>
<td class="fielditem2"><% {out.write(localizeISText("CampaignPromotion_52.Combination.fielditem2",null,null,null,null,null,null,null,null,null,null,null,null));} %><span class="star">*</span></td>
<td >
<table border="0" cellspacing="0" cellpadding="0" width="100%"> 
<tr><td class="fielditem" colspan="2"><% {out.write(localizeISText("CampaignPromotion_52.ThisPromotionIs.fielditem",null,null,null,null,null,null,null,null,null,null,null,null));} %></td></tr>
<tr>
<td>
<input class="inputfield_en" type="radio" value="free_combinable" id="free_combinable"
name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Combinable:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {649}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
<% _boolean_result=false;try {_boolean_result=((Boolean)(((((context.getFormattedValue(getObject("PromotionForm:Combinable:Value"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",650,e);}if (_boolean_result) { %>checked="checked"
<% } else {_boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("PromotionForm:Combinable:Value"),null).equals(context.getFormattedValue("free_combinable",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",651,e);}if (_boolean_result) { %>checked="checked"
<% } else {_boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",652,e);}if (_boolean_result) { %>checked="checked"
<% } else { %>checked="checked"
<% }}} %>
/>
</td>
<td class="fielditem w100"><label for="free_combinable"><% {out.write(localizeISText("CampaignPromotion_52.FreelyCombinable.fielditem",null,null,null,null,null,null,null,null,null,null,null,null));} %></label></td>
</tr>
<tr>
<td>
<input class="inputfield_en" type="radio" value="not_combinable" id="not_combinable"
name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Combinable:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {662}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
<% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("PromotionForm:Combinable:Value"),null).equals(context.getFormattedValue("not_combinable",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",663,e);}if (_boolean_result) { %> checked="checked"<% } %>
/>
</td>
<td class="fielditem"><label for="not_combinable"><% {out.write(localizeISText("CampaignPromotion_52.NotCombinable.fielditem",null,null,null,null,null,null,null,null,null,null,null,null));} %></label></td>
</tr>
<tr>
<td>
<input class="inputfield_en" type="radio" value="combinable_with_types" id="combinable_with_types"
name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Combinable:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {671}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
<% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("PromotionForm:Combinable:Value"),null).equals(context.getFormattedValue("combinable_with_types",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",672,e);}if (_boolean_result) { %> checked="checked"<% } %>
/>
</td>
<td class="fielditem"><label for="combinable_with_types"><% {out.write(localizeISText("CampaignPromotion_52.CombinableWithTheFollowingPromotionTypes.fielditem",null,null,null,null,null,null,null,null,null,null,null,null));} %>:</label></td>
</tr>
</table>
</td>
</tr>
<tr>
<td class="fielditem2">&nbsp;</td>
<td class="table_detail"><% _boolean_result=false;try {_boolean_result=((Boolean)((hasLoopElements("PromotionForm:AssignedCombinationTypes:Value:Iterator") ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",685,e);}if (_boolean_result) { %><% getPipelineDictionary().put("AssignedCombinationTypesMap", new HashMap<String, String>()); %><% while (loop("PromotionForm:AssignedCombinationTypes:Value:Iterator","ACType",null)) { %><%  ((HashMap)getObject("AssignedCombinationTypesMap")).put(getObject("ACType"), true); %><input type="hidden" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:AssignedCombinationTypes:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {689}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" value="<% {String value = null;try{value=context.getFormattedValue(getObject("ACType"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {689}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/><% } %><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)((hasLoopElements("AvailableCombinationTypes") ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",694,e);}if (_boolean_result) { %><% while (loop("AvailableCombinationTypes","ACType",null)) { %><% _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) (disableErrorMessages().isDefined(getObject("AssignedCombinationTypesMap:get(ACType)")))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",696,e);}if (_boolean_result) { %><input type="hidden" name="AvailableCombinationTypes" value="<% {String value = null;try{value=context.getFormattedValue(getObject("ACType"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {697}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/><% } %><% } %><% } %><table cellpadding="0" cellspacing="0" border="0">
<tr>
<td class="fielditem2">&nbsp;</td>
<td class="table_detail">
<select name="CombinationTypesToAdd" class="select inputfield_en" size="8" multiple="multiple" style="width:300px"><% _boolean_result=false;try {_boolean_result=((Boolean)((hasLoopElements("AvailableCombinationTypes") ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",706,e);}if (_boolean_result) { %><% while (loop("AvailableCombinationTypes","ACType",null)) { %><% _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) (disableErrorMessages().isDefined(getObject("AssignedCombinationTypesMap:get(ACType)")))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",708,e);}if (_boolean_result) { %><option value="<% {String value = null;try{value=context.getFormattedValue(getObject("ACType"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {709}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
<% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("CombinationTypesToAddSelection")))).booleanValue() && ((Boolean) (hasLoopElements("CombinationTypesToAddSelection") ? Boolean.TRUE : Boolean.FALSE)).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",710,e);}if (_boolean_result) { %><% while (loop("CombinationTypesToAddSelection","Option",null)) { %><% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("Option"),null).equals(context.getFormattedValue(getObject("ACType"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",712,e);}if (_boolean_result) { %>selected="selected"<% } %><% } %><% } %>
><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("AllPromotionTypes:get(ACType):NamingTemplate")))).booleanValue() && ((Boolean) (((!(context.getFormattedValue(getObject("AllPromotionTypes:get(ACType):NamingTemplate"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",716,e);}if (_boolean_result) { %><% {out.flush();processLocalIncludeByServer((com.intershop.beehive.core.capi.request.ServletResponse)response,context.getFormattedValue(getObject("AllPromotionTypes:get(ACType):NamingTemplate"),null), null, "717");} %><% } %></option><% } %><% } %><% } %></select>
</td>
<td class="table_detail" align="center" vertical-align="middle">
<table cellpadding="0" cellspacing="0" border="0">
<tr><td class="button"><input type="submit" class="button" value="<%=context.getFormattedValue(localizeText(context.getFormattedValue("CampaignPromotion_52.Add.button",null)),null)%> &raquo;" name="addCombinationType"/></td></tr>
</table>
<img src="<%=context.getFormattedValue(context.webRoot(),null)%>/images/space.gif" height="6" alt="" border="0"/>
<table cellpadding="0" cellspacing="0" border="0">
<tr><td class="button"><input type="submit" class="button" value="&laquo; <%=context.getFormattedValue(localizeText(context.getFormattedValue("CampaignPromotion_52.Remove.button",null)),null)%>" name="removeCombinationType"/></td></tr>
</table>
</td>
<td class="table_detail w100">
<select name="CombinationTypesToRemove" 
class="select inputfield_en" size="8" multiple="multiple" style="width:300px"><% _boolean_result=false;try {_boolean_result=((Boolean)((hasLoopElements("PromotionForm:AssignedCombinationTypes:Value") ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",737,e);}if (_boolean_result) { %><% while (loop("PromotionForm:AssignedCombinationTypes:Value","ACType",null)) { %><option value="<% {String value = null;try{value=context.getFormattedValue(getObject("ACType"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {739}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("AllPromotionTypes:get(ACType):NamingTemplate")))).booleanValue() && ((Boolean) (((!(context.getFormattedValue(getObject("AllPromotionTypes:get(ACType):NamingTemplate"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",740,e);}if (_boolean_result) { %><% {out.flush();processLocalIncludeByServer((com.intershop.beehive.core.capi.request.ServletResponse)response,context.getFormattedValue(getObject("AllPromotionTypes:get(ACType):NamingTemplate"),null), null, "741");} %><% } %></option><% } %><% } %></select>
</td>
</tr>
</table>
</td>
</tr><% } else { %><tr>
<td class="fielditem2"><% {out.write(localizeISText("CampaignPromotion_52.Combination.fielditem2",null,null,null,null,null,null,null,null,null,null,null,null));} %>:<span class="star">*</span></td>
<td class="fielditem" colspan="2"><% {out.write(localizeISText("CampaignPromotion_52.ThisPromotionIs.fielditem",null,null,null,null,null,null,null,null,null,null,null,null));} %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:Combinable:Value"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:Combinable:Value"),null).equals(context.getFormattedValue("free_combinable",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",757,e);}if (_boolean_result) { %><% {out.write(localizeISText("CampaignPromotion_52.FreelyCombinable.fielditem",null,null,null,null,null,null,null,null,null,null,null,null));} %><% } else {_boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("PromotionForm:Combinable:Value"),null).equals(context.getFormattedValue("not_combinable",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",759,e);}if (_boolean_result) { %><% {out.write(localizeISText("CampaignPromotion_52.NotCombinable.fielditem",null,null,null,null,null,null,null,null,null,null,null,null));} %><% } else {_boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("PromotionForm:Combinable:Value"),null).equals(context.getFormattedValue("combinable_with_types",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",761,e);}if (_boolean_result) { %><% {out.write(localizeISText("CampaignPromotion_52.CombinableWithFollowingPromotionTypes.fielditem",null,null,null,null,null,null,null,null,null,null,null,null));} %>:</td></tr>
<tr><td class="fielditem"><% _boolean_result=false;try {_boolean_result=((Boolean)((hasLoopElements("PromotionForm:AssignedCombinationTypes:Value") ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",764,e);}if (_boolean_result) { %><% while (loop("PromotionForm:AssignedCombinationTypes:Value","ACType",null)) { %><% {String value = null;try{value=context.getFormattedValue(getObject("ACType"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {766}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } %><% } %><% }}} %></td>
</tr><% } %><tr><td colspan="2"><img src="<%=context.getFormattedValue(context.webRoot(),null)%>/images/space.gif" height="4" alt="" border="0"/></td></tr>
<tr>
<td class="fielditem2"><% {out.write(localizeISText("CampaignPromotion_52.Campaign.fielditem2",null,null,null,null,null,null,null,null,null,null,null,null));} %>:</td>
<td><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion:Campaign"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",778,e);}if (_boolean_result) { %><input type="hidden" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:CampaignUUID:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {779}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" value="<% {String value = null;try{value=context.getFormattedValue(getObject("Promotion:Campaign:UUID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {779}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/><% {Object temp_obj = (getObject("Promotion:Campaign:DisplayName")); getPipelineDictionary().put("CampaignName", temp_obj);} %><% {Object temp_obj = ("removeFromCampaign"); getPipelineDictionary().put("btnName", temp_obj);} %><% {Object temp_obj = ("Remove"); getPipelineDictionary().put("btnValue", temp_obj);} %><% } else { %><% {Object temp_obj = (""); getPipelineDictionary().put("CampaignName", temp_obj);} %><% {Object temp_obj = ("assignToCampaign"); getPipelineDictionary().put("btnName", temp_obj);} %><% {Object temp_obj = ("Add"); getPipelineDictionary().put("btnValue", temp_obj);} %><% } %><table cellpadding="0" cellspacing="0" border="0">
<tr>
<td class="table_detail">
<input class="inputfield_en" size="60" type="text" disabled="disabled" value="<% {String value = null;try{value=context.getFormattedValue(getObject("CampaignName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {791}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
</td>
<td><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",794,e);}if (_boolean_result) { %><table border="0" cellspacing="0" cellpadding="0">
<tr>
<td class="button"><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion:Campaign"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",798,e);}if (_boolean_result) { %><input type="submit" class="button" name="<% {String value = null;try{value=context.getFormattedValue(getObject("btnName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {799}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" value="<%=context.getFormattedValue(localizeText(context.getFormattedValue("CampaignPromotion_52.Remove.button",null)),null)%>"
<% _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",800,e);}if (_boolean_result) { %>disabled="disabled"<% } %> /><% } else { %><input type="submit" class="button" name="<% {String value = null;try{value=context.getFormattedValue(getObject("btnName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {802}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" value="<%=context.getFormattedValue(localizeText(context.getFormattedValue("CampaignPromotion_52.Add.button",null)),null)%>"
<% _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",803,e);}if (_boolean_result) { %>disabled="disabled"<% } %> /><% } %></td>
</tr>
</table><% } %></td>
</tr>
</table>
</td>
</tr>
<tr><td colspan="2"><img src="<%=context.getFormattedValue(context.webRoot(),null)%>/images/space.gif" height="4" alt="" border="0"/></td></tr>
<tr><%
							getPipelineDictionary().put("currentDate", new java.util.Date());
					 	%><td class="table_title2 n s" nowrap="nowrap" colspan="2"><% {out.write(localizeISText("CampaignPromotion_52.Activation.table_title2",null,null,null,null,null,null,null,null,null,null,null,null));} %><span style="font-weight:normal">(<% {out.write(localizeISText("CampaignPromotion_52.Timezone.table_title2",null,null,null,null,null,null,null,null,null,null,null,null));} %>: <% {String value = null;try{value=context.getFormattedValue(getObject("currentDate"),"zzzz",null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {824}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>)</span></td>
</tr>
<tr><td colspan="2"><img src="<%=context.getFormattedValue(context.webRoot(),null)%>/images/space.gif" height="4" alt="" border="0"/></td></tr><% {Object temp_obj = ("false"); getPipelineDictionary().put("DisableTF", temp_obj);} %><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion:Campaign"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",830,e);}if (_boolean_result) { %><% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("PromotionForm:UseCampaignTimeFrame:Value"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",831,e);}if (_boolean_result) { %><% {Object temp_obj = ("true"); getPipelineDictionary().put("DisableTF", temp_obj);} %><% } %><% } %><tr>
<td class="fielditem2"><% {out.write(localizeISText("CampaignPromotion_52.Date.fielditem2",null,null,null,null,null,null,null,null,null,null,null,null));} %>:</td>
<td class="fielditem">
<input class="inputfield_en" type="radio" id="UseCcampaignDate" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:UseCampaignTimeFrame:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {839}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" value="true" <% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((((Boolean) ((disableErrorMessages().isDefined(getObject("PromotionForm:UseCampaignTimeFrame:Value"))))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue() || ((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:UseCampaignTimeFrame:Value"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",839,e);}if (_boolean_result) { %>checked="checked"<% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((((Boolean) ((disableErrorMessages().isDefined(getObject("CampaignUUID"))))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue() && ((Boolean) ((((context.getFormattedValue(getObject("Promotion:CampaignID"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",840,e);}if (_boolean_result) { %> disabled="disabled"<% } %>
>
<label for="UseCcampaignDate">&nbsp;<% {out.write(localizeISText("CampaignPromotion_52.UseCampaignStartAndEndDate.label",null,null,null,null,null,null,null,null,null,null,null,null));} %></label>
</td>
</tr>
<tr>
<td class="fielditem2">&nbsp;</td>
<td class="fielditem">
<input class="inputfield_en" type="radio" id="DefinePromotionTime" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:UseCampaignTimeFrame:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {848}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" value="false" <% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("PromotionForm:UseCampaignTimeFrame:Value"),null).equals(context.getFormattedValue("false",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",848,e);}if (_boolean_result) { %>checked="checked"<% } %>>
<label for="DefinePromotionTime">&nbsp;<% {out.write(localizeISText("CampaignPromotion_52.ActivatePromotionAtTheFollowingTime.label",null,null,null,null,null,null,null,null,null,null,null,null));} %></label>
</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
<table border="0" cellspacing="2" cellpadding="0">
<tr>
<td>
<img src="<%=context.getFormattedValue(context.webRoot(),null)%>/images/space.gif" width="18" height="1" alt="" border="0"/>
</td><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("PromotionForm:StartDate:Invalid")).booleanValue() || ((Boolean) (((((Boolean) getObject("PromotionForm:EndDate:Invalid")).booleanValue() && ((Boolean) getObject("PromotionForm:EndDate:Error(\"error.dateafter\")")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",861,e);}if (_boolean_result) { %><% {Object temp_obj = ("true"); getPipelineDictionary().put("invalidstartdate", temp_obj);} %> 
<% } else { %> 
<% {Object temp_obj = ("false"); getPipelineDictionary().put("invalidstartdate", temp_obj);} %> 
<% } %><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",866,e);}if (_boolean_result) { %><% processOpenTag(response, pageContext, "datetimeinput", new TagParameter[] {
new TagParameter("Readonly",getObject("DisableTF")),
new TagParameter("TimeString",getObject("PromotionForm:StartDate:StartDate_Time:Value")),
new TagParameter("Required","true"),
new TagParameter("DateInputFieldName",getObject("PromotionForm:StartDate:StartDate_Day:QualifiedName")),
new TagParameter("DateString",getObject("PromotionForm:StartDate:StartDate_Day:Value")),
new TagParameter("TimeInputFieldName",getObject("PromotionForm:StartDate:StartDate_Time:QualifiedName")),
new TagParameter("DateInputFieldLabel",localizeText(context.getFormattedValue("CampaignPromotion_52.StartDate.DateInputFieldLabel",null))),
new TagParameter("DateObject",getObject("PromotionForm:StartDate:Value")),
new TagParameter("Invalid",getObject("invalidstartdate"))}, 867); %><% } else { %><% processOpenTag(response, pageContext, "datetimeinput", new TagParameter[] {
new TagParameter("Readonly","true"),
new TagParameter("TimeString",getObject("PromotionForm:StartDate:StartDate_Time:Value")),
new TagParameter("Required","true"),
new TagParameter("DateInputFieldName",getObject("PromotionForm:StartDate:StartDate_Day:QualifiedName")),
new TagParameter("DateString",getObject("PromotionForm:StartDate:StartDate_Day:Value")),
new TagParameter("TimeInputFieldName",getObject("PromotionForm:StartDate:StartDate_Time:QualifiedName")),
new TagParameter("DateInputFieldLabel",localizeText(context.getFormattedValue("CampaignPromotion_52.StartDate.DateInputFieldLabel",null))),
new TagParameter("DateObject",getObject("PromotionForm:StartDate:Value")),
new TagParameter("Invalid",getObject("invalidstartdate"))}, 879); %><% } %></tr>
<tr>
<td>
<img src="<%=context.getFormattedValue(context.webRoot(),null)%>/images/space.gif" width="18" height="1" alt="" border="0"/>
</td><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",896,e);}if (_boolean_result) { %><% processOpenTag(response, pageContext, "datetimeinput", new TagParameter[] {
new TagParameter("Readonly",getObject("DisableTF")),
new TagParameter("TimeString",getObject("PromotionForm:EndDate:EndDate_Time:Value")),
new TagParameter("Required","true"),
new TagParameter("DateInputFieldName",getObject("PromotionForm:EndDate:EndDate_Day:QualifiedName")),
new TagParameter("DateString",getObject("PromotionForm:EndDate:EndDate_Day:Value")),
new TagParameter("TimeInputFieldName",getObject("PromotionForm:EndDate:EndDate_Time:QualifiedName")),
new TagParameter("DateInputFieldLabel",localizeText(context.getFormattedValue("CampaignPromotion_52.EndDate.DateInputFieldLabel",null))),
new TagParameter("DateObject",getObject("PromotionForm:EndDate:Value")),
new TagParameter("Invalid",getObject("PromotionForm:EndDate:Invalid"))}, 897); %><% } else { %><% processOpenTag(response, pageContext, "datetimeinput", new TagParameter[] {
new TagParameter("Readonly","true"),
new TagParameter("TimeString",getObject("PromotionForm:EndDate:EndDate_Time:Value")),
new TagParameter("Required","true"),
new TagParameter("DateInputFieldName",getObject("PromotionForm:EndDate:EndDate_Day:QualifiedName")),
new TagParameter("DateString",getObject("PromotionForm:EndDate:EndDate_Day:Value")),
new TagParameter("TimeInputFieldName",getObject("PromotionForm:EndDate:EndDate_Time:QualifiedName")),
new TagParameter("DateInputFieldLabel",localizeText(context.getFormattedValue("CampaignPromotion_52.EndDate.DateInputFieldLabel",null))),
new TagParameter("DateObject",getObject("PromotionForm:EndDate:Value")),
new TagParameter("Invalid",getObject("PromotionForm:EndDate:Invalid"))}, 909); %><% } %></tr>
</table>
</td>
</tr><% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("PromotionForm:Unlimited:Value"),null).equals(context.getFormattedValue("false",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",928,e);}if (_boolean_result) { %><% {Object temp_obj = ("true"); getPipelineDictionary().put("LimitedBudgetChecked", temp_obj);} %><% } %><tr><td colspan="2"><img src="<%=context.getFormattedValue(context.webRoot(),null)%>/images/space.gif" height="4" alt="" border="0"/></td></tr>
<tr>
<td class="table_title2 n s" nowrap="nowrap" colspan ="2"><% {out.write(localizeISText("CampaignPromotion_52.Budget.table_title2",null,null,null,null,null,null,null,null,null,null,null,null));} %></td>
</tr>
<tr><td colspan="2"><img src="<%=context.getFormattedValue(context.webRoot(),null)%>/images/space.gif" height="4" alt="" border="0"/></td></tr>
<tr>
<td class="fielditem2" nowrap="nowrap"><% {out.write(localizeISText("CampaignPromotion_52.Source.fielditem2",null,null,null,null,null,null,null,null,null,null,null,null));} %>:</td>
<td>
<table cellpadding="0" cellspacing="0" border="0">
<tr>
<td class="fielditem" width="130"><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || !((Boolean) (disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",942,e);}if (_boolean_result) { %><select id="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetSource:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {943}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" disabled ="disabled" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetSource:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {943}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" class="select inputfield_en">
<option value="None"><% {out.write(localizeISText("sld_ch_consumer_plugin.None.option",null,null,null,null,null,null,null,null,null,null,null,null));} %></option><% _boolean_result=false;try {_boolean_result=((Boolean)((hasLoopElements("BudgetSources") ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",945,e);}if (_boolean_result) { %><% while (loop("BudgetSources","BudgetSource",null)) { %><option value="<% {String value = null;try{value=context.getFormattedValue(getObject("BudgetSource:UUID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {947}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
<% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("BudgetSource:UUID"),null).equals(context.getFormattedValue(getObject("PromotionForm:BudgetSource:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",948,e);}if (_boolean_result) { %>
selected="selected"
<% } %>><% {String value = null;try{value=context.getFormattedValue(getObject("BudgetSource:DisplayName(SelectedLocale)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {950}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></option><% } %><% } %></select><% } else { %><select id="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetSource:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {956}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetSource:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {956}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" class="select inputfield_en">
<option value="None"><% {out.write(localizeISText("sld_ch_consumer_plugin.None.option",null,null,null,null,null,null,null,null,null,null,null,null));} %></option><% _boolean_result=false;try {_boolean_result=((Boolean)((hasLoopElements("BudgetSources") ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",958,e);}if (_boolean_result) { %><% while (loop("BudgetSources","BudgetSource",null)) { %><option value="<% {String value = null;try{value=context.getFormattedValue(getObject("BudgetSource:UUID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {960}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
<% _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("BudgetSource:UUID"),null).equals(context.getFormattedValue(getObject("PromotionForm:BudgetSource:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",961,e);}if (_boolean_result) { %>
selected="selected"
<% } %>><% {String value = null;try{value=context.getFormattedValue(getObject("BudgetSource:DisplayName(SelectedLocale)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {963}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></option><% } %><% } %></select><% } %></td>
<td class="fielditem2" nowrap="nowrap"><% {out.write(localizeISText("CampaignPromotion_52.RemainingBudgetB.fielditem",null,null,null,null,null,null,null,null,null,null,null,null));} %>&nbsp;
<% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("BudgetRemaining")))).booleanValue() && ((Boolean) (disableErrorMessages().isDefined(getObject("LimitedBudgetChecked")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",971,e);}if (_boolean_result) { %><% {String value = null;try{value=context.getFormattedValue(getObject("BudgetRemaining"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {972}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } else { %><% {out.write(localizeISText("CampaignPromotion_52.NA.fielditem",null,null,null,null,null,null,null,null,null,null,null,null));} %><% } %></td>
</tr>
</table>
</td> 
</tr>
<tr>
<td <% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("PromotionForm:BudgetAmount:isInvalid")).booleanValue() || ((Boolean) ((((context.getFormattedValue(getObject("ERROR_Promotion"),null).equals(context.getFormattedValue("BudgetAmountParseError",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",982,e);}if (_boolean_result) { %>class="fielditem2_error"<% } else { %>class="fielditem2"<% } %> nowrap="nowrap"><% {out.write(localizeISText("CampaignPromotion_52.Amount",null,null,null,null,null,null,null,null,null,null,null,null));} %>:
</td>
<td class="fielditem"><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",986,e);}if (_boolean_result) { %><input class="inputfield_en" type="radio" value="true" id="unlimitedPromotion" 
onclick="toogleUnlimited(true);" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Unlimited:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {988}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
checked="checked" disabled ="disabled" /><% } else {_boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("PromotionForm:Unlimited:ValueMissing")).booleanValue() || ((Boolean) (((!(context.getFormattedValue("false",null).equals(context.getFormattedValue(getObject("PromotionForm:Unlimited:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (getObject("Promotion:Unlimited"))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",990,e);}if (_boolean_result) { %><input class="inputfield_en" type="radio" value="true" id="unlimitedPromotion" 
onclick="toogleUnlimited(true);" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Unlimited:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {992}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"
checked="checked" /><% } else { %><input class="inputfield_en" type="radio" value="true" id="unlimitedPromotion" 
onclick="toogleUnlimited(true);" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Unlimited:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {996}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/><% }} %><label for="unlimitedPromotion">&nbsp;<% {out.write(localizeISText("CampaignPromotion_52.Unlimited.inputfield_en",null,null,null,null,null,null,null,null,null,null,null,null));} %></label>
</td>
</tr>
<tr>
<td>&nbsp;</td>
<td class="fielditem"><% _boolean_result=false;try {_boolean_result=((Boolean)(((!((Boolean) (disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING")))).booleanValue() || ((Boolean) (((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1004,e);}if (_boolean_result) { %><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("LimitedBudgetChecked"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1005,e);}if (_boolean_result) { %><input class="inputfield_en radio" type="radio" value="false" id="limitedPromotion" onclick="toogleUnlimited(false);" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Unlimited:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1006}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" disabled ="disabled" checked="checked"/><% } else { %><input class="inputfield_en radio" type="radio" value="false" id="limitedPromotion" onclick="toogleUnlimited(false);" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Unlimited:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1008}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" disabled ="disabled"/><% } %><% } else { %><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("LimitedBudgetChecked"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1011,e);}if (_boolean_result) { %><input class="inputfield_en radio" type="radio" value="false" id="limitedPromotion" onclick="toogleUnlimited(false);" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Unlimited:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1012}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" checked="checked" /><% } else { %><input class="inputfield_en radio" type="radio" value="false" id="limitedPromotion" onclick="toogleUnlimited(false);" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Unlimited:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1014}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" /><% } %> 
<% } %><label for="limitedPromotion">&nbsp;<% {out.write(localizeISText("CampaignPromotion_52.BudgetAmount.inputfield_en",null,null,null,null,null,null,null,null,null,null,null,null));} %>&nbsp;&nbsp;</label>
<span id="budgetCurrency"> 
<% {Object temp_obj = (""); getPipelineDictionary().put("budgetCurrencyToUse", temp_obj);} %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && ((Boolean) (disableErrorMessages().isDefined(getObject("Promotion:Currency")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1020,e);}if (_boolean_result) { %><% {Object temp_obj = (getObject("Promotion:Currency:Mnemonic")); getPipelineDictionary().put("budgetCurrencyToUse", temp_obj);} %><% {String value = null;try{value=context.getFormattedValue(getObject("Promotion:Currency:Mnemonic"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1022}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } else {_boolean_result=false;try {_boolean_result=((Boolean)((((!(context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1023,e);}if (_boolean_result) { %><% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1024}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% {Object temp_obj = (getObject("PromotionForm:Currency:Value")); getPipelineDictionary().put("budgetCurrencyToUse", temp_obj);} %><% }} %>&nbsp;
</span><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || !((Boolean) (disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1028,e);}if (_boolean_result) { %><input type="text" maxlength=8 size=8 id="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetAmount:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1029}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetAmount:Amount:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1029}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" value="<% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("LimitedBudgetChecked"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1029,e);}if (_boolean_result) { %><% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetAmount:Value"),"#",null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1029}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } %>" class="inputfield_en" disabled ="disabled"/><% } else { %><input type="text" maxlength=8 size=8 id="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetAmount:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1031}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetAmount:Amount:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1031}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" value="<% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("LimitedBudgetChecked"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1031,e);}if (_boolean_result) { %><% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetAmount:Value"),"#",null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1031}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } %>" class="inputfield_en"/><% } %><input type="hidden" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetAmount:Currency:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1033}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" value="<% {String value = null;try{value=context.getFormattedValue(getObject("budgetCurrencyToUse"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1033}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
<table cellpadding="0" cellspacing="0" border="0">
<tr>
<td class="input_checkbox">&nbsp;&nbsp;</td>
<td class="input_checkbox">
<input class="inputfield_en" type="checkbox" 
id="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:DisableByBudget:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1044}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" 
name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:DisableByBudget:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1045}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" 
<% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || !((Boolean) (disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1046,e);}if (_boolean_result) { %>
disabled ="disabled"
<% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("PromotionForm:DisableByBudget:Value")).booleanValue() && ((Boolean) (disableErrorMessages().isDefined(getObject("LimitedBudgetChecked")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1049,e);}if (_boolean_result) { %>
checked="checked"
<% } else {_boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:DisableByBudget:Value"),null).equals(context.getFormattedValue("on",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) (disableErrorMessages().isDefined(getObject("LimitedBudgetChecked")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1051,e);}if (_boolean_result) { %>
checked="checked"
<% }} %>
/>
</td>
<td>
<label class="label label_checkbox_text label_light" for="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:DisableByBudget:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1057}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"><% {out.write(localizeISText("CampaignPromotion_52.TakePromotionOfflineWhenExceeded.inputfield_en",null,null,null,null,null,null,null,null,null,null,null,null));} %></label>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td colspan="2"><img src="<%=context.getFormattedValue(context.webRoot(),null)%>/images/space.gif" height="3" alt="" border="0"/></td>
</tr>
<tr>
<td <% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("PromotionForm:BudgetNotificationEmail:isInvalid")).booleanValue() || ((Boolean) getObject("PromotionForm:BudgetNotification:isInvalid")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1067,e);}if (_boolean_result) { %>class="fielditem2_error"<% } else { %>class="fielditem2"<% } %> nowrap="nowrap"><% {out.write(localizeISText("CampaignPromotion_52.Notification",null,null,null,null,null,null,null,null,null,null,null,null));} %>:
</td>
<td class="fielditem">
<label for="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationEmail:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1071}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"><% {out.write(localizeISText("CampaignPromotion_52.SendANotificationEmailTo.fielditem",null,null,null,null,null,null,null,null,null,null,null,null));} %>&nbsp;
</label>
<input type="text" maxlength="255" size="60" 
id="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationEmail:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1075}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" 
name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationEmail:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1076}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" 
<% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || !((Boolean) (disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1077,e);}if (_boolean_result) { %>
disabled ="disabled"
<% } %>
value="<% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("LimitedBudgetChecked"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1080,e);}if (_boolean_result) { %><% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationEmail:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1080}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } %>" 
class="inputfield_en"/>
</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
<table cellpadding="0" cellspacing="0" border="0">
<tr>
<td class="table_detail_checkbox">
<input type="checkbox" 
id="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfBudgetReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1091}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" 
name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfBudgetReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1092}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" 
<% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || !((Boolean) (disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1093,e);}if (_boolean_result) { %>
disabled ="disabled"
<% } %> 
<% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:SendMailIfBudgetReached:Value"),null).equals(context.getFormattedValue("on",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (getObject("PromotionForm:SendMailIfBudgetReached:Value"))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) (disableErrorMessages().isDefined(getObject("LimitedBudgetChecked")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1096,e);}if (_boolean_result) { %>
checked="checked"
<% } %>/>
</td>
<td class="fielditem" colspan="3">
<label for="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfBudgetReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1101}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"><% {out.write(localizeISText("CampaignPromotion_52.WhenBudgetAmountIsExceeded.fielditem",null,null,null,null,null,null,null,null,null,null,null,null));} %></label>
</td>
</tr>
<tr>
<td class="table_detail_checkbox">
<input type="checkbox" 
id="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfThresholdReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1109}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" 
name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfThresholdReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1110}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" 
<% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || !((Boolean) (disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1111,e);}if (_boolean_result) { %>
disabled ="disabled"
<% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:SendMailIfThresholdReached:Value"),null).equals(context.getFormattedValue("on",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (getObject("PromotionForm:SendMailIfThresholdReached:Value"))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) (disableErrorMessages().isDefined(getObject("LimitedBudgetChecked")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1114,e);}if (_boolean_result) { %>
checked="checked"
<% } %>/>
</td>
<td class="fielditem">
<label class="label label_checkbox_text label_light" for="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfThresholdReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1119}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"><% {out.write(localizeISText("CampaignPromotion_52.WhenBudgetAmountIsLowerThan.fielditem",null,null,null,null,null,null,null,null,null,null,null,null));} %>&nbsp;
</label>
</td>
<td class="fielditem">
<input type="text" 
id="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationThreshold:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1125}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" 
name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationThreshold:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1126}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>" 
maxlength=3 size=3 
<% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || !((Boolean) (disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1128,e);}if (_boolean_result) { %>
disabled ="disabled"
<% } %>
value="<% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("LimitedBudgetChecked"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1131,e);}if (_boolean_result) { %><% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationThreshold:Value"),"#",null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1131}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } %>" 
class="inputfield_en"/>
</td>
<td>%</td>
</tr>
</table>
</td>
</tr>
<tr>
<td colspan="2"><img src="<%=context.getFormattedValue(context.webRoot(),null)%>/images/space.gif" width="1" height="4" alt="" border="0"/></td>
</tr><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1142,e);}if (_boolean_result) { %><tr>
<td colspan="2" class="n" align="right">
<table border="0" cellspacing="4" cellpadding="0">
<tr><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1148,e);}if (_boolean_result) { %><td class="button"><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1150,e);}if (_boolean_result) { %><input type="hidden" name="GeneralPromotionInformation_Unlimited" value="true"/><% } else { %><input type="hidden" value="dummy" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotification:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1153}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/><% } %><input type="hidden" name="GeneralPromotionInformation_PID" value="<% {String value = null;try{value=context.getFormattedValue(getObject("Promotion:ID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1155}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
<input type="hidden" name="DateFormatString" value="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentSession:Locale:DefaultRegionalSettings:inputDatePattern"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1156}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %> <% {String value = null;try{value=context.getFormattedValue(getObject("CurrentSession:Locale:DefaultRegionalSettings:inputTimePattern"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1156}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
<input type="submit" name="update" value="<%=context.getFormattedValue(localizeText(context.getFormattedValue("CampaignPromotion_52.Apply.button",null)),null)%>" class="button"/>
</td>
<td class="button"><input type="submit" name="reset" value="<%=context.getFormattedValue(localizeText(context.getFormattedValue("CampaignPromotion_52.Reset.button",null)),null)%>" class="button"/></td><% } else { %><td class="button"><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1163,e);}if (_boolean_result) { %><input type="hidden" name="GeneralPromotionInformation_Unlimited" value="true"/><% } else { %><input type="hidden" value="dummy" name="<% {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotification:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1166}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/><% } %><input type="hidden" name="DateFormatString" value="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentSession:Locale:DefaultRegionalSettings:inputDatePattern"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1168}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %> <% {String value = null;try{value=context.getFormattedValue(getObject("CurrentSession:Locale:DefaultRegionalSettings:inputTimePattern"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1168}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
<input type="submit" name="create" value="<%=context.getFormattedValue(localizeText(context.getFormattedValue("CampaignPromotion_52.Apply.button",null)),null)%>" class="button"/>
</td>
<td class="button"><input type="hidden" name="ChannelID" value="<% {String value = null;try{value=context.getFormattedValue(getObject("CurrentChannel:UUID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1171}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"/>
<input type="submit" name="cancelNewPromotion" value="<%=context.getFormattedValue(localizeText(context.getFormattedValue("CampaignPromotion_52.Cancel.button",null)),null)%>" class="button"/>
</td><% } %></tr>
</table>
</td>
</tr><% } %></table>
</td>
</tr>
</table><% out.print("</form>"); %><% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1186,e);}if (_boolean_result) { %><% {out.flush();processLocalIncludeByServer((com.intershop.beehive.core.capi.request.ServletResponse)response,"inc/BackToList", null, "1187");} %><% } %><% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((!((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) (disableErrorMessages().isDefined(getObject("LimitedBudgetChecked")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) (disableErrorMessages().isDefined(getObject("LimitedBudgetChecked")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1189,e);}if (_boolean_result) { %><script language="JavaScript" type="text/javascript">
<!--
toogleUnlimited(true); 
-->
</script><% } %><!-- EO Main Content -->
<!-- EO Working Area --><% printFooter(out); %>