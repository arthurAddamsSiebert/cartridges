<iscontent type="text/html" charset="UTF-8" compact="true">
<isinclude template="preview/Modules">
<!-- Working Area -->

<ISBreadcrumbTrail link="#URL(Action('ViewChannelCatalogOverview_52-Show'), Parameter('ChannelID', CurrentChannel:UUID))#" text="#localizeText('catalogs.title')#" start="true" hide="true">
<isif condition="#(NOT isDefined(CurrentSearchType)) OR (CurrentSearchType EQ 'Simple')#">
	<ISBreadCrumbTrail  removewizard="true" listview="true" link="#URL(Action('ViewProductList_52-Sort'),Parameter('ChannelID', ChannelID), Parameter('IsSearchFired', IsSearchFired), Parameter('SelectedMenuItem', SelectedMenuItem))#" text="#localizeText('catalogs.productlist.title')#">
<iselseif condition="#CurrentSearchType EQ 'Classification'#">
	<ISBreadCrumbTrail  removewizard="true" listview="true" link="#URL(Action('ViewProductList_52-SortClassification'),Parameter('ChannelID', ChannelID), Parameter('IsSearchFired', IsSearchFired), Parameter('SelectedMenuItem', SelectedMenuItem))#" text="#localizeText('catalogs.productlist.title')#">
<iselse>
	<ISBreadCrumbTrail  removewizard="true" listview="true" link="#URL(Action('ViewProductList_52-SortAdvanced'),Parameter('ChannelID', ChannelID), Parameter('IsSearchFired', IsSearchFired), Parameter('SelectedMenuItem', SelectedMenuItem))#" text="#localizeText('catalogs.productlist.title')#">
</isif>
<table border="0" cellpadding="0" cellspacing="0" width="100%" data-testing-id="page-bo-product-list-channel">
	<tr>
		<td width="100%" class="table_title aldi">
			<isprint value="#CurrentSelectedChannel:DisplayName#">&nbsp;-&nbsp;<isapptext key="catalogs.productlist.title">
		</td>
	</tr>
	<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_PRODUCTS)#">	
		<!-- delete confirmation if one is selected and error if nothing is selected-->
		<isif condition="#isDefined(confirmDelete)#">
			<tr>
				<td>
					<isform action="#URL(Action('ViewProductList_52-Dispatch'))#" name="deleteForm" method="post">
						<table border="0" cellspacing="0" cellpadding="0" width="100%" class="confirm_box">
							<isif condition="#hasLoopElements(Clipboard:ObjectUUIDs)#">
								<ISMessageBox subject="#localizeText('ProductList_52.Products.subject')#" type="mdc" message="#localizeText('ProductList_52.DeleteAllSelectedProducts.message')#"
								              okbtnname="delete" cancelbtnname="cancel" colspan="1"
								              parametername1="IsSearchFired" parametervalue1="#IsSearchFired#">
							<iselse/>
								<ISMessageBox subject="#localizeText('ProductList_52.Products.subject')#" type="mde" message="#localizeText('ProductList_52.PleaseSelectAtLeastOneProduct.message')#" colspan="1">
							</isif>
						</table>
					</isform>
				</td>
			</tr>
		</isif>
		<!-- offline confirmation if default variation is selected-->
		<isif condition="#isDefined(DeletionOfDefaultVariationProduct)#">
			<tr>
				<td>
					<isform action="#URL(Action('ViewProductList_52-Dispatch'))#" name="updateForm" method="post">
						<table border="0" cellspacing="0" cellpadding="0" width="100%" class="confirm_box">
							<isif condition="#isDefined(NoNewDefaultVariationProduct)#">
								<ISMessageBox subject="#localizeText('ProductList_52.Products.subject')#" type="mdc" message="#localizeText('ProductList_52.SetSharedDefaultVariationProductOffline.message')#"
								              okbtnname="applyOfflineProduct" cancelbtnname="cancelDefaultVariationDelete" colspan="1"
								              parametername1="IsSearchFired" parametervalue1="#IsSearchFired#">
								<input type="hidden" name="applySharedDefaultVariation" value="">
							<iselse>
								<ISMessageBox subject="#localizeText('ProductList_52.Products.subject')#" type="mdc" message="#localizeText('ProductList_52.SetDefaultVariationProductOffline.message')#"
								              okbtnname="applyOfflineProduct" cancelbtnname="cancelDefaultVariationDelete" colspan="1"
								              parametername1="IsSearchFired" parametervalue1="#IsSearchFired#">
			              	</isif>
			              	<input type="hidden" name="ProductID" value="#ProductID#"/>
				            <input type="hidden" name="applyDefaultVariation" value="">
						</table>
					</isform>
				</td>
			</tr>
		</isif>		
		<isif condition="#NOT IsDefined(applySharedDefaultVariation) AND IsDefined(applyOfflineProduct) AND (NOT (IsDefined(ProductBORepository:ProductBOByID(ProductID):ProductBOMaster:AttributeValue("MasterProductOfflineByVariation")) AND (ProductBORepository:ProductBOByID(ProductID):ProductBOMaster:AttributeValue("MasterProductOfflineByVariation"):StringValue EQ 'true')))#">
			<tr>
				<td>
					<table border="0" cellpadding="4" cellspacing="0" width="100%"
							class="information w e s">
						<tr>
							<td class="e"><img
								src="#WebRoot()#/images/information.gif" width="16" height="15" alt=""
								border="0" />
							</td>
							<td class="information" width="100%">
								<istext key="ProductList_52.TheProductVariationWithSKUIsNewDefaultVariant.message" parameter0="#ProductBORepository:ProductBOByID(ProductID):ProductBOMaster:DefaultVariationProductBO:SKU#" parameter1="#ProductBORepository:ProductBOByID(ProductID):ProductBOMaster:DefaultVariationProductBO:Name#" encoding="off"/>
							</td>
						</tr>
					</table>
				</td>
			</tr>		
		</isif>
		<isif condition="#IsDefined(MasterProductReturnedOnline)#">
			<tr>
				<td>
					<table border="0" cellpadding="4" cellspacing="0" width="100%"
							class="information w e s">
						<tr>
							<td class="e"><img
								src="#WebRoot()#/images/information.gif" width="16" height="15" alt=""
								border="0" />
							</td>
							<td class="information" width="100%">
								<istext key="ProductList_52.TheDefaultProductSetOnlineToo.message" parameter0="#ProductBORepository:ProductBOByID(ProductID):DefaultVariationProductBO:SKU#" parameter1="#ProductBORepository:ProductBOByID(ProductID):DefaultVariationProductBO:Name#" encoding="off"/>
							</td>
						</tr>
					</table>
				</td>
			</tr>		
		</isif>
		<isif condition="#NOT IsDefined(applySharedDefaultVariation) AND IsDefined(applyOfflineProduct) AND IsDefined(ProductBORepository:ProductBOByID(ProductID):ProductBOMaster:AttributeValue("MasterProductOfflineByVariation")) AND (ProductBORepository:ProductBOByID(ProductID):ProductBOMaster:AttributeValue("MasterProductOfflineByVariation"):StringValue EQ 'true')#">
			<tr>
				<td>
					<table border="0" cellpadding="4" cellspacing="0" width="100%"
							class="information w e s">
						<tr>
							<td class="e"><img
								src="#WebRoot()#/images/information.gif" width="16" height="15" alt=""
								border="0" />
							</td>
							<td class="information" width="100%">
								<istext key="ProductList_52.MasterVariationWasSetToOfflineToo.message" parameter0="#ProductBORepository:ProductBOByID(ProductID):ProductBOMaster:DefaultVariationProductBO:SKU#" parameter1="#ProductBORepository:ProductBOByID(ProductID):ProductBOMaster:DefaultVariationProductBO:Name#" encoding="off"/>
							</td>
						</tr>
					</table>
				</td>
			</tr>		
		</isif>	
		<!-- confirmation if nothing is selected for assign and edit all-->
		<isif condition="#isDefined(NoProductSelected)#">
			<tr>
				<td>
					<table border="0" cellspacing="0" cellpadding="4" width="100%" class="error_box w e s">
						<tr>
							<td class="error_icon e"><img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/></td>
							<td class="error" width="100%">
								<isapptext key="catalogs.productlist.notselected.message"><br/>
								<isapptext key="catalogs.productlist.edit.description">
								<isif condition="#isDefined(assign)#">
									<isapptext key="catalogs.productlist.assign">
								<iselseif condition="#isDefined(process)#">
									<isapptext key="catalogs.productlist.editselected">
								<iselseif condition="#isDefined(copy)#">
									<isapptext key="catalogs.productlist.copy">
								<iselseif condition="#isDefined(selectStagingTarget)#">
									<isapptext key="catalogs.productlist.publish">
								</isif><isapptext key="catalogs.productlist.again">
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</isif>
		<!-- delete confirmation if one is selected, script is found in inc/ConfirmationScript.isml-->
		<isif condition="#(isDefined(ProductDeletionFailed) AND (ProductDeletionFailed EQ 'OffersExist'))#">
			<tr>
				<td>
					<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
						<tr>
							<td class="error_icon e"><img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/></td>
							<td class="error" width="100%"><isapptext key="catalogs.productlist.cannotdelete.message"></td>
						</tr>
					</table>
				</td>
			</tr>
		</isif>
		<isif condition="#(isDefined(PreviewProductError))#">
			<tr>
				<td>
					<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
						<tr>
							<td class="error_icon e"><img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/></td>
							<td class="error" width="100%"><isPreviewError previewError="#PreviewProductError#" ></td>
						</tr>
					</table>
				</td>
			</tr>
		<iselseif condition="#(isDefined(confirmPreview))#">
			<isform action="#URL(Action('ViewProductList-Dispatch'))#" name="deleteForm" method="post">
				<input type="hidden" name="ProductID" value="<isprint value="#ProductID#"/>"/>
				<isPreviewMessageBox previewMessage="#confirmPreview#" itemType="product">
			</isform>
		</isif>
		<isif condition="#(isDefined(ProductDeletionFailed) AND (ProductDeletionFailed EQ 'ProductReferencesExist'))#">
			<tr>
				<td>
					<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
						<tr>
							<td class="error_icon e">
								<img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/>
							</td>
							<td class="error" width="100%">
								<isapptext key="catalogs.productlist.wrongselection.message">
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</isif>
		<isif condition="#(isDefined(ProductDeletionFailed) AND (ProductDeletionFailed EQ 'Locked'))#">
			<tr>
				<td>
					<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
						<tr>
							<td class="error_icon e">
								<img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/>
							</td>
							<td class="error" width="100%">
								<isapptext key="catalogs.productlist.cannotdelete.locked.message">
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</isif>		
		<isif condition="#(isDefined(ProductDeletionFailed) AND (ProductDeletionFailed EQ 'CacheClearFailed'))#">
			<tr>
				<td>
					<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
						<tr>
							<td class="error_icon e">
								<img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/>
							</td>
							<td class="error" width="100%">
								<isapptext key="catalogs.productlist.cannotdelete.logmessage">
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</isif>
		<isif condition="#(isDefined(ErrorProductNotAvailable))#">
			<tr>
				<td>
					<table border="0" cellspacing="0" cellpadding="4" width="100%" class="confirm_box w e s">
						<tr>
							<td class="error_icon e">
								<img src="#WebRoot()#/images/error.gif" width="16" height="15" alt="" border="0"/>
							</td>
							<td class="error" width="100%">
								<isapptext key="catalogs.productlist.noproduct.message">
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</isif>
		<isif condition="#(isDefined(approve) AND (NOT isDefined (NoProductSelected)))#">
			<tr>
				<td>
					<table border="0" cellspacing="0" cellpadding="4" width="100%" class="information w e s">
						<tr>
							<td class="information e"><img src="#WebRoot()#/images/confirmation_info.gif" width="16" height="15" alt="" border="0"/></td>
							<td class="information" width="100%">
								<isapptext key="catalogs.productlist.approvalstatus.message">
							</td>
						</tr>
					</table>
				</td>
			</tr>			
		</isif>
	</isif>
	<!-- Check search mask -->
	<tr>
		<td>
			<table border="0" cellpadding="0" cellspacing="0" width="100%">
				<isinclude template="inc/ProductSearchMessages.isml">
			</table>
		</td>
	</tr>
	
	<isset name="ProductButtonsDisabledAttribute" value="#''#" scope="request"/>
	<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_PRODUCTS)#">	
		<isif condition="#isDefined(ProductLockActivated) AND (ProductLockActivated EQ 'true')#">
			<ispipeline pipeline="ProcessProductLock_52-LookupParentNamedResource" alias="GlobalProductLockInfoDictionary" params="#ParamMap(ParamEntry('ProductDomain',ProductDomain))#"/>
			<isif condition="#isDefined(GlobalProductLockInfoDictionary:AllProductsLocked)#">
				<isset name="ProductButtonsDisabledAttribute" value="#'disabled="disabled"'#" scope="request"/>
				<tr>
					<td>
						<table border="0" cellpadding="3" cellspacing="0" width="100%" class="information w e s">
							<tr>
								<td>
									<img src="#WebRoot()#/images/lockedForOther.gif" align="middle" alt="#localizeText('ProductList_52.LockedByOther.alt')#" title="#localizeText('ProductList_52.LockedByOther.title')#" border="0"/>
								</td>		
								<td width="100%">
								<isapptext key="catalogs.productlist.alllocked.message.part1"> <span style="text-decoration: underline"><isapptext key="catalogs.productlist.alllocked.message.part2"></span>.
								<isLockOwnerToolTip Resource="#GlobalProductLockInfoDictionary:Resource#" CurrentUser="#CurrentUser#">
							</td>
							</tr>
						</table>
					</td>
				</tr>
			</isif>
		</isif>
	</isif>
	
	<isif condition="#isDefined(InitializingSearch) AND (InitializingSearch EQ 'true')#">
		<tr>
			<td>	
				<table border="0" cellspacing="0" cellpadding="4" width="100%" class="information w e s">
					<tr>
						<td class="e"><img src="#WebRoot()#/images/information.gif" width="16" height="15" alt="" border="0"/></td>
						<td width="100%"><istext key="ProductSearch.NoSearchExecuted" encoding="off"/></td>
					</tr>
				</table>
			</td>
		</tr>
	<iselse>
		<tr>
			<td class="table_title_description w e s">
				<isif condition="#isDefined(IsSearchFired) AND (IsSearchFired EQ 'true')#">
						<isapptext key="catalogs.productlist.allsearch.message">
				<iselse>
						<isapptext key="catalogs.productlist.description">
				</isif>
				<isif condition="#hasLoopElements(Products) AND hasElements(TargetClusters)#">
					<br/><br/><isapptext key="catalogs.productlist.publish.description"> 
					<isapptext key="catalogs.productlist.publishselection.description">
					<isapptext key="catalogs.productlist.selection.description">
				</isif>
			</td>
		</tr>
	</isif>	
</table>

<!-- include Standard Product search mask for simple and parametric search -->
<isif condition="#(SearchType NE 'classification')#">
	<isset name="ProductSearchHelpContext" value="#'/help/ov_ui.html#ov_ui_searchOpt'#" scope="request" />
</isif>

<ISProductSearchMask pipeline="ViewProductList_52-Dispatch" searchtype="#SearchType#" parametername1="IsSearchFired" parametervalue1="#IsSearchFired#" >

<!-- Main Content -->
<ISSticky>
<isform action="#URL(Action('ViewProductList_52-Dispatch'))#" method="post" name="detailForm">
	<table width="100%" border="0" cellspacing="0" cellpadding="0" class="w">
		<tr>
			<td>
				<table width="100%" border="0" cellspacing="0" cellpadding="0" class="stickyHeader">
					<thead>
						<isif condition="#NOT hasLoopElements(Products)#">
							<tr>
								<td colspan="9">
									<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_PRODUCTS)#">	
										<isif condition="#NOT isDefined(InitializingSearch) OR (InitializingSearch NE 'true')#">
											<table border="0" cellpadding="0" cellspacing="0" width="100%" class="e s">
												<isif condition="#isDefined(PriceFromError) OR isDefined(PriceToError) OR isdefined(ERROR_ModifiedDateFrom) OR isdefined(ERROR_ModifiedDateTo)#">
													<!--  Error case -> no text --> 
													<ISProductSearchNoResult EmptySearchResultDesc="" EmptyRepositoryDesc="#localizeText('ProductSearch.TheChannelProductRepositoryIsEmpty').' '.localizeText('ProductSearch.ClickNewToAddProducts')#">
												<iselse>
													<ISProductSearchNoResult EmptySearchResultDesc="#localizeText('ProductSearch.NoProductsFoundForYourSearch')#" EmptyRepositoryDesc="#localizeText('ProductSearch.TheChannelProductRepositoryIsEmpty').' '.localizeText('ProductSearch.ClickNewToAddProducts')#">
												</isif>
											</table>
										<iselse>
											<isif condition="#NOT isDefined(HasProducts)#">
												<table border="0" cellpadding="0" cellspacing="0" width="100%" class="e s">
													<ISProductSearchNoResult EmptyRepositoryDesc="#localizeText('ProductSearch.TheChannelProductRepositoryIsEmpty')#">
												</table>
											</isif>
										</isif>
										<table class="e s" width="100%" border="0" cellspacing="0" cellpadding="0">
											<tr>
												<td align="left">
													<table border="0" cellspacing="4" cellpadding="0">
														<tr>
															<td class="button"><input type="submit" name="new" value="<istext key="catalogs.productlist.button.create"/>" class="button" <isprint value="#ProductButtonsDisabledAttribute#"/>/></td>
														</tr>
													</table>
												</td>
											</tr>
										</table>
									<iselse>
										<isif condition="#NOT isDefined(HasProducts)#">
											<table border="0" cellpadding="0" cellspacing="0" width="100%" class="e s">
												<ISProductSearchNoResult EmptyRepositoryDesc="#localizeText('ProductSearch.TheChannelProductRepositoryIsEmpty')#">
											</table>
										</isif>
									</isif>
								</td>
							</tr>
						<iselse>
							<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_PRODUCTS)#">
								<tr>
									<td colspan="10">
										<table width="100%" border="0" cellspacing="0" cellpadding="0" class="e s">	
											<tr>
												<td align="left">
													<table border="0" cellspacing="0" cellpadding="0">
														<tr>
															<td align="left">
																<table border="0" cellspacing="4" cellpadding="0">
																	<tr>
																		<td class="button">
																			<input type="submit" name="assign" value="<istext key="catalogs.productlist.button.assign"/>" class="button" <isprint value="#ProductButtonsDisabledAttribute#"/>/>
																		</td>
																		<td class="button">
																			<input type="submit" name="new" value="<istext key="catalogs.productlist.button.create"/>" class="button" <isprint value="#ProductButtonsDisabledAttribute#"/>/>
																		</td>
																		<td class="button">
																			<input type="submit" name="copy" value="<istext key="catalogs.productlist.button.copy"/>" class="button" <isprint value="#ProductButtonsDisabledAttribute#"/>/>
																			<input type="hidden" name="NamePrefix" value="<istext key="catalogs.productlist.copyoff"/> "/>
																			<input type="hidden" name="IsSearchFired" value="<isprint value="#IsSearchFired#"/>" />
																		</td>
																		<td class="button">
																			<input type="submit" name="confirmDelete" value="<istext key="catalogs.productlist.button.delete"/>" class="button" <isprint value="#ProductButtonsDisabledAttribute#"/>/>
																		</td>
																	</tr>
																</table>
															</td>
															<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_BATCH_PROCESSES)#">
																<td width="26">&nbsp;</td>
																<td>
																	<table border="0" cellspacing="4" cellpadding="0">
																		<tr>
																			<td class="button"><input type="submit" name="process" value="<istext key="catalogs.productlist.button.editselected"/>" class="button" <isprint value="#ProductButtonsDisabledAttribute#"/>/></td>
																			<td class="button"><input type="submit" name="EditAll" value="<istext key="catalogs.productlist.button.editall"/>" class="button" <isprint value="#ProductButtonsDisabledAttribute#"/>/></td>
																		</tr>
																	</table>
																</td>
															</isif>
															<isif condition="#(isDefined(CurrentUserPermissionMap:SLD_REPLICATE_CATALOG_WO_PROVIDER)) 
																			   OR (isDefined(PermissionMap:SLD_REPLICATE_CATALOG_WO_PROVIDER))#">
																<ISPublishToLiveButton addSeparatorBefore="true" buttonNameTextKey="catalogs.productlist.button.selectstagingtarget" disableButtonAttribute="#ProductButtonsDisabledAttribute#">
															</isif>
														</tr>
													</table>
												</td>
											</tr>
										</table>										
									</td>
								</tr>
							</isif>
							<tr>
								<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_PRODUCTS)#">	
									<th class="e s" nowrap="nowrap" width="80">
										<div id="A">
											<table border="0" cellspacing="0" cellpadding="0" class="table_header center" width="80">
												<tr>
													<td nowrap="nowrap"><a href="javascript:selectAll('detailForm','SelectedProductUUID','A','B');" class="tableheader"><isapptext key="catalogs.productlist.header.selectall"></a></td>
												</tr>
											</table>
										</div>
										<div id="B" style="display:none">
											<table border="0" cellspacing="0" cellpadding="0" class="table_header center" width="80">
												<tr>
													<td nowrap="nowrap"><a href="javascript:selectAll('detailForm','SelectedProductUUID','A','B');" class="tableheader"><isapptext key="catalogs.productlist.header.clearall"></a></td>
												</tr>
											</table>
										</div>
									</th>
								</isif>
								<!--- Hint: Notice the different of CurrentSearchType and SearchType. While SearchType will declare 
										the search mask to display, the CurrentSearchType depends on the current result set. SearchType and CurrentSearchType can differ! --->
								<isif condition="#CurrentSearchType EQ 'Advanced'#">
									<th class="table_header e s" width="60"><isapptext key="catalogs.productlist.header.image"></th>
									<th class="table_header e s">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'name') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList_52-SortAdvanced'), Parameter('SortBy','name'), Parameter('SortDirection', 'ascending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.name"></a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList_52-SortAdvanced'), Parameter('SortBy','name'), Parameter('SortDirection', 'descending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.name"></a>						
										</isif>
									</th>
									<th class="table_header e s" nowrap="nowrap" width="10%">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'SKU') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList_52-SortAdvanced'), Parameter('SortBy','SKU'), Parameter('SortDirection', 'ascending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.id"></a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList_52-SortAdvanced'), Parameter('SortBy','SKU'), Parameter('SortDirection', 'descending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.id"></a>						
										</isif>
									</th>
									<th class="table_header e s" nowrap="nowrap" width="10%">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'SupplierName') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList_52-SortAdvanced'), Parameter('SortBy','SupplierName'), Parameter('SortDirection', 'ascending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.supplier"></a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList_52-SortAdvanced'), Parameter('SortBy','SupplierName'), Parameter('SortDirection', 'descending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.supplier"></a>						
										</isif>	
									</th>
									<th class="table_header e s right" nowrap="nowrap"  width="10%">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'value') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList_52-SortAdvanced'), Parameter('SortBy','value'), Parameter('SortDirection', 'ascending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.listprice">(<isprint value = "#CurrentSession:Currency:CurrencyName#">)</a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList_52-SortAdvanced'), Parameter('SortBy','value'), Parameter('SortDirection', 'descending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.listprice">(<isprint value = "#CurrentSession:Currency:CurrencyName#">)</a>						
										</isif>
									</th>
									<th class="table_header e s" nowrap="nowrap" width="10%"><isapptext key="catalogs.productlist.header.type"></th>
									<isif condition="#ProductApprovalEnabled EQ 'ON'#">
										<th class="table_header e s left" nowrap="nowrap" width="10%"><istext key="ProductList_52.ApprovalStatus.table_header"></th>
									</isif>
									<th class="table_header e s left" width="5%"><isapptext key="catalogs.productlist.header.status"></th>
									<th class="table_header e s left" width="5%"><isapptext key="catalogs.productlist.header.actions"></th>
								<iselseif condition="#CurrentSearchType EQ 'Classification'#">
									<th class="table_header e s" width="60"><isapptext key="catalogs.productlist.header.image"></th>
									<th class="table_header e s">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'name') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList_52-SortClassification'), Parameter('SortBy','name'), Parameter('SortDirection', 'ascending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.name"></a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList_52-SortClassification'), Parameter('SortBy','name'), Parameter('SortDirection', 'descending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.name"></a>						
										</isif>
									</th>
									<th class="table_header e s" nowrap="nowrap" width="10%">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'SKU') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList_52-SortClassification'), Parameter('SortBy','SKU'), Parameter('SortDirection', 'ascending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.id"></a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList_52-SortClassification'), Parameter('SortBy','SKU'), Parameter('SortDirection', 'descending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.id"></a>						
										</isif>
									</th>
									<th class="table_header e s" nowrap="nowrap" width="10%">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'SupplierName') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList_52-SortClassification'), Parameter('SortBy','SupplierName'), Parameter('SortDirection', 'ascending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.supplier"></a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList_52-SortClassification'), Parameter('SortBy','SupplierName'), Parameter('SortDirection', 'descending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.supplier"></a>						
										</isif>	
									</th>
									<th class="table_header e s right" nowrap="nowrap"  width="10%">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'value') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList_52-SortClassification'), Parameter('SortBy','value'), Parameter('SortDirection', 'ascending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.listprice">(<isprint value = "#CurrentSession:Currency:CurrencyName#">)</a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList_52-SortClassification'), Parameter('SortBy','value'), Parameter('SortDirection', 'descending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.listprice">(<isprint value = "#CurrentSession:Currency:CurrencyName#">)</a>						
										</isif>
									</th>
									<th class="table_header e s" nowrap="nowrap" width="10%"><isapptext key="catalogs.productlist.header.type"></th>
									<th class="table_header e s left" width="5%"><isapptext key="catalogs.productlist.header.status"></th>
									<th class="table_header e s left" width="5%"><isapptext key="catalogs.productlist.header.actions"></th>
								<iselse>
									<th class="table_header e s" width="60"><isapptext key="catalogs.productlist.header.image"></th>
									<th class="table_header e s">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'name') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList_52-Sort'), Parameter('SortBy','name'), Parameter('SortDirection', 'ascending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.name"></a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList_52-Sort'), Parameter('SortBy','name'), Parameter('SortDirection', 'descending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.name"></a>						
										</isif>
									</th>
									<th class="table_header e s" nowrap="nowrap" width="10%">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'sku') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList_52-Sort'), Parameter('SortBy','sku'), Parameter('SortDirection', 'ascending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.id"></a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList_52-Sort'), Parameter('SortBy','sku'), Parameter('SortDirection', 'descending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.id"></a>						
										</isif>
									</th>
									<th class="table_header e s" nowrap="nowrap" width="10%">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'SupplierName') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList_52-Sort'), Parameter('SortBy','SupplierName'), Parameter('SortDirection', 'ascending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.supplier"></a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList_52-Sort'), Parameter('SortBy','SupplierName'), Parameter('SortDirection', 'descending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.supplier"></a>						
										</isif>
									</th>
									<th class="table_header e s right" nowrap="nowrap"  width="10%">
										<isif condition="#(isDefined(SortBy)) AND (SortBy EQ 'value') AND (SortDirection EQ 'descending')#">
											<a class="tableheader" href="#URL(Action('ViewProductList_52-Sort'), Parameter('SortBy','value'), Parameter('SortDirection', 'ascending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.listprice">(<isprint value = "#CurrentSession:Currency:CurrencyName#">)</a>
										<iselse>
											<a class="tableheader" href="#URL(Action('ViewProductList_52-Sort'), Parameter('SortBy','value'), Parameter('SortDirection', 'descending'), Parameter('SearchType',SearchType))#" ><isapptext key="catalogs.productlist.header.listprice">(<isprint value = "#CurrentSession:Currency:CurrencyName#">)</a>
										</isif>
									</th>
									<th class="table_header e s" nowrap="nowrap" width="10%"><isapptext key="catalogs.productlist.header.type"></th>
									<isif condition="#ProductApprovalEnabled EQ 'ON'#">
										<th class="table_header e s left" nowrap="nowrap" width="10%"><istext key="ProductList_52.ApprovalStatus.table_header"></th>
									</isif>
									<th class="table_header e s left" width="5%"><isapptext key="catalogs.productlist.header.status"></th>
									<th class="table_header e s left" width="5%"><isapptext key="catalogs.productlist.header.actions"></th>
								</isif>
							</tr>
						</isif>
					</thead>
					<tbody>
						<isif condition="#hasLoopElements(Products)#">
							<isloop iterator="Products" alias="Product">
								<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_PRODUCTS) AND isDefined(ProductLockActivated) AND (ProductLockActivated EQ 'true')#">
 									<ispipeline pipeline="ProcessProductLock_52-Lookup" alias="ProductLockInfoDictionary" params="#ParamMap(ParamEntry('ProductID',Product:UUID),ParamEntry('User',CurrentUser),ParamEntry('CurrentProductRepository',CurrentProductRepository),ParamEntry('CurrentChannel',CurrentChannel))#"/>
 								</isif>
 								<isif condition="#isDefined(ProductLockInfoDictionary:ProductLockedForOther)#">
									<isset name="ProductEditingEnabled" value="false" scope="request"/>			
								<iselse>
									<isset name="ProductEditingEnabled" value="true" scope="request"/>										
								</isif>
								
								<tr class="products_list_row">
									<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_PRODUCTS)#">
										<td class="e s center top">
											<isif condition="#(Product:UUID EQ Clipboard:ObjectUUID(Product:UUID)) AND NOT (isDefined(GlobalProductLockInfoDictionary:AllProductsLocked) OR isDefined(ProductLockInfoDictionary:ProductLockedForOther))#">
												<input type="checkbox" name="SelectedProductUUID" value="#StringToHtml(Product:UUID)#" checked="checked" <isif condition="#ProductEditingEnabled EQ 'false'#">disabled="disabled"</isif>/>
											<iselse>
												<input type="checkbox" name="SelectedProductUUID" value="#StringToHtml(Product:UUID)#" <isif condition="#ProductEditingEnabled EQ 'false'#">disabled="disabled"</isif>/>
											</isif>
											<input type="hidden" name="ProductUUID" value="#StringToHtml(Product:UUID)#"/>
										</td>
									</isif>
									<td class="e s center top">	
										<ISCreateMap mapname="ProductThumbnailParams" 
											key0="Product" value0="#Product#" 
											key1="OrganizationDomain" value1="#OrganizationDomain#"
											key2="ImageTypeBORepository" value2="#ImageTypeBORepository#"
											key3="ImageViewBORepository" value3="#ImageViewBORepository#">
										<ispipeline pipeline="ProcessProductDetails-GetProductThumbnail" params="#ProductThumbnailParams#" alias="ProductThumbnailDictionary"/>
										<isset name="ProductImageBO" value="#ProductThumbnailDictionary:ProductImageBO#" scope="request"/>
										<isset scope="request" name="ProductImageEffectiveUrl" value="#ProductImageBO:EffectiveUrl#">
										
										<div class="product_list_image">
											<isif condition="#isDefined(ProductImageEffectiveUrl) AND (ProductImageEffectiveUrl NE '')#">
												<img src="#ProductImageEffectiveUrl#" alt=""/>
											<iselse>
												<img src="#WebRoot()#/images/no_image_available.gif" alt=""/>
											</isif>
										</div>
									</td>
									<td class="table_detail top e s" nowrap="nowrap"><a href="#URL(Action('ViewProduct_52-Edit'), Parameter('ChannelID', ChannelID), Parameter('ProductID', Product:UUID))#" class="table_detail_link"><isif condition="#isDefined(SearchLocale)#"><isprint value="#Product:Name(SearchLocale)#"><iselse><isprint value="#Product:Name#"></isif></a>&nbsp;</td>
									<td class="table_detail top e s" nowrap="nowrap"><a href="#URL(Action('ViewProduct_52-Edit'), Parameter('ChannelID', ChannelID), Parameter('ProductID', Product:UUID))#" class="table_detail_link"><isprint value="#Product:SKU#"></a></td>
									<td class="table_detail top e s left" nowrap="nowrap"><isprint value="#Product:SupplierName#">&nbsp;</td>
									<td class="table_detail top e s right" nowrap="nowrap"><isProductPrice Product="#Product#">&nbsp;</td>
									<td class="table_detail top e s left" nowrap="nowrap"><isinclude template="inc/ProductTypeCode">&nbsp;</td>
									<isif condition="#ProductApprovalEnabled EQ 'ON'#">
										<!---  Approval Status --->
										<isset name="AprrovedProduct" value="#ProductBORepository:ProductBOByID(Product:UUID)#" scope="request"/>
										<isset name="ProductApprovalBO" value="#ProductApprovalBORepository:ProductApprovalBO(AprrovedProduct)#" scope="request"/>
										<td class="table_detail e s top" nowrap="nowrap">
											<isif condition="#ProductApprovalBO:ApprovalStatus:Code EQ '1'#">
												<isprint value="#localizeText('ProductList_52.review.label')#">&nbsp;
											<iselseif condition="#ProductApprovalBO:ApprovalStatus:Code EQ '3'#">											
												<isprint value="#localizeText('ProductList_52.approved.label')#">&nbsp;
											<iselse>
												<isprint value="#localizeText('ProductList_52.editing.label')#">&nbsp;
											</isif>
										</td>
										<!---  Status --->
									</isif>
									<td class="table_detail_status e s top" nowrap="nowrap">
										<table border="0" cellspacing="2" cellpadding="0" width="100%">
											<tr>
												<td width="25%" class="table_detail_status">
													<isif condition="#Product:isAvailable#">
														<img src="#WebRoot()#/images/status_instock.gif" alt="#localizeText('ProductList_52.InStock.alt')#" title="#localizeText('ProductList_52.InStock.title')#" border="0"/>
													<iselse>
														&nbsp;
													</isif>
												</td>
												<td width="25%" class="table_detail_status">
													<isif condition="#Product:hasCatalogCategories#">
														<img src="#WebRoot()#/images/status_explicitly_bound.gif" alt="#localizeText('ProductList_52.Categorized.alt')#" title="#localizeText('ProductList_52.Categorized.title')#" border="0"/>
													<iselse>
														&nbsp;
													</isif>
												</td>
												<td width="25%" class="table_detail_status">
													<isif condition="#Product:getOffersCount>0#">
														<img src="#WebRoot()#/images/status_offers.gif" alt="#localizeText('ProductList_52.Offered.alt')#" title="#localizeText('ProductList_52.Offered.title')#" border="0"/>
													<iselse>
														&nbsp;
													</isif>
												</td>
												<td width="25%" class="table_detail_status">
													<isif condition="#Product:DerivedProduct#">
														<isif condition="#Product:DerivedProductChanged#">
															<img src="#WebRoot()#/images/status_shared_product_from_m.gif" alt="#localizeText('ProductList_52.SharedFromAnotherAndEdited.alt')#" title="#localizeText('ProductList_52.SharedFromAnotherAndEdited.title')#" border="0"/>
														<iselse>
															<img src="#WebRoot()#/images/status_shared_product_from.gif" alt="#localizeText('ProductList_52.SharedFromAnother.alt')#" title="#localizeText('ProductList_52.SharedFromAnother.title')#" border="0"/>
														</isif>
													<iselse>
														&nbsp;
													</isif>
												</td>
												<td width="25%" class="table_detail_status">
													<isif condition="#Product:Completeness EQ '1'#">
														<img class="product_incomplete" border="0" src="#WebRoot()#/images/offline.png" title="#localizeText('sld_enterprise_app.ProductIncomplete.title')#" data-product-id="#Product:UUID#">
															<div class="problems_tooltip" style="display:none">
																<img src="#WebRoot()#/images/ajax-loader-small.gif" alt="#localizeText('sld_enterprise_app.ProductCompletenessProblems.Loading.alt').'...'#" width="16" height="16" />							
															</div>				
														</img>
													<iselseif condition="#Product:Completeness EQ '2'#"/>
														<img border="0" src="#WebRoot()#/images/online.png" title="#localizeText('sld_enterprise_app.ProductComplete.title')#"/>
													<iselse>
														<img border="0" src="#WebRoot()#/images/inactive.png" title="#localizeText('sld_enterprise_app.ProductCompletenessStatusUndefined.title')#"/>
													</isif>
												</td>
											</tr>
										</table>
									</td>
									<!---  Actions --->
									<td class="table_detail_status e s top	" nowrap="nowrap">
										<table border="0" cellspacing="2" cellpadding="0" width="100%">
											<tr>
												<td width="33%" class="table_detail_status">
													<isif condition="#Product:isOnline#">
														<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_PRODUCTS) AND (ProductEditingEnabled EQ 'true')#">
															<button class="action_button" name="setProductOffline" value="<isprint value="#Product:UUID#">" title="#localizeText('ProductList_52.SwitchOffline.button')#">
																<img src="#WebRoot()#/images/onlineGreenDot.gif" alt="#localizeText('ProductList_52.SwitchOffline.alt')#" title="#localizeText('ProductList_52.SwitchOffline.title')#" border="0"/>
															</button>
														<iselse>
															<img src="#WebRoot()#/images/onlineGreenDot.gif" alt="#localizeText('ProductList_52.SwitchOffline.alt')#" title="#localizeText('ProductList_52.SwitchOffline.title')#" border="0"/>
														</isif>
													<iselse>
														<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_PRODUCTS) AND (ProductEditingEnabled EQ 'true')#">
															<button class="action_button" name="setProductOnline" value="<isprint value="#Product:UUID#">" title="#localizeText('ProductList_52.SwitchOnline.button')#">
																<img src="#WebRoot()#/images/offlineRedDot.gif" alt="#localizeText('ProductList_52.SwitchOnline.alt')#" title="#localizeText('ProductList_52.SwitchOnline.title')#" border="0"/>
															</button>
														<iselse>
															<img src="#WebRoot()#/images/offlineRedDot.gif" alt="#localizeText('ProductList_52.SwitchOnline.alt')#" title="#localizeText('ProductList_52.SwitchOnline.title')#" border="0"/>
														</isif>
													</isif>
												</td>
												<td width="33%" class="table_detail_status">
												<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_MANAGE_PRODUCTS) AND (ProductLockActivated EQ 'true')#">
														<isif condition="#isDefined(ProductLockInfoDictionary:ProductLockedForMe)#">
															<a href="#URL(Action('ViewProductList_52-UnlockProduct'),Parameter('ProductID',Product:UUID))#"><img src="#WebRoot()#/images/lockedForMe.gif" alt="#localizeText('ProductList_52.LockedForMe.alt')#" title="#localizeText('ProductList_52.LockedForMe.title')#" border="0"/></a>
														<iselseif condition="#isDefined(GlobalProductLockInfoDictionary:AllProductsLocked) OR isDefined(ProductLockInfoDictionary:ProductLockedForOther)#">
															<img src="#WebRoot()#/images/lockedForOther.gif" alt="#localizeText('ProductList_52.LockedByOther.alt')#" title="#localizeText('ProductList_52.LockedByOther.title')#" border="0"/>
														<iselse>
															<a href="#URL(Action('ViewProductList_52-LockProduct'),Parameter('ProductID',Product:UUID))#"><img src="#WebRoot()#/images/unlocked.gif" alt="#localizeText('ProductList_52.Unlocked.alt')#" title="#localizeText('ProductList_52.Unlocked.title')#" border="0"/></a>
														</isif>
													</isif>
												</td>
												<isif condition="#isDefined(CurrentChannelPermissionMap:SLD_VIEW_STOREFRONT) and (isDefined(ApplicationBO:getExtension("(Class)com.intershop.sellside.enterprise.capi.preview.ApplicationBOPreviewExtension"):PreviewTargetApplicationBO(CurrentUser)))#">
													<td width="33%" class="table_detail_status">
														<!--- Product Preview link --->
														<ISPreviewIcon 
															imageTitle="#localizeText('ProductList_52.OpenASitePreviewDirectlyOnTheProductDetailPageForT.imageTitle')#"
															imageAlt="#localizeText('ProductList_52.OpenASitePreviewDirectlyOnTheProductDetailPageForT.imageAlt')#"
															previewURL="#URL(Action('ViewProduct_52-PreviewProduct'), Parameter('SKU', Product:SKU))#" 
															contextPipeline="ViewProductList_52-Paging" 
															contextParameter0="ChannelID" contextValue0="#ChannelID#" 
															contextParameter1="ClassificationSearchEnabled" contextValue1="#ClassificationSearchEnabled#" >
														<!--- EO Product Preview link --->
													</td>
												</isif>
											</tr>
										</table>
									</td>
								</tr>
							</isloop>
						</isif>
					</tbody>
				</table>
			</td>
		</tr>
	</table>
	<isif condition="#hasLoopElements(Products)#">
		<table width="100%" border="0" cellspacing="0" cellpadding="0">
			<tr>
				<td><img src="#WebRoot()#/images/space.gif" width="1" height="6" alt="" border="0"/></td>
			</tr>
		</table>
		<!-- Start Page Cursor -->
		 <ISFlexPagingBar pageable="Products" variablepagesize="true" parametername="SearchType" parametervalue="#SearchType#" parametername1="IsSearchFired" parametervalue1="#IsSearchFired#" rowsperpage="#RowsPerPage#">
		<!-- End Page Cursor -->
	</isif>
</isform>
<!-- EO Main Content -->
<isset name="Placement" value="'w'" scope="request"/>
<isinclude template="product/validation/ProductCompletenessProblemsTooltipScript"/>
<!-- EO Working Area -->