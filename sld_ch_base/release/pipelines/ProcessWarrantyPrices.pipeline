<?xml version="1.0" encoding="UTF-8"?>
<!--Handles the prices for warranties.
@Group Warranties-->

<pipeline:Pipeline xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:pipeline="http://www.intershop.de/pipeline/2010"
    name="ProcessWarrantyPrices" overrideMode="Inherit" type="process">
<!--@Location 7,6-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode1" strict="true" name="AddFixedPrice"
      callMode="Private">
    <nodeSuccessors name="next" next="KeyMapper8"/>
<!--The business object of the warranty product.-->
    <parameters name="WarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"/>
<!--The UUID of the warranty product.-->
    <parameters name="ProductID" type="java.lang.String"/>
    <parameters name="ApplicationBO" type="com.intershop.component.application.capi.ApplicationBO"/>
<!--The currency of the price, e.g., EUR or USD.-->
    <parameters name="PriceCurrency" type="java.lang.String"/>
<!--The price value.-->
    <parameters name="PriceValue" type="com.intershop.beehive.foundation.quantity.Money"/>
    <parameters name="ProductDomainID" type="java.lang.String"/>
  </nodes>
<!--@Location 7,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper8">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="DecisionNode27"/>
    <parameterBindings name="InValue_1" objectPath="WarrantyBO:PriceConfiguration"/>
    <returnValueBindings name="OutValue_1" objectPath="PriceConfig"/>
  </nodes>
<!--@Location 7,8-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode27" conditionKey="PriceConfig:get(PriceCurrency)"
      operator="undef">
    <nodeSuccessors name="decision_yes" next="GetDomainByUUID1"/>
    <nodeSuccessors name="decision_no" next="KeyMapper12"/>
  </nodes>
<!--@Location 7,9-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetDomainByUUID1">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetDomainByUUID.xml"/>
    <nodeSuccessors name="next" next="GetProductByUUID1"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode21"/>
    <parameterBindings name="DomainUUID" objectPath="ProductDomainID"/>
  </nodes>
<!--@Location 7,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetProductByUUID1">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetProductByUUID.xml"/>
    <nodeSuccessors name="next" next="DecisionNode11"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode28"/>
    <parameterBindings name="ProductDomain" objectPath="Domain"/>
    <parameterBindings name="ProductUUID" objectPath="ProductID"/>
  </nodes>
<!--@Location 7,11-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode11" conditionKey="Product:DerivedProduct"
      operator="str_eq" conditionValue="true">
<!--@BendPoints 17,23-->
    <nodeSuccessors name="decision_yes" next="KeyMapper3"/>
    <nodeSuccessors name="decision_no" next="JoinNode20"/>
  </nodes>
<!--@Location 8,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper3">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="GetWarrantyBO1"/>
    <parameterBindings name="InValue_1" objectPath="ApplicationBO:Extension(&quot;Warranty&quot;):WarrantyBORepository(Product:BaseProduct)"/>
    <returnValueBindings name="OutValue_1" objectPath="BaseProductWarrantyBORepository"/>
  </nodes>
<!--@Location 8,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetWarrantyBO1">
    <pipelet href="enfinity:/bc_warranty/pipelets/GetWarrantyBO.xml"/>
    <nodeSuccessors name="next" next="KeyMapper15"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode26"/>
    <parameterBindings name="SKU" objectPath="Product:BaseProduct:SKU"/>
    <parameterBindings name="WarrantyBORepository" objectPath="BaseProductWarrantyBORepository"/>
    <returnValueBindings name="WarrantyBO" objectPath="BaseProductWarrantyBO"/>
  </nodes>
<!--@Location 8,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper15">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="DecisionNode4"/>
    <parameterBindings name="InValue_1" objectPath="WarrantyBO:PriceProvider:Name"/>
    <parameterBindings name="InValue_10" objectPath="BaseProductWarrantyBO:PriceProvider:Name"/>
    <returnValueBindings name="OutValue_1" objectPath="PriceProviderName"/>
    <returnValueBindings name="OutValue_10" objectPath="BaseProductPriceProviderName"/>
  </nodes>
<!--@Location 8,15-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode4" conditionKey="PriceProviderName"
      operator="str_eq" conditionItem="BaseProductPriceProviderName">
    <nodeSuccessors name="decision_yes" next="CallNode12"/>
    <nodeSuccessors name="decision_no" next="JoinNode20"/>
  </nodes>
<!--@Location 8,16-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode12">
    <nodeSuccessors name="next" next="JoinNode9"/>
    <startNode referencedName="This:FilterDerivedProductFixedPriceConfig"/>
  </nodes>
<!--@Location 7,16-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode9">
    <nodeSuccessors name="next" next="AddEntryToMap0"/>
  </nodes>
<!--@Location 7,17-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddEntryToMap0">
    <pipelet href="enfinity:/core/pipelets/AddEntryToMap.xml"/>
    <nodeSuccessors name="next" next="CallNode23"/>
    <parameterBindings name="InMap" objectPath="PriceConfig"/>
    <parameterBindings name="Key" objectPath="PriceCurrency"/>
    <parameterBindings name="Value" objectPath="PriceValue"/>
    <returnValueBindings name="OutMap" objectPath="PriceConfig"/>
  </nodes>
<!--@Location 7,18-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode23">
    <nodeSuccessors name="next" next="EndNode2"/>
    <nodeSuccessors name="error" next="JoinNode8"/>
    <parameterBindings name="WarrantyPriceConfiguration" objectPath="PriceConfig"/>
    <startNode referencedName="ProcessWarrantyPrices-StorePriceConfiguration"/>
  </nodes>
<!--@Location 7,19-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode2" name="" strict="true"/>
<!--@Location 9,18-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode8">
    <nodeSuccessors name="next" next="EndNode1"/>
  </nodes>
<!--@Location 9,19-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode1" name="error" strict="true">
<!--error message-->
    <returnValues name="ErrorAddFixedPrice" type="java.lang.String"/>
<!--form to add fixed prices-->
    <returnValues name="AddFixedPriceForm" type="com.intershop.beehive.core.capi.webform.Form"
        optional="true"/>
  </nodes>
<!--@Location 7,15-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode20">
    <nodeSuccessors name="next" next="JoinNode9"/>
  </nodes>
<!--@Location 9,13-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode26">
    <nodeSuccessors name="next" next="JoinNode8"/>
  </nodes>
<!--@Location 9,10-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode28">
    <nodeSuccessors name="next" next="JoinNode26"/>
  </nodes>
<!--@Location 9,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode21">
    <nodeSuccessors name="next" next="JoinNode28"/>
  </nodes>
<!--@Location 8,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper12">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
<!--@BendPoints 19,17-->
    <nodeSuccessors name="next" next="JoinNode21"/>
    <parameterBindings name="InValue_1" constant="AlreadyExists"/>
    <returnValueBindings name="OutValue_1" objectPath="ErrorAddFixedPrice"/>
  </nodes>
<!--@Location 12,22-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode13" strict="true" name="AddScaledPrice"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode8"/>
    <parameters name="WarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"/>
<!--the warranty business object of the base product-->
    <parameters name="BaseProductWarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"
        optional="true"/>
<!--The UUID of the warranty product.-->
    <parameters name="ProductID" type="java.lang.String"/>
    <parameters name="Threshold" type="com.intershop.beehive.foundation.quantity.Money"/>
    <parameters name="Price" type="com.intershop.beehive.foundation.quantity.Money"/>
    <parameters name="ProductDomainID" type="java.lang.String"/>
  </nodes>
<!--@Location 12,23-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode8">
    <nodeSuccessors name="next" next="KeyMapper2"/>
    <nodeSuccessors name="no_data" next="JoinNode12"/>
    <startNode referencedName="This:GetPriceConfig"/>
  </nodes>
<!--@Location 12,24-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper2">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="DecisionNode9"/>
    <parameterBindings name="InValue_1" objectPath="PriceConfig:get(Price:CurrencyMnemonic)"/>
    <returnValueBindings name="OutValue_1" objectPath="CurrencyScalesMap"/>
  </nodes>
<!--@Location 12,25-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode9" conditionKey="CurrencyScalesMap:get(Threshold)"
      operator="undef">
    <nodeSuccessors name="decision_yes" next="GetDomainByUUID2"/>
    <nodeSuccessors name="decision_no" next="KeyMapper1"/>
  </nodes>
<!--@Location 12,26-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetDomainByUUID2">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetDomainByUUID.xml"/>
    <nodeSuccessors name="next" next="GetProductByUUID2"/>
    <parameterBindings name="DomainUUID" objectPath="ProductDomainID"/>
  </nodes>
<!--@Location 12,27-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetProductByUUID2">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetProductByUUID.xml"/>
    <nodeSuccessors name="next" next="DecisionNode10"/>
    <parameterBindings name="ProductDomain" objectPath="Domain"/>
    <parameterBindings name="ProductUUID" objectPath="ProductID"/>
  </nodes>
<!--@Location 12,28-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode10" conditionKey="Product:DerivedProduct"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="KeyMapper29"/>
    <nodeSuccessors name="decision_no" next="JoinNode61"/>
  </nodes>
<!--@Location 13,28-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper29">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="DecisionNode32"/>
    <parameterBindings name="InValue_1" objectPath="WarrantyBO:PriceProvider:Name"/>
    <parameterBindings name="InValue_10" objectPath="BaseProductWarrantyBO:PriceProvider:Name"/>
    <returnValueBindings name="OutValue_1" objectPath="PriceProviderName"/>
    <returnValueBindings name="OutValue_10" objectPath="BaseProductPriceProviderName"/>
  </nodes>
<!--@Location 13,29-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode32" conditionKey="PriceProviderName"
      operator="str_eq" conditionItem="BaseProductPriceProviderName">
    <nodeSuccessors name="decision_yes" next="CallNode0"/>
    <nodeSuccessors name="decision_no" next="JoinNode61"/>
  </nodes>
<!--@Location 13,30-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode0">
    <nodeSuccessors name="next" next="JoinNode25"/>
    <startNode referencedName="This:FilterDerivedProductScaledPriceConfig"/>
  </nodes>
<!--@Location 12,30-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode25">
    <nodeSuccessors name="next" next="AddEntryToMap5"/>
  </nodes>
<!--@Location 12,31-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddEntryToMap5">
    <pipelet href="enfinity:/core/pipelets/AddEntryToMap.xml"/>
    <nodeSuccessors name="next" next="AddEntryToMap6"/>
    <parameterBindings name="InMap" objectPath="CurrencyScalesMap"/>
    <parameterBindings name="Key" objectPath="Threshold"/>
    <parameterBindings name="Value" objectPath="Price"/>
    <returnValueBindings name="OutMap" objectPath="CurrencyScalesMap"/>
  </nodes>
<!--@Location 12,32-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddEntryToMap6">
    <pipelet href="enfinity:/core/pipelets/AddEntryToMap.xml"/>
    <nodeSuccessors name="next" next="CallNode28"/>
    <parameterBindings name="InMap" objectPath="PriceConfig"/>
    <parameterBindings name="Key" objectPath="Price:CurrencyMnemonic"/>
    <parameterBindings name="Value" objectPath="CurrencyScalesMap"/>
    <returnValueBindings name="OutMap" objectPath="PriceConfig"/>
  </nodes>
<!--@Location 12,33-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode28">
    <nodeSuccessors name="next" next="EndNode23"/>
    <nodeSuccessors name="error" next="JoinNode13"/>
    <parameterBindings name="WarrantyPriceConfiguration" objectPath="PriceConfig"/>
    <startNode referencedName="ProcessWarrantyPrices-StorePriceConfiguration"/>
  </nodes>
<!--@Location 12,34-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode23" name="" strict="true"/>
<!--@Location 14,33-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode13">
    <nodeSuccessors name="next" next="EndNode24"/>
  </nodes>
<!--@Location 14,34-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode24" name="error" strict="true">
<!--error message-->
    <returnValues name="ErrorAddScaledPrice" type="java.lang.String"/>
<!--form to add scaled prices-->
    <returnValues name="AddScaledPriceForm" type="com.intershop.beehive.core.capi.webform.Form"
        optional="true"/>
  </nodes>
<!--@Location 12,29-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode61">
    <nodeSuccessors name="next" next="JoinNode25"/>
  </nodes>
<!--@Location 13,25-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper1">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="JoinNode12"/>
    <parameterBindings name="InValue_1" constant="AlreadyExists"/>
    <returnValueBindings name="OutValue_1" objectPath="ErrorAddScaledPrice"/>
  </nodes>
<!--@Location 14,25-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode12">
    <nodeSuccessors name="next" next="JoinNode13"/>
  </nodes>
<!--@Location 15,6-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode15" strict="true" name="CreateFixedPriceListForm"
      callMode="Private">
<!--@BendPoints 31,14-->
    <nodeSuccessors name="next" next="CreatePageableFromCollection3"/>
<!--a configuration map-->
    <parameters name="PriceConfig" type="java.util.Map"/>
  </nodes>
<!--@Location 15,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreatePageableFromCollection3">
    <configurationValues name="Pagesize" value="0"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CreatePageableFromCollection.xml"/>
<!--@BendPoints 31,16-->
    <nodeSuccessors name="next" next="CreateListForm5"/>
    <parameterBindings name="Collection" objectPath="PriceConfig:Values"/>
    <returnValueBindings name="Pageable" objectPath="PageableObject"/>
  </nodes>
<!--@Location 15,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateListForm5">
    <configurationValues name="FormName" value="FixedPriceWarranty"/>
    <configurationValues name="ObjectIDMethod" value="getCurrencyMnemonic"/>
    <configurationValues name="ResourceName" value="FixedPriceWarranty"/>
    <pipelet href="enfinity:/core/pipelets/CreateListForm.xml"/>
    <nodeSuccessors name="next" next="LoopNode7"/>
<!--@BendPoints 33,17-->
    <nodeSuccessors name="pipelet_error" next="JoinNode15"/>
    <returnValueBindings name="Form" objectPath="FixedPriceForm"/>
  </nodes>
<!--@Location 15,9-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode7" loop="FixedPriceForm:Instances">
    <nodeSuccessors name="next" next="JoinNode15"/>
    <entry key="SubForm">
<!--@BendPoints 31,20-->
      <nodeSuccessors name="loop_entry_next" next="SetFormParameterValue5"/>
    </entry>
  </nodes>
<!--@Location 15,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetFormParameterValue5">
    <pipelet href="enfinity:/core/pipelets/SetFormParameterValue.xml"/>
<!--@BendPoints 28,21 28,18-->
    <nodeSuccessors name="next" next="LoopNode7_Entry"/>
    <parameterBindings name="FormParameter" objectPath="SubForm:Price"/>
    <parameterBindings name="Value" objectPath="PriceConfig:get(SubForm:ID)"/>
  </nodes>
<!--@Location 16,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode15">
<!--@BendPoints 33,20-->
    <nodeSuccessors name="next" next="EndNode27"/>
  </nodes>
<!--@Location 16,10-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode27" name="" strict="true">
<!--percentage form-->
    <returnValues name="FixedPriceForm" type="com.intershop.beehive.core.capi.webform.Form"
        optional="true"/>
  </nodes>
<!--@Location 21,22-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode16" strict="true" name="CreateScaledPriceListForm"
      callMode="Private">
    <nodeSuccessors name="next" next="CreateScaledPriceListForms0"/>
<!--a map with price ranges-->
    <parameters name="PriceConfig" type="java.util.Map"/>
  </nodes>
<!--@Location 21,23-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateScaledPriceListForms0">
    <pipelet href="enfinity:/bc_warranty/pipelets/CreateScaledPriceListForms.xml"/>
    <nodeSuccessors name="next" next="EndNode29"/>
    <parameterBindings name="Domain" objectPath="CurrentDomain"/>
    <parameterBindings name="ScalePriceConfiguration" objectPath="PriceConfig"/>
    <returnValueBindings name="AboveThresholdPriceForm" objectPath="ScaledPriceMoreThanForm"/>
  </nodes>
<!--@Location 21,24-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode29" name="" strict="true">
<!--percentage form-->
    <returnValues name="ScaledPriceForm" type="com.intershop.beehive.core.capi.webform.Form"
        optional="true"/>
    <returnValues name="ScaledPriceMoreThanForm" type="com.intershop.beehive.core.capi.webform.Form"
        optional="true"/>
  </nodes>
<!--Removes the given currencies from 
the warranty's price configuration.
@Location 11,6-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode9" strict="true" name="DeleteFixedPrices"
      callMode="Private">
<!--@BendPoints 23,14-->
    <nodeSuccessors name="next" next="CallNode6"/>
<!--currencies to delete-->
    <parameters name="Currencies" type="java.util.Iterator"/>
    <parameters name="WarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"/>
<!--the warranty business object of the base product-->
    <parameters name="BaseProductWarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"
        optional="true"/>
<!--The ProductBO.-->
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
  </nodes>
<!--@Location 11,7-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode6">
<!--@BendPoints 23,16-->
    <nodeSuccessors name="next" next="DecisionNode25"/>
    <nodeSuccessors name="no_data" next="JoinNode34"/>
    <startNode referencedName="This:GetPriceConfig"/>
  </nodes>
<!--@Location 11,8-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode25" conditionKey="Currencies"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="DecisionNode29"/>
    <nodeSuccessors name="decision_no" next="JoinNode34"/>
  </nodes>
<!--@Location 11,9-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode29" conditionKey="Product:DerivedProduct"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="KeyMapper34"/>
    <nodeSuccessors name="decision_no" next="JoinNode81"/>
  </nodes>
<!--@Location 12,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper34">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="DecisionNode50"/>
    <parameterBindings name="InValue_1" objectPath="WarrantyBO:PriceProvider:Name"/>
    <parameterBindings name="InValue_10" objectPath="BaseProductWarrantyBO:PriceProvider:Name"/>
    <returnValueBindings name="OutValue_1" objectPath="PriceProviderName"/>
    <returnValueBindings name="OutValue_10" objectPath="BaseProductPriceProviderName"/>
  </nodes>
<!--@Location 12,11-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode50" conditionKey="PriceProviderName"
      operator="str_eq" conditionItem="BaseProductPriceProviderName">
    <nodeSuccessors name="decision_yes" next="CallNode13"/>
    <nodeSuccessors name="decision_no" next="JoinNode81"/>
  </nodes>
<!--@Location 12,12-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode13">
    <nodeSuccessors name="next" next="JoinNode51"/>
    <startNode referencedName="This:FilterDerivedProductFixedPriceConfig"/>
  </nodes>
<!--@Location 11,12-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode51">
    <nodeSuccessors name="next" next="LoopNode3"/>
  </nodes>
<!--@Location 11,13-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode3" loop="Currencies">
    <nodeSuccessors name="next" next="CallNode26"/>
    <entry key="Currency">
<!--@BendPoints 23,28-->
      <nodeSuccessors name="loop_entry_next" next="UpdateMapping1"/>
    </entry>
  </nodes>
<!--@Location 11,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateMapping1">
    <configurationValues name="Mode" value="Remove"/>
    <pipelet href="enfinity:/core/pipelets/UpdateMapping.xml"/>
<!--@BendPoints 21,29 21,27-->
    <nodeSuccessors name="next" next="LoopNode3_Entry"/>
    <parameterBindings name="InMap" objectPath="PriceConfig"/>
    <parameterBindings name="Key" objectPath="Currency"/>
    <returnValueBindings name="OutMap" objectPath="PriceConfig"/>
  </nodes>
<!--@Location 12,14-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode26">
    <nodeSuccessors name="next" next="EndNode16"/>
    <nodeSuccessors name="error" next="JoinNode6"/>
    <parameterBindings name="WarrantyPriceConfiguration" objectPath="PriceConfig"/>
    <startNode referencedName="ProcessWarrantyPrices-StorePriceConfiguration"/>
  </nodes>
<!--@Location 12,15-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode16" name="" strict="true"/>
<!--@Location 13,14-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode6">
<!--@BendPoints 27,30-->
    <nodeSuccessors name="next" next="EndNode17"/>
  </nodes>
<!--@Location 13,15-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode17" name="error" strict="true"/>
<!--@Location 11,11-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode81">
    <nodeSuccessors name="next" next="JoinNode51"/>
  </nodes>
<!--@Location 13,8-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode34">
    <nodeSuccessors name="next" next="JoinNode6"/>
  </nodes>
<!--@Location 17,22-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode14" strict="true" name="DeleteScaledPrices"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode9"/>
<!--scale IDs to delete-->
    <parameters name="ScaleIDs" type="java.util.Iterator"/>
    <parameters name="WarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"/>
<!--the warranty business object of the base product-->
    <parameters name="BaseProductWarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"
        optional="true"/>
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
  </nodes>
<!--@Location 17,23-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode9">
    <nodeSuccessors name="next" next="CallNode10"/>
    <nodeSuccessors name="no_data" next="JoinNode36"/>
    <startNode referencedName="This:GetPriceConfig"/>
  </nodes>
<!--@Location 17,24-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode10">
    <nodeSuccessors name="next" next="DecisionNode12"/>
    <startNode referencedName="This:CreateScaledPriceListForm"/>
  </nodes>
<!--@Location 17,25-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode12" conditionKey="ScaleIDs"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="DecisionNode13"/>
    <nodeSuccessors name="decision_no" next="JoinNode36"/>
  </nodes>
<!--@Location 17,26-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode13" conditionKey="Product:DerivedProduct"
      operator="str_eq" conditionValue="true">
<!--@BendPoints 37,53-->
    <nodeSuccessors name="decision_yes" next="KeyMapper31"/>
    <nodeSuccessors name="decision_no" next="JoinNode70"/>
  </nodes>
<!--@Location 18,27-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper31">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="DecisionNode42"/>
    <parameterBindings name="InValue_1" objectPath="WarrantyBO:PriceProvider:Name"/>
    <parameterBindings name="InValue_10" objectPath="BaseProductWarrantyBO:PriceProvider:Name"/>
    <returnValueBindings name="OutValue_1" objectPath="PriceProviderName"/>
    <returnValueBindings name="OutValue_10" objectPath="BaseProductPriceProviderName"/>
  </nodes>
<!--@Location 18,28-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode42" conditionKey="PriceProviderName"
      operator="str_eq" conditionItem="BaseProductPriceProviderName">
    <nodeSuccessors name="decision_yes" next="CallNode11"/>
    <nodeSuccessors name="decision_no" next="JoinNode70"/>
  </nodes>
<!--@Location 18,29-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode11">
    <nodeSuccessors name="next" next="JoinNode35"/>
    <startNode referencedName="This:FilterDerivedProductScaledPriceConfig"/>
  </nodes>
<!--@Location 17,29-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode35">
    <nodeSuccessors name="next" next="LoopNode6"/>
  </nodes>
<!--@Location 17,30-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode6" loop="ScaleIDs">
    <nodeSuccessors name="next" next="CallNode3"/>
    <entry key="ScaleID">
      <nodeSuccessors name="loop_entry_next" next="KeyMapper6"/>
    </entry>
  </nodes>
<!--@Location 17,31-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper6">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="DecisionNode6"/>
    <parameterBindings name="InValue_1" objectPath="ScaledPriceForm:get(ScaleID):Threshold:Value"/>
    <returnValueBindings name="OutValue_1" objectPath="Threshold"/>
  </nodes>
<!--@Location 17,32-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode6" conditionKey="PriceConfig:get(Threshold:CurrencyMnemonic):get(Threshold)">
    <nodeSuccessors name="decision_yes" next="UpdateMapping2"/>
<!--@BendPoints 36,73-->
    <nodeSuccessors name="decision_no" next="JoinNode7"/>
  </nodes>
<!--@Location 17,33-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateMapping2">
    <configurationValues name="Mode" value="Remove"/>
    <pipelet href="enfinity:/core/pipelets/UpdateMapping.xml"/>
    <nodeSuccessors name="next" next="UpdateMapping3"/>
    <parameterBindings name="InMap" objectPath="PriceConfig:get(Threshold:CurrencyMnemonic)"/>
    <parameterBindings name="Key" objectPath="Threshold"/>
    <returnValueBindings name="OutMap" objectPath="CurrencyRanges"/>
  </nodes>
<!--@Location 17,34-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateMapping3">
    <configurationValues name="Mode" value="Remove"/>
    <pipelet href="enfinity:/core/pipelets/UpdateMapping.xml"/>
    <nodeSuccessors name="next" next="AddEntryToMap9"/>
    <parameterBindings name="InMap" objectPath="PriceConfig"/>
    <parameterBindings name="Key" objectPath="Threshold:CurrencyMnemonic"/>
    <returnValueBindings name="OutMap" objectPath="PriceConfig"/>
  </nodes>
<!--@Location 17,35-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddEntryToMap9">
    <pipelet href="enfinity:/core/pipelets/AddEntryToMap.xml"/>
    <nodeSuccessors name="next" next="JoinNode7"/>
    <parameterBindings name="InMap" objectPath="PriceConfig"/>
    <parameterBindings name="Key" objectPath="Threshold:CurrencyMnemonic"/>
    <parameterBindings name="Value" objectPath="CurrencyRanges"/>
    <returnValueBindings name="OutMap" objectPath="PriceConfig"/>
  </nodes>
<!--@Location 17,36-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode7">
<!--@BendPoints 33,73 33,71-->
    <nodeSuccessors name="next" next="LoopNode6_Entry"/>
  </nodes>
<!--Prevents ConcurrentModificationException
@Location 19,30-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode3">
    <nodeSuccessors name="next" next="LoopNode16"/>
    <startNode referencedName="This:GetPriceConfig"/>
    <returnValueBindings name="PriceConfig" objectPath="CurrentPriceConfig"/>
  </nodes>
<!--@Location 19,31-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode16" loop="CurrentPriceConfig:KeySet">
    <nodeSuccessors name="next" next="CallNode27"/>
    <entry key="PriceCfgKey">
      <nodeSuccessors name="loop_entry_next" next="GetZeroMoney2"/>
    </entry>
  </nodes>
<!--@Location 19,32-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetZeroMoney2">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetZeroMoney.xml"/>
    <nodeSuccessors name="next" next="KeyMapper43"/>
    <parameterBindings name="CurrencyCode" objectPath="PriceCfgKey"/>
  </nodes>
<!--@Location 19,33-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper43">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="DecisionNode54"/>
    <parameterBindings name="InValue_1" objectPath="PriceConfig:get(PriceCfgKey)"/>
    <returnValueBindings name="OutValue_1" objectPath="Prices"/>
  </nodes>
<!--@Location 19,34-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode54" conditionKey="Prices:Size"
      operator="str_eq" conditionValue="1">
    <nodeSuccessors name="decision_yes" next="DecisionNode55"/>
    <nodeSuccessors name="decision_no" next="JoinNode87"/>
  </nodes>
<!--@Location 19,35-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode55" conditionKey="Prices:get(ZeroMoney)">
    <nodeSuccessors name="decision_yes" next="UpdateMapping5"/>
    <nodeSuccessors name="decision_no" next="JoinNode88"/>
  </nodes>
<!--@Location 19,36-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateMapping5">
    <configurationValues name="Mode" value="Remove"/>
    <pipelet href="enfinity:/core/pipelets/UpdateMapping.xml"/>
    <nodeSuccessors name="next" next="DecisionNode22"/>
    <parameterBindings name="InMap" objectPath="Prices"/>
    <parameterBindings name="Key" objectPath="ZeroMoney"/>
    <returnValueBindings name="OutMap" objectPath="Prices"/>
  </nodes>
<!--@Location 19,37-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode22" conditionKey="Prices"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="JoinNode59"/>
    <nodeSuccessors name="decision_no" next="UpdateMapping6"/>
  </nodes>
<!--@Location 18,37-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode59">
    <nodeSuccessors name="next" next="JoinNode88"/>
  </nodes>
<!--@Location 18,35-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode88">
    <nodeSuccessors name="next" next="JoinNode87"/>
  </nodes>
<!--@Location 18,34-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode87">
<!--@BendPoints 37,69-->
    <nodeSuccessors name="next" next="LoopNode16_Entry"/>
  </nodes>
<!--@Location 19,38-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateMapping6">
    <configurationValues name="Mode" value="Remove"/>
    <pipelet href="enfinity:/core/pipelets/UpdateMapping.xml"/>
<!--@BendPoints 37,77-->
    <nodeSuccessors name="next" next="JoinNode59"/>
    <parameterBindings name="InMap" objectPath="PriceConfig"/>
    <parameterBindings name="Key" objectPath="PriceCfgKey"/>
    <returnValueBindings name="OutMap" objectPath="PriceConfig"/>
  </nodes>
<!--@Location 20,37-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode27">
    <nodeSuccessors name="next" next="EndNode26"/>
    <nodeSuccessors name="error" next="JoinNode14"/>
    <parameterBindings name="WarrantyPriceConfiguration" objectPath="PriceConfig"/>
    <startNode referencedName="ProcessWarrantyPrices-StorePriceConfiguration"/>
  </nodes>
<!--@Location 20,38-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode26" name="" strict="true"/>
<!--@Location 21,37-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode14">
    <nodeSuccessors name="next" next="EndNode25"/>
  </nodes>
<!--@Location 21,38-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode25" name="error" strict="true"/>
<!--@Location 17,28-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode70">
    <nodeSuccessors name="next" next="JoinNode35"/>
  </nodes>
<!--@Location 20,25-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode36">
    <nodeSuccessors name="next" next="JoinNode14"/>
  </nodes>
<!--@Location 26,6-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode18" strict="true" visibility="Private"
      name="FilterDerivedProductFixedPriceConfig" callMode="Private">
    <nodeSuccessors name="next" next="DecisionNode58"/>
    <parameters name="PriceConfig" type="java.util.Map"/>
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
<!--the warranty business object of the base product-->
    <parameters name="BaseProductWarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"
        optional="true"/>
    <parameters name="WarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"
        optional="true"/>
  </nodes>
<!--@Location 26,7-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode58" conditionKey="BaseProductWarrantyBO">
    <nodeSuccessors name="decision_yes" next="KeyMapper24"/>
    <nodeSuccessors name="decision_no" next="JoinNode49"/>
  </nodes>
<!--@Location 26,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper24">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="LoopNode1"/>
    <parameterBindings name="InValue_1" objectPath="BaseProductWarrantyBO:PriceConfiguration"/>
    <returnValueBindings name="OutValue_1" objectPath="BaseProductPriceConfig"/>
  </nodes>
<!--@Location 26,9-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode1" loop="PriceConfig:KeySet">
<!--@BendPoints 54,19-->
    <nodeSuccessors name="next" next="DecisionNode28"/>
    <entry key="PriceCfgKey">
      <nodeSuccessors name="loop_entry_next" next="ContainsElement6"/>
    </entry>
  </nodes>
<!--@Location 26,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ContainsElement6">
    <pipelet href="enfinity:/core/pipelets/ContainsElement.xml"/>
    <nodeSuccessors name="next" next="DecisionNode30"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode52"/>
    <parameterBindings name="Collection" objectPath="BaseProductPriceConfig:KeySet"/>
    <parameterBindings name="Element" objectPath="PriceCfgKey"/>
  </nodes>
<!--@Location 26,11-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode30" conditionKey="BaseProductPriceConfig:get(PriceCfgKey):Value"
      operator="eq" conditionItem="PriceConfig:get(PriceCfgKey):Value">
    <nodeSuccessors name="decision_yes" next="CallNode17"/>
    <nodeSuccessors name="decision_no" next="JoinNode53"/>
  </nodes>
<!--@Location 26,12-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode17">
    <nodeSuccessors name="next" next="DecisionNode35"/>
    <parameterBindings name="CurrencyCode" objectPath="PriceCfgKey"/>
    <parameterBindings name="PriceValue" objectPath="PriceConfig:get(PriceCfgKey)"/>
    <startNode referencedName="This:IsDerivedProductWarrantyFixedPrice"/>
    <returnValueBindings name="BaseProductPriceValue" nullBinding="true"/>
  </nodes>
<!--@Location 26,13-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode35" conditionKey="IsDerivedProductWarrantyFixedPrice"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="AddObjectToCollection2"/>
    <nodeSuccessors name="decision_no" next="JoinNode60"/>
  </nodes>
<!--@Location 26,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddObjectToCollection2">
    <pipelet href="enfinity:/core/pipelets/AddObjectToCollection.xml"/>
    <nodeSuccessors name="next" next="JoinNode48"/>
    <parameterBindings name="InCollection" objectPath="KeysToRemove"/>
    <parameterBindings name="InObject" objectPath="PriceCfgKey"/>
    <returnValueBindings name="OutCollection" objectPath="KeysToRemove"/>
  </nodes>
<!--@Location 25,14-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode48">
    <nodeSuccessors name="next" next="JoinNode60"/>
  </nodes>
<!--@Location 25,13-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode60">
    <nodeSuccessors name="next" next="JoinNode53"/>
  </nodes>
<!--@Location 25,11-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode53">
    <nodeSuccessors name="next" next="JoinNode52"/>
  </nodes>
<!--@Location 25,10-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode52">
<!--@BendPoints 51,19-->
    <nodeSuccessors name="next" next="LoopNode1_Entry"/>
  </nodes>
<!--@Location 26,15-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode28" conditionKey="KeysToRemove">
    <nodeSuccessors name="decision_yes" next="LoopNode4"/>
    <nodeSuccessors name="decision_no" next="JoinNode49"/>
  </nodes>
<!--@Location 26,16-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode4" loop="KeysToRemove">
<!--@BendPoints 54,33-->
    <nodeSuccessors name="next" next="EndNode31"/>
    <entry key="KeyToRemove">
      <nodeSuccessors name="loop_entry_next" next="UpdateMapping0"/>
    </entry>
  </nodes>
<!--@Location 26,17-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateMapping0">
    <configurationValues name="Mode" value="Remove"/>
    <pipelet href="enfinity:/core/pipelets/UpdateMapping.xml"/>
<!--@BendPoints 52,35 52,33-->
    <nodeSuccessors name="next" next="LoopNode4_Entry"/>
    <parameterBindings name="InMap" objectPath="PriceConfig"/>
    <parameterBindings name="Key" objectPath="KeyToRemove"/>
    <returnValueBindings name="OutMap" objectPath="PriceConfig"/>
  </nodes>
<!--@Location 26,19-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode31" strict="true">
    <returnValues name="PriceConfig" type="java.util.Map"/>
  </nodes>
<!--@Location 27,15-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode49">
<!--@BendPoints 55,38-->
    <nodeSuccessors name="next" next="EndNode31"/>
  </nodes>
<!--@Location 30,22-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode0" strict="true" visibility="Private"
      name="FilterDerivedProductScaledPriceConfig" callMode="Private">
    <nodeSuccessors name="next" next="KeyMapper19"/>
    <parameters name="PriceConfig" type="java.util.Map"/>
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
<!--the warranty business object of the base product-->
    <parameters name="BaseProductWarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"/>
    <parameters name="WarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"/>
  </nodes>
<!--@Location 30,23-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper19">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="LoopNode11"/>
    <parameterBindings name="InValue_1" objectPath="BaseProductWarrantyBO:PriceConfiguration"/>
    <returnValueBindings name="OutValue_1" objectPath="BaseProductPriceConfig"/>
  </nodes>
<!--@Location 30,24-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode11" loop="PriceConfig:KeySet">
    <nodeSuccessors name="next" next="JoinNode1"/>
    <entry key="PriceCfgKey">
      <nodeSuccessors name="loop_entry_next" next="KeyMapper22"/>
    </entry>
  </nodes>
<!--@Location 30,25-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper22">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="LoopNode9"/>
    <parameterBindings name="InValue_1" objectPath="PriceConfig:get(PriceCfgKey)"/>
    <parameterBindings name="InValue_10" objectPath="BaseProductPriceConfig:get(PriceCfgKey)"/>
    <returnValueBindings name="OutValue_1" objectPath="PriceConfigMap"/>
    <returnValueBindings name="OutValue_10" objectPath="BaseProductPriceConfigMap"/>
  </nodes>
<!--@Location 30,26-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode9" loop="PriceConfigMap:KeySet">
<!--@BendPoints 63,53 63,65-->
    <nodeSuccessors name="next" next="DecisionNode18"/>
    <entry key="Threshold">
      <nodeSuccessors name="loop_entry_next" next="ContainsElement5"/>
    </entry>
  </nodes>
<!--@Location 30,27-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ContainsElement5">
    <pipelet href="enfinity:/core/pipelets/ContainsElement.xml"/>
    <nodeSuccessors name="next" next="DecisionNode17"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode42"/>
    <parameterBindings name="Collection" objectPath="BaseProductPriceConfigMap:KeySet"/>
    <parameterBindings name="Element" objectPath="Threshold"/>
  </nodes>
<!--@Location 30,28-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode17" conditionKey="BaseProductPriceConfigMap:get(Threshold):Value"
      operator="eq" conditionItem="PriceConfigMap:get(Threshold):Value">
    <nodeSuccessors name="decision_yes" next="CallNode19"/>
    <nodeSuccessors name="decision_no" next="JoinNode45"/>
  </nodes>
<!--@Location 30,29-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode19">
    <nodeSuccessors name="next" next="DecisionNode38"/>
    <parameterBindings name="CurrencyCode" objectPath="PriceCfgKey"/>
    <parameterBindings name="PriceValue" objectPath="PriceConfigMap:get(Threshold)"/>
    <parameterBindings name="ThresholdValue" objectPath="Threshold"/>
    <startNode referencedName="This:IsDerivedProductWarrantyScaledPrice"/>
  </nodes>
<!--@Location 30,30-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode38" conditionKey="IsDerivedProductWarrantyScaledPrice"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="AddObjectToCollection1"/>
    <nodeSuccessors name="decision_no" next="JoinNode65"/>
  </nodes>
<!--@Location 30,31-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddObjectToCollection1">
    <pipelet href="enfinity:/core/pipelets/AddObjectToCollection.xml"/>
<!--@BendPoints 59,63-->
    <nodeSuccessors name="next" next="JoinNode65"/>
    <parameterBindings name="InCollection" objectPath="KeysToRemove"/>
    <parameterBindings name="InObject" objectPath="Threshold"/>
    <returnValueBindings name="OutCollection" objectPath="KeysToRemove"/>
  </nodes>
<!--@Location 29,30-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode65">
    <nodeSuccessors name="next" next="JoinNode45"/>
  </nodes>
<!--@Location 29,28-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode45">
    <nodeSuccessors name="next" next="JoinNode42"/>
  </nodes>
<!--@Location 29,27-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode42">
<!--@BendPoints 59,53-->
    <nodeSuccessors name="next" next="LoopNode9_Entry"/>
  </nodes>
<!--@Location 30,32-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode18" conditionKey="KeysToRemove">
    <nodeSuccessors name="decision_yes" next="LoopNode10"/>
    <nodeSuccessors name="decision_no" next="JoinNode43"/>
  </nodes>
<!--@Location 30,33-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode10" loop="KeysToRemove">
<!--@BendPoints 62,67-->
    <nodeSuccessors name="next" next="RemoveDictionaryValue3"/>
    <entry key="KeyToRemove">
      <nodeSuccessors name="loop_entry_next" next="UpdateMapping4"/>
    </entry>
  </nodes>
<!--@Location 30,34-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateMapping4">
    <configurationValues name="Mode" value="Remove"/>
    <pipelet href="enfinity:/core/pipelets/UpdateMapping.xml"/>
<!--@BendPoints 60,69 60,67-->
    <nodeSuccessors name="next" next="LoopNode10_Entry"/>
    <parameterBindings name="InMap" objectPath="PriceConfigMap"/>
    <parameterBindings name="Key" objectPath="KeyToRemove"/>
    <returnValueBindings name="OutMap" objectPath="PriceConfigMap"/>
  </nodes>
<!--@Location 30,35-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveDictionaryValue3">
    <configurationValues name="Key" value="KeysToRemove"/>
    <pipelet href="enfinity:/core/pipelets/RemoveDictionaryValue.xml"/>
<!--@BendPoints 61,73 59,73 59,72-->
    <nodeSuccessors name="next" next="JoinNode43"/>
  </nodes>
<!--@Location 29,32-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode43">
<!--@BendPoints 57,65 57,50-->
    <nodeSuccessors name="next" next="LoopNode11_Entry"/>
  </nodes>
<!--@Location 32,24-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode1">
    <nodeSuccessors name="next" next="EndNode0"/>
  </nodes>
<!--@Location 32,37-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode0" strict="true">
    <returnValues name="PriceConfig" type="java.util.Map"/>
  </nodes>
<!--@Location 34,22-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode22" strict="true" visibility="Private"
      name="IsDerivedProductOverRangeScaledPrice" callMode="Private">
    <nodeSuccessors name="next" next="KeyMapper39"/>
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
    <parameters name="CurrencyCode" type="java.lang.String"/>
    <parameters name="PriceValue" type="com.intershop.beehive.foundation.quantity.Money"/>
<!--the warranty business object of the base product-->
    <parameters name="BaseProductWarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"/>
    <parameters name="WarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"/>
  </nodes>
<!--@Location 34,23-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper39">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="DecisionNode53"/>
    <parameterBindings name="InValue_1" objectPath="WarrantyBO:PriceProvider:Name"/>
    <parameterBindings name="InValue_10" objectPath="BaseProductWarrantyBO:PriceProvider:Name"/>
    <returnValueBindings name="OutValue_1" objectPath="PriceProviderName"/>
    <returnValueBindings name="OutValue_10" objectPath="BaseProductPriceProviderName"/>
  </nodes>
<!--@Location 34,24-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode53" conditionKey="PriceProviderName"
      operator="str_eq" conditionItem="BaseProductPriceProviderName">
    <nodeSuccessors name="decision_yes" next="KeyMapper25"/>
    <nodeSuccessors name="decision_no" next="JoinNode93"/>
  </nodes>
<!--@Location 34,25-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper25">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="GetZeroMoney1"/>
    <parameterBindings name="InValue_1" objectPath="BaseProductWarrantyBO:PriceConfiguration"/>
    <returnValueBindings name="OutValue_1" objectPath="BaseProductPriceConfig"/>
  </nodes>
<!--@Location 34,26-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetZeroMoney1">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetZeroMoney.xml"/>
    <nodeSuccessors name="next" next="DecisionNode57"/>
  </nodes>
<!--@Location 34,27-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode57" conditionKey="BaseProductPriceConfig:get(CurrencyCode)">
    <nodeSuccessors name="decision_yes" next="DecisionNode44"/>
    <nodeSuccessors name="decision_no" next="JoinNode93"/>
  </nodes>
<!--@Location 34,28-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode44" conditionKey="BaseProductPriceConfig:get(CurrencyCode):get(ZeroMoney):Value"
      operator="eq" conditionItem="PriceValue:Value">
    <nodeSuccessors name="decision_yes" next="CallNode20"/>
    <nodeSuccessors name="decision_no" next="JoinNode74"/>
  </nodes>
<!--@Location 34,29-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode20">
    <nodeSuccessors name="next" next="DecisionNode45"/>
    <parameterBindings name="ThresholdValue" objectPath="ZeroMoney"/>
    <startNode referencedName="This:IsDerivedProductWarrantyScaledPrice"/>
  </nodes>
<!--@Location 34,30-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode45" conditionKey="IsDerivedProductWarrantyScaledPrice"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="SetDictionaryValue4"/>
    <nodeSuccessors name="decision_no" next="JoinNode73"/>
  </nodes>
<!--@Location 34,31-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue4">
    <configurationValues name="Name" value="IsDerivedProductOverRangeScaledPrice"/>
    <configurationValues name="Value" value="true"/>
    <pipelet href="enfinity:/core/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode72"/>
  </nodes>
<!--@Location 34,32-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode72">
    <nodeSuccessors name="next" next="EndNode35"/>
  </nodes>
<!--@Location 34,33-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode35" strict="true">
    <returnValues name="IsDerivedProductOverRangeScaledPrice" type="java.lang.String"/>
  </nodes>
<!--@Location 36,30-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode73">
    <nodeSuccessors name="next" next="SetDictionaryValue5"/>
  </nodes>
<!--@Location 36,32-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue5">
    <configurationValues name="Name" value="IsDerivedProductOverRangeScaledPrice"/>
    <configurationValues name="Value" value="false"/>
    <pipelet href="enfinity:/core/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode72"/>
  </nodes>
<!--@Location 36,28-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode74">
    <nodeSuccessors name="next" next="JoinNode73"/>
  </nodes>
<!--@Location 36,27-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode93">
    <nodeSuccessors name="next" next="JoinNode74"/>
  </nodes>
<!--@Location 19,6-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode20" strict="true" name="IsDerivedProductWarrantyFixedPrice"
      callMode="Private">
    <nodeSuccessors name="next" next="KeyMapper38"/>
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
    <parameters name="CurrencyCode" type="java.lang.String"/>
    <parameters name="PriceValue" type="com.intershop.beehive.foundation.quantity.Money"
        optional="true"/>
<!--the warranty business object of the base product-->
    <parameters name="BaseProductWarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"
        optional="true"/>
    <parameters name="WarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"/>
  </nodes>
<!--@Location 19,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper38">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="DecisionNode_H3Zc4AfnEeegPtgNjPJuoQ"/>
    <parameterBindings name="InValue_1" objectPath="WarrantyBO:PriceProvider:Name"/>
    <parameterBindings name="InValue_10" objectPath="BaseProductWarrantyBO:PriceProvider:Name"/>
    <returnValueBindings name="OutValue_1" objectPath="PriceProviderName"/>
    <returnValueBindings name="OutValue_10" objectPath="BaseProductPriceProviderName"/>
  </nodes>
<!--@Location 19,8-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode_H3Zc4AfnEeegPtgNjPJuoQ"
      conditionKey="BaseProductPriceProviderName">
    <nodeSuccessors name="decision_yes" next="DecisionNode52"/>
<!--@BendPoints 45,17-->
    <nodeSuccessors name="decision_no" next="JoinNode_OOTUkAfnEeegPtgNjPJuoQ"/>
  </nodes>
<!--@Location 19,9-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode52" conditionKey="PriceProviderName"
      operator="str_eq" conditionItem="BaseProductPriceProviderName">
    <nodeSuccessors name="decision_yes" next="KeyMapper10"/>
    <nodeSuccessors name="decision_no" next="JoinNode_OOTUkAfnEeegPtgNjPJuoQ"/>
  </nodes>
<!--@Location 19,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper10">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="DecisionNode56"/>
    <parameterBindings name="InValue_1" objectPath="BaseProductWarrantyBO:PriceConfiguration:get(CurrencyCode)"/>
    <returnValueBindings name="OutValue_1" objectPath="BaseProductPriceValue"/>
  </nodes>
<!--@Location 19,11-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode56" conditionKey="BaseProductPriceValue">
    <nodeSuccessors name="decision_yes" next="DecisionNode21"/>
    <nodeSuccessors name="decision_no" next="JoinNode89"/>
  </nodes>
<!--@Location 19,12-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode21" conditionKey="BaseProductPriceValue:Value"
      operator="eq" conditionItem="PriceValue:Value">
    <nodeSuccessors name="decision_yes" next="GetPriceScaleTablesByProduct0"/>
    <nodeSuccessors name="decision_no" next="JoinNode30"/>
  </nodes>
<!--@Location 19,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetPriceScaleTablesByProduct0">
    <configurationValues name="Type" value="All"/>
    <pipelet href="enfinity:/bc_pricing/pipelets/GetPriceScaleTablesByProduct.xml"/>
    <nodeSuccessors name="next" next="LoopNode12"/>
  </nodes>
<!--@Location 19,14-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode12" loop="PriceScaleTables">
<!--@BendPoints 43,29-->
    <nodeSuccessors name="next" next="SetDictionaryValue2"/>
    <entry key="PriceScaleTable">
      <nodeSuccessors name="loop_entry_next" next="LoopNode8"/>
    </entry>
  </nodes>
<!--@Location 19,15-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode8" loop="PriceScaleTable:PriceScales">
<!--@BendPoints 41,31 41,34 36,34 36,29-->
    <nodeSuccessors name="next" next="LoopNode12_Entry"/>
    <entry key="PriceScale">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode20"/>
    </entry>
  </nodes>
<!--@Location 19,16-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode20" conditionKey="PriceScale:SingleBasePrice:Value"
      operator="eq" conditionItem="PriceValue:Value">
    <nodeSuccessors name="decision_yes" next="SetDictionaryValue3"/>
<!--@BendPoints 37,33 37,31-->
    <nodeSuccessors name="decision_no" next="LoopNode8_Entry"/>
  </nodes>
<!--@Location 19,17-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue3">
    <configurationValues name="Name" value="IsDerivedProductWarrantyFixedPrice"/>
    <configurationValues name="Value" value="false"/>
    <pipelet href="enfinity:/core/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode54"/>
  </nodes>
<!--@Location 19,18-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode54">
    <nodeSuccessors name="next" next="EndNode34"/>
  </nodes>
<!--@Location 19,19-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode34" strict="true">
    <returnValues name="IsDerivedProductWarrantyFixedPrice" type="java.lang.String"/>
    <returnValues name="BaseProductPriceValue" type="com.intershop.beehive.foundation.quantity.Money"
        optional="true"/>
  </nodes>
<!--@Location 21,18-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue2">
    <configurationValues name="Name" value="IsDerivedProductWarrantyFixedPrice"/>
    <configurationValues name="Value" value="true"/>
    <pipelet href="enfinity:/core/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode54"/>
  </nodes>
<!--@Location 22,12-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode30">
<!--@BendPoints 45,35-->
    <nodeSuccessors name="next" next="SetDictionaryValue3"/>
  </nodes>
<!--@Location 22,11-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode89">
    <nodeSuccessors name="next" next="JoinNode30"/>
  </nodes>
<!--@Location 22,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode_OOTUkAfnEeegPtgNjPJuoQ">
    <nodeSuccessors name="next" next="JoinNode89"/>
  </nodes>
<!--@Location 24,22-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode19" strict="true" name="IsDerivedProductWarrantyScaledPrice"
      callMode="Private">
    <nodeSuccessors name="next" next="KeyMapper0"/>
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
    <parameters name="CurrencyCode" type="java.lang.String"/>
    <parameters name="ThresholdValue" type="com.intershop.beehive.foundation.quantity.Money"/>
    <parameters name="PriceValue" type="com.intershop.beehive.foundation.quantity.Money"/>
    <parameters name="WarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"/>
<!--the warranty business object of the base product-->
    <parameters name="BaseProductWarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"
        optional="true"/>
  </nodes>
<!--@Location 24,23-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper0">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="DecisionNode_NheaQAW3EeegPtgNjPJuoQ"/>
    <parameterBindings name="InValue_1" objectPath="WarrantyBO:PriceProvider:Name"/>
    <parameterBindings name="InValue_10" objectPath="BaseProductWarrantyBO:PriceProvider:Name"/>
    <returnValueBindings name="OutValue_1" objectPath="PriceProviderName"/>
    <returnValueBindings name="OutValue_10" objectPath="BaseProductPriceProviderName"/>
  </nodes>
<!--@Location 24,24-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode_NheaQAW3EeegPtgNjPJuoQ"
      conditionKey="BaseProductPriceProviderName">
    <nodeSuccessors name="decision_yes" next="DecisionNode51"/>
<!--@BendPoints 55,49-->
    <nodeSuccessors name="decision_no" next="JoinNode_WprU4AW3EeegPtgNjPJuoQ"/>
  </nodes>
<!--@Location 24,25-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode51" conditionKey="PriceProviderName"
      operator="str_eq" conditionItem="BaseProductPriceProviderName">
    <nodeSuccessors name="decision_yes" next="GetZeroMoney0"/>
    <nodeSuccessors name="decision_no" next="JoinNode_WprU4AW3EeegPtgNjPJuoQ"/>
  </nodes>
<!--@Location 24,26-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetZeroMoney0">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetZeroMoney.xml"/>
    <nodeSuccessors name="next" next="KeyMapper14"/>
  </nodes>
<!--@Location 24,27-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper14">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="LoopNode15"/>
    <parameterBindings name="InValue_1" objectPath="BaseProductWarrantyBO:PriceConfiguration:get(CurrencyCode):get(ZeroMoney)"/>
    <returnValueBindings name="OutValue_1" objectPath="BaseProductMoreThanValue"/>
  </nodes>
<!--@Location 24,28-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode15" loop="BaseProductWarrantyBO:PriceConfiguration:get(CurrencyCode):KeySet">
    <nodeSuccessors name="next" next="JoinNode69"/>
    <entry key="WarrantyKey">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode41"/>
    </entry>
  </nodes>
<!--@Location 24,29-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode41" conditionKey="ThresholdValue:Value"
      operator="eq" conditionItem="WarrantyKey:Value">
    <nodeSuccessors name="decision_yes" next="KeyMapper18"/>
<!--@BendPoints 47,59 47,57-->
    <nodeSuccessors name="decision_no" next="LoopNode15_Entry"/>
  </nodes>
<!--@Location 24,30-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper18">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="DecisionNode39"/>
    <parameterBindings name="InValue_1" objectPath="BaseProductWarrantyBO:PriceConfiguration:get(CurrencyCode):get(ThresholdValue)"/>
    <returnValueBindings name="OutValue_1" objectPath="BaseProductPriceValue"/>
  </nodes>
<!--@Location 24,31-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode39" conditionKey="BaseProductWarrantyBO:PriceConfiguration:get(CurrencyCode):get(ThresholdValue):Value"
      operator="eq" conditionItem="PriceValue:Value">
    <nodeSuccessors name="decision_yes" next="GetPriceScaleTablesByProduct1"/>
    <nodeSuccessors name="decision_no" next="JoinNode67"/>
  </nodes>
<!--@Location 24,32-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetPriceScaleTablesByProduct1">
    <configurationValues name="Type" value="All"/>
    <pipelet href="enfinity:/bc_pricing/pipelets/GetPriceScaleTablesByProduct.xml"/>
    <nodeSuccessors name="next" next="LoopNode14"/>
  </nodes>
<!--@Location 24,33-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode14" loop="PriceScaleTables">
<!--@BendPoints 53,67-->
    <nodeSuccessors name="next" next="SetDictionaryValue0"/>
    <entry key="PriceScaleTable">
      <nodeSuccessors name="loop_entry_next" next="LoopNode13"/>
    </entry>
  </nodes>
<!--@Location 24,34-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode13" loop="PriceScaleTable:PriceScales">
<!--@BendPoints 51,69 51,74 46,74 46,67-->
    <nodeSuccessors name="next" next="LoopNode14_Entry"/>
    <entry key="PriceScale">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode40"/>
    </entry>
  </nodes>
<!--@Location 24,35-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode40" conditionKey="PriceScale:QuantityLevel:Value"
      operator="eq" conditionItem="ThresholdValue:Value">
    <nodeSuccessors name="decision_yes" next="DecisionNode43"/>
    <nodeSuccessors name="decision_no" next="JoinNode68"/>
  </nodes>
<!--@Location 24,36-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode43" conditionKey="PriceScale:SingleBasePrice:Value"
      operator="eq" conditionItem="PriceValue:Value">
    <nodeSuccessors name="decision_yes" next="SetDictionaryValue1"/>
<!--@BendPoints 47,73-->
    <nodeSuccessors name="decision_no" next="JoinNode68"/>
  </nodes>
<!--@Location 24,37-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue1">
    <configurationValues name="Name" value="IsDerivedProductWarrantyScaledPrice"/>
    <configurationValues name="Value" value="false"/>
    <pipelet href="enfinity:/core/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode66"/>
  </nodes>
<!--@Location 24,38-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode66">
    <nodeSuccessors name="next" next="EndNode32"/>
  </nodes>
<!--@Location 24,39-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode32" strict="true">
    <returnValues name="IsDerivedProductWarrantyScaledPrice" type="java.lang.String"/>
    <returnValues name="BaseProductPriceValue" type="com.intershop.beehive.foundation.quantity.Money"
        optional="true"/>
    <returnValues name="BaseProductMoreThanValue" type="com.intershop.beehive.foundation.quantity.Money"
        optional="true"/>
  </nodes>
<!--@Location 23,35-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode68">
<!--@BendPoints 47,69-->
    <nodeSuccessors name="next" next="LoopNode13_Entry"/>
  </nodes>
<!--@Location 26,38-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue0">
    <configurationValues name="Name" value="IsDerivedProductWarrantyScaledPrice"/>
    <configurationValues name="Value" value="true"/>
    <pipelet href="enfinity:/core/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode66"/>
  </nodes>
<!--@Location 27,31-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode67">
<!--@BendPoints 55,75-->
    <nodeSuccessors name="next" next="SetDictionaryValue1"/>
  </nodes>
<!--@Location 27,28-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode69">
    <nodeSuccessors name="next" next="JoinNode67"/>
  </nodes>
<!--@Location 27,25-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode_WprU4AW3EeegPtgNjPJuoQ">
    <nodeSuccessors name="next" next="JoinNode69"/>
  </nodes>
<!--@Location 3,56-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode6" strict="true" name="PrepareFixedPriceConfig"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode14"/>
<!--a product uuid-->
    <parameters name="ProductID" type="java.lang.String"/>
<!--the UUID of a product domain-->
    <parameters name="ProductDomainID" type="java.lang.String"/>
  </nodes>
<!--@Location 3,57-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode14">
    <nodeSuccessors name="next" next="CreateForm0"/>
    <startNode referencedName="ViewWarrantyPrices-Prefix"/>
  </nodes>
<!--@Location 3,58-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateForm0">
    <configurationValues name="FormName" value="FixedPriceWarranty"/>
    <configurationValues name="FormResource" value="FixedPriceWarranty"/>
    <pipelet href="enfinity:/core/pipelets/CreateForm.xml"/>
    <nodeSuccessors name="next" next="CallNode4"/>
    <returnValueBindings name="Form" objectPath="AddFixedPriceForm"/>
  </nodes>
<!--@Location 3,60-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode4">
<!--@BendPoints 7,122-->
    <nodeSuccessors name="next" next="DecisionNode2"/>
<!--@BendPoints 9,122-->
    <nodeSuccessors name="no_data" next="JoinNode16"/>
    <startNode referencedName="ProcessWarrantyPrices-GetPriceConfig"/>
  </nodes>
<!--@Location 3,61-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode2" conditionKey="PriceConfig:Values">
<!--@BendPoints 7,124-->
    <nodeSuccessors name="decision_yes" next="CallNode22"/>
    <nodeSuccessors name="decision_no" next="JoinNode16"/>
  </nodes>
<!--@Location 3,62-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode22">
<!--@BendPoints 7,126-->
    <nodeSuccessors name="next" next="EndNode13"/>
    <startNode referencedName="This:CreateFixedPriceListForm"/>
  </nodes>
<!--@Location 3,63-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode13" name="" strict="true">
<!--percentage form-->
    <returnValues name="FixedPriceForm" type="com.intershop.beehive.core.capi.webform.Form"
        optional="true"/>
<!--form to add a fixed-->
    <returnValues name="AddFixedPriceForm" type="com.intershop.beehive.core.capi.webform.Form"/>
    <returnValues name="BaseProductWarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"
        optional="true"/>
  </nodes>
<!--@Location 4,61-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode16">
    <nodeSuccessors name="next" next="EndNode8"/>
  </nodes>
<!--@Location 4,63-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode8" name="no_data" strict="true">
<!--a form instance-->
    <returnValues name="FixedPriceForm" type="com.intershop.beehive.core.capi.webform.Form"/>
<!--form to add a fixed price-->
    <returnValues name="AddFixedPriceForm" type="com.intershop.beehive.core.capi.webform.Form"/>
  </nodes>
<!--@Location 0,56-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode8" strict="true" name="PreparePercentageConfig"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode2"/>
<!--a product uuid-->
    <parameters name="ProductID" type="java.lang.String"/>
<!--the UUID of a product domain-->
    <parameters name="ProductDomainID" type="java.lang.String"/>
  </nodes>
<!--@Location 0,57-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode2">
    <nodeSuccessors name="next" next="CreateForm1"/>
    <startNode referencedName="ViewWarrantyPrices-Prefix"/>
  </nodes>
<!--@Location 0,58-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateForm1">
    <configurationValues name="FormName" value="PercentagePriceWarranty"/>
    <configurationValues name="FormResource" value="PercentagePriceWarranty"/>
    <pipelet href="enfinity:/core/pipelets/CreateForm.xml"/>
    <nodeSuccessors name="next" next="CallNode1"/>
    <returnValueBindings name="Form" objectPath="PercentageForm"/>
  </nodes>
<!--@Location 0,59-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode1">
    <nodeSuccessors name="next" next="DecisionNode1"/>
<!--@BendPoints 3,121-->
    <nodeSuccessors name="no_data" next="JoinNode17"/>
    <startNode referencedName="ProcessWarrantyPrices-GetPriceConfig"/>
  </nodes>
<!--@Location 0,61-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode1" conditionKey="PriceConfig:Percentage">
    <nodeSuccessors name="decision_yes" next="SetFormParameterValue0"/>
    <nodeSuccessors name="decision_no" next="JoinNode17"/>
  </nodes>
<!--@Location 0,62-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetFormParameterValue0">
    <pipelet href="enfinity:/core/pipelets/SetFormParameterValue.xml"/>
    <nodeSuccessors name="next" next="EndNode18"/>
    <parameterBindings name="FormParameter" objectPath="PercentageForm:Percentage"/>
    <parameterBindings name="Value" objectPath="WarrantyBO:PriceConfiguration:Percentage"/>
  </nodes>
<!--@Location 0,63-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode18" name="" strict="true">
<!--percentage form-->
    <returnValues name="PercentageForm" type="com.intershop.beehive.core.capi.webform.Form"/>
  </nodes>
<!--@Location 1,61-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode17">
    <nodeSuccessors name="next" next="EndNode10"/>
  </nodes>
<!--@Location 1,63-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode10" name="no_data" strict="true">
<!--a form instance-->
    <returnValues name="PercentageForm" type="com.intershop.beehive.core.capi.webform.Form"/>
  </nodes>
<!--@Location 6,56-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode3" strict="true" name="PrepareScaledPriceConfig"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode5"/>
<!--a product uuid-->
    <parameters name="ProductID" type="java.lang.String"/>
<!--the UUID of a product domain-->
    <parameters name="ProductDomainID" type="java.lang.String"/>
  </nodes>
<!--@Location 6,57-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode5">
    <nodeSuccessors name="next" next="CreateForm2"/>
    <startNode referencedName="ViewWarrantyPrices-Prefix"/>
  </nodes>
<!--@Location 6,58-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateForm2">
    <configurationValues name="FormName" value="ScaledPriceWarranty"/>
    <configurationValues name="FormResource" value="ScaledPriceWarranty"/>
    <pipelet href="enfinity:/core/pipelets/CreateForm.xml"/>
    <nodeSuccessors name="next" next="CallNode15"/>
    <returnValueBindings name="Form" objectPath="AddScaledPriceForm"/>
  </nodes>
<!--@Location 6,59-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode15">
    <nodeSuccessors name="next" next="DecisionNode3"/>
<!--@BendPoints 15,120-->
    <nodeSuccessors name="no_data" next="JoinNode2"/>
    <startNode referencedName="ProcessWarrantyPrices-GetPriceConfig"/>
  </nodes>
<!--@Location 6,60-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode3" conditionKey="PriceConfig:KeySet">
<!--@BendPoints 13,122-->
    <nodeSuccessors name="decision_yes" next="CallNode7"/>
    <nodeSuccessors name="decision_no" next="JoinNode2"/>
  </nodes>
<!--@Location 6,61-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode7">
<!--@BendPoints 13,124-->
    <nodeSuccessors name="next" next="EndNode9"/>
    <startNode referencedName="This:CreateScaledPriceListForm"/>
  </nodes>
<!--@Location 6,62-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode9" name="" strict="true">
<!--percentage form-->
    <returnValues name="ScaledPriceForm" type="com.intershop.beehive.core.capi.webform.Form"/>
<!--form to add scaled price-->
    <returnValues name="AddScaledPriceForm" type="com.intershop.beehive.core.capi.webform.Form"/>
    <returnValues name="ScaledPriceMoreThanForm" type="com.intershop.beehive.core.capi.webform.Form"/>
    <returnValues name="BaseProductWarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"
        optional="true"/>
  </nodes>
<!--@Location 7,61-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode2">
    <nodeSuccessors name="next" next="EndNode5"/>
  </nodes>
<!--@Location 7,62-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode5" name="no_data" strict="true">
<!--a form instance-->
    <returnValues name="ScaledPriceForm" type="com.intershop.beehive.core.capi.webform.Form"/>
<!--form to add a fixed price-->
    <returnValues name="AddScaledPriceForm" type="com.intershop.beehive.core.capi.webform.Form"/>
  </nodes>
<!--this is a extension called in "bc_mvc/ProcessProduct\-DiscardChanges" 
from extensionPoint "ProcessProduct\-DiscardAdditionalDerivedProductChanges"
@Location 0,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode10" strict="true" name="RemoveWarrantyPriceConfiguration"
      callMode="Private">
    <nodeSuccessors name="next" next="KeyMapper13"/>
    <parameters name="ApplicationBO" type="com.intershop.component.application.capi.ApplicationBO"/>
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
  </nodes>
<!--@Location 0,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper13">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="GetWarrantyBO0"/>
    <parameterBindings name="InValue_1" objectPath="ApplicationBO:Extension(&quot;Warranty&quot;):WarrantyBORepository(Product)"/>
    <returnValueBindings name="OutValue_1" objectPath="WarrantyBORepository"/>
  </nodes>
<!--@Location 0,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetWarrantyBO0">
    <pipelet href="enfinity:/bc_warranty/pipelets/GetWarrantyBO.xml"/>
    <nodeSuccessors name="next" next="CallNode29"/>
    <parameterBindings name="SKU" objectPath="Product:SKU"/>
  </nodes>
<!--@Location 0,3-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode29">
    <nodeSuccessors name="next" next="EndNode19"/>
    <startNode referencedName="ProcessWarrantyPrices-RemovePriceConfiguration"/>
  </nodes>
<!--@Location 0,4-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode19" strict="true"/>
<!--@Location 3,6-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode5" name="StoreFixedPriceConfig"
      callMode="Private">
    <nodeSuccessors name="next" next="DecisionNode19"/>
<!--a warranty business object-->
    <parameters name="WarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"/>
<!--the warranty business object of the base product-->
    <parameters name="BaseProductWarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"
        optional="true"/>
<!--The product.-->
    <parameters name="Product" type="com.intershop.beehive.xcs.capi.product.Product"/>
  </nodes>
<!--@Location 3,7-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode19" conditionKey="Product:DerivedProduct"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="KeyMapper11"/>
    <nodeSuccessors name="decision_no" next="JoinNode39"/>
  </nodes>
<!--@Location 4,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper11">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="JoinNode39"/>
    <parameterBindings name="InValue_1" objectPath="BaseProductWarrantyBO:PriceConfiguration"/>
    <returnValueBindings name="OutValue_1" objectPath="BaseProductPriceConfig"/>
  </nodes>
<!--@Location 3,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode39">
    <nodeSuccessors name="next" next="CreateListForm1"/>
  </nodes>
<!--@Location 3,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateListForm1">
    <configurationValues name="FormName" value="FixedPriceWarranty"/>
    <configurationValues name="ObjectIDMethod" value="toString"/>
    <configurationValues name="ResourceName" value="FixedPriceWarranty"/>
    <pipelet href="enfinity:/core/pipelets/CreateListForm.xml"/>
    <nodeSuccessors name="next" next="LoopNode2"/>
<!--@BendPoints 8,21-->
    <nodeSuccessors name="pipelet_error" next="KeyMapper5"/>
    <parameterBindings name="PageableObject" objectPath="Pageable"/>
    <returnValueBindings name="Form" objectPath="FixedPriceForm"/>
  </nodes>
<!--@Location 2,11-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode2" loop="FixedPriceForm:Instances">
<!--@BendPoints 8,25-->
    <nodeSuccessors name="next" next="DecisionNode5"/>
    <entry key="SubForm">
      <nodeSuccessors name="loop_entry_next" next="ValidateForm2"/>
    </entry>
  </nodes>
<!--@Location 2,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ValidateForm2">
    <configurationValues name="Trim" value="true"/>
    <pipelet href="enfinity:/core/pipelets/ValidateForm.xml"/>
    <nodeSuccessors name="next" next="DecisionNode23"/>
<!--@BendPoints 7,25-->
    <nodeSuccessors name="pipelet_error" next="KeyMapper44"/>
    <parameterBindings name="Form" objectPath="SubForm"/>
  </nodes>
<!--@Location 2,13-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode23" conditionKey="Product:DerivedProduct"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="KeyMapper32"/>
    <nodeSuccessors name="decision_no" next="JoinNode79"/>
  </nodes>
<!--@Location 1,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper32">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="DecisionNode48"/>
    <parameterBindings name="InValue_1" objectPath="WarrantyBO:PriceProvider:Name"/>
    <parameterBindings name="InValue_10" objectPath="BaseProductWarrantyBO:PriceProvider:Name"/>
    <returnValueBindings name="OutValue_1" objectPath="PriceProviderName"/>
    <returnValueBindings name="OutValue_10" objectPath="BaseProductPriceProviderName"/>
  </nodes>
<!--@Location 1,14-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode48" conditionKey="PriceProviderName"
      operator="str_eq" conditionItem="BaseProductPriceProviderName">
    <nodeSuccessors name="decision_yes" next="ContainsElement1"/>
    <nodeSuccessors name="decision_no" next="JoinNode79"/>
  </nodes>
<!--@Location 1,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ContainsElement1">
    <pipelet href="enfinity:/core/pipelets/ContainsElement.xml"/>
    <nodeSuccessors name="next" next="DecisionNode26"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode31"/>
    <parameterBindings name="Collection" objectPath="BaseProductPriceConfig:KeySet"/>
    <parameterBindings name="Element" objectPath="SubForm:ID"/>
  </nodes>
<!--@Location 1,16-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode26" conditionKey="BaseProductPriceConfig:get(SubForm:ID):Value"
      operator="eq" conditionItem="SubForm:Price:Value:Value">
    <nodeSuccessors name="decision_yes" next="CallNode16"/>
    <nodeSuccessors name="decision_no" next="JoinNode56"/>
  </nodes>
<!--@Location 1,17-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode16">
    <nodeSuccessors name="next" next="DecisionNode33"/>
    <parameterBindings name="CurrencyCode" objectPath="SubForm:ID"/>
    <parameterBindings name="PriceValue" objectPath="SubForm:Price:Value"/>
    <startNode referencedName="This:IsDerivedProductWarrantyFixedPrice"/>
    <returnValueBindings name="BaseProductPriceValue" nullBinding="true"/>
  </nodes>
<!--@Location 1,18-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode33" conditionKey="IsDerivedProductWarrantyFixedPrice"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="JoinNode57"/>
    <nodeSuccessors name="decision_no" next="JoinNode55"/>
  </nodes>
<!--@Location 1,20-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode57">
<!--@BendPoints 1,41 1,33-->
    <nodeSuccessors name="next" next="LoopNode2_Entry"/>
  </nodes>
<!--@Location 2,18-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode55">
    <nodeSuccessors name="next" next="AddEntryToMap2"/>
  </nodes>
<!--@Location 2,19-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddEntryToMap2">
    <pipelet href="enfinity:/core/pipelets/AddEntryToMap.xml"/>
    <nodeSuccessors name="next" next="JoinNode4"/>
    <parameterBindings name="InMap" objectPath="WarrantyPriceConfiguration"/>
    <parameterBindings name="Key" objectPath="SubForm:ID"/>
    <parameterBindings name="Value" objectPath="SubForm:Price:Value"/>
    <returnValueBindings name="OutMap" objectPath="WarrantyPriceConfiguration"/>
  </nodes>
<!--@Location 2,20-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode4">
    <nodeSuccessors name="next" next="JoinNode57"/>
  </nodes>
<!--@Location 2,16-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode56">
    <nodeSuccessors name="next" next="JoinNode55"/>
  </nodes>
<!--@Location 2,15-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode31">
    <nodeSuccessors name="next" next="JoinNode56"/>
  </nodes>
<!--@Location 2,14-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode79">
    <nodeSuccessors name="next" next="JoinNode31"/>
  </nodes>
<!--@Location 3,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper44">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
<!--@BendPoints 7,41-->
    <nodeSuccessors name="next" next="JoinNode4"/>
    <parameterBindings name="InValue_1" constant="true"/>
    <returnValueBindings name="OutValue_1" objectPath="ErrorStorePriceConfiguration"/>
  </nodes>
<!--@Location 4,12-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode5" conditionKey="FixedPriceForm:Invalid"
      operator="str_eq" conditionValue="false">
    <nodeSuccessors name="decision_yes" next="CallNode25"/>
    <nodeSuccessors name="decision_no" next="JoinNode3"/>
  </nodes>
<!--@Location 4,13-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode25">
    <nodeSuccessors name="next" next="EndNode11"/>
    <nodeSuccessors name="error" next="JoinNode3"/>
    <startNode referencedName="ProcessWarrantyPrices-StorePriceConfiguration"/>
  </nodes>
<!--@Location 4,14-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode11" name="ok" strict="true"/>
<!--@Location 5,13-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode3">
<!--@BendPoints 11,28-->
    <nodeSuccessors name="next" next="EndNode12"/>
  </nodes>
<!--@Location 5,14-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode12" name="error" strict="true"/>
<!--@Location 4,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper5">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="JoinNode41"/>
    <parameterBindings name="InValue_1" constant="true"/>
    <returnValueBindings name="OutValue_1" constant="ErrorStorePriceConfiguration"/>
  </nodes>
<!--@Location 5,10-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode41">
    <nodeSuccessors name="next" next="JoinNode3"/>
  </nodes>
<!--@Location 3,22-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode12" name="StoreScaledPriceConfig"
      callMode="Private">
    <nodeSuccessors name="next" next="GetFormSelection1"/>
<!--a warranty business object-->
    <parameters name="WarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"/>
<!--the warranty business object of the base product-->
    <parameters name="BaseProductWarrantyBO" type="com.intershop.component.warranty.capi.WarrantyBO"
        optional="true"/>
  </nodes>
<!--@Location 3,23-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetFormSelection1">
    <configurationValues name="DefaultParameterName" value="ObjectUUID"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetFormSelection.xml"/>
    <nodeSuccessors name="next" next="CreatePageableFromIterator2"/>
    <returnValueBindings name="Selection" objectPath="AllObjectUUIDs"/>
  </nodes>
<!--@Location 3,24-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreatePageableFromIterator2">
    <pipelet href="enfinity:/bc_foundation/pipelets/CreatePageableFromIterator.xml"/>
    <nodeSuccessors name="next" next="CreateListForm4"/>
    <parameterBindings name="Iterator" objectPath="AllObjectUUIDs"/>
  </nodes>
<!--@Location 3,25-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateListForm4">
    <configurationValues name="FormName" value="ScaledPriceWarranty"/>
    <configurationValues name="ObjectIDMethod" value="toString"/>
    <configurationValues name="ResourceName" value="ScaledPriceWarranty"/>
    <pipelet href="enfinity:/core/pipelets/CreateListForm.xml"/>
    <nodeSuccessors name="next" next="GetFormSelection0"/>
<!--@BendPoints 21,51-->
    <nodeSuccessors name="pipelet_error" next="JoinNode0"/>
    <parameterBindings name="PageableObject" objectPath="Pageable"/>
    <returnValueBindings name="Form" objectPath="ScaledPriceForm"/>
  </nodes>
<!--@Location 3,26-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetFormSelection0">
    <configurationValues name="DefaultParameterName" value="ScaledPriceCurrency"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetFormSelection.xml"/>
    <nodeSuccessors name="next" next="CreatePageableFromIterator0"/>
    <returnValueBindings name="Selection" objectPath="ScaledPriceCurrencies"/>
  </nodes>
<!--@Location 3,27-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreatePageableFromIterator0">
    <pipelet href="enfinity:/bc_foundation/pipelets/CreatePageableFromIterator.xml"/>
    <nodeSuccessors name="next" next="CreateListForm0"/>
    <parameterBindings name="Iterator" objectPath="ScaledPriceCurrencies"/>
    <returnValueBindings name="Pageable" objectPath="ScaledPriceCurrenciesPageable"/>
  </nodes>
<!--@Location 3,28-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateListForm0">
    <configurationValues name="FormName" value="ScaledPriceWarrantyMoreThan"/>
    <configurationValues name="ObjectIDMethod" value="toString"/>
    <configurationValues name="ResourceName" value="ScaledPriceWarranty"/>
    <pipelet href="enfinity:/core/pipelets/CreateListForm.xml"/>
    <nodeSuccessors name="next" next="GetDomainByUUID0"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode0"/>
    <parameterBindings name="PageableObject" objectPath="ScaledPriceCurrenciesPageable"/>
    <returnValueBindings name="Form" objectPath="ScaledPriceMoreThanForm"/>
  </nodes>
<!--@Location 3,29-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetDomainByUUID0">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetDomainByUUID.xml"/>
    <nodeSuccessors name="next" next="GetProductByUUID0"/>
    <parameterBindings name="DomainUUID" objectPath="ProductDomainID"/>
  </nodes>
<!--@Location 3,30-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetProductByUUID0">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetProductByUUID.xml"/>
    <nodeSuccessors name="next" next="DecisionNode0"/>
    <parameterBindings name="ProductDomain" objectPath="Domain"/>
    <parameterBindings name="ProductUUID" objectPath="ProductID"/>
  </nodes>
<!--@Location 3,31-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode0" conditionKey="Product:DerivedProduct"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="KeyMapper17"/>
    <nodeSuccessors name="decision_no" next="JoinNode23"/>
  </nodes>
<!--@Location 4,32-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper17">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="JoinNode23"/>
    <parameterBindings name="InValue_1" objectPath="BaseProductWarrantyBO:PriceConfiguration"/>
    <returnValueBindings name="OutValue_1" objectPath="BaseProductPriceConfig"/>
  </nodes>
<!--@Location 3,33-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode23">
    <nodeSuccessors name="next" next="LoopNode5"/>
  </nodes>
<!--@Location 3,34-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode5" loop="ScaledPriceForm:Instances">
<!--@BendPoints 15,69-->
    <nodeSuccessors name="next" next="LoopNode0"/>
    <entry key="SubForm">
      <nodeSuccessors name="loop_entry_next" next="ValidateForm4"/>
    </entry>
  </nodes>
<!--@Location 3,35-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ValidateForm4">
    <configurationValues name="Trim" value="true"/>
    <pipelet href="enfinity:/core/pipelets/ValidateForm.xml"/>
    <nodeSuccessors name="next" next="ConcatenateStrings1"/>
<!--@BendPoints 9,71-->
    <nodeSuccessors name="pipelet_error" next="JoinNode71"/>
    <parameterBindings name="Form" objectPath="SubForm"/>
  </nodes>
<!--@Location 3,36-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ConcatenateStrings1">
    <pipelet href="enfinity:/core/pipelets/ConcatenateStrings.xml"/>
    <nodeSuccessors name="next" next="GetIndirectDictValue3"/>
    <parameterBindings name="String0" constant="Old_"/>
    <parameterBindings name="String1" objectPath="SubForm:Threshold:ThresholdValue:QualifiedName"/>
    <returnValueBindings name="Concatenated" objectPath="OldThresholdValueQualifName"/>
  </nodes>
<!--@Location 3,37-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetIndirectDictValue3">
    <pipelet href="enfinity:/core/pipelets/GetIndirectDictValue.xml"/>
    <nodeSuccessors name="next" next="VerifyMoney2"/>
    <parameterBindings name="KeyNameHolder" objectPath="OldThresholdValueQualifName"/>
    <returnValueBindings name="MappedEntry" objectPath="OldThresholdValue"/>
  </nodes>
<!--@Location 3,38-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="VerifyMoney2">
    <pipelet href="enfinity:/bc_foundation/pipelets/VerifyMoney.xml"/>
    <nodeSuccessors name="next" next="ConcatenateStrings2"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode71"/>
    <parameterBindings name="CurrencyMnemonic" objectPath="SubForm:Threshold:Value:CurrencyMnemonic"/>
    <parameterBindings name="LocalizedString" objectPath="OldThresholdValue"/>
    <returnValueBindings name="MoneyValue" objectPath="OldThresholdMoney"/>
  </nodes>
<!--@Location 3,39-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ConcatenateStrings2">
    <pipelet href="enfinity:/core/pipelets/ConcatenateStrings.xml"/>
    <nodeSuccessors name="next" next="GetIndirectDictValue5"/>
    <parameterBindings name="String0" constant="Old_"/>
    <parameterBindings name="String1" objectPath="SubForm:Price:PriceValue:QualifiedName"/>
    <returnValueBindings name="Concatenated" objectPath="OldPriceValueQualifName"/>
  </nodes>
<!--@Location 3,40-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetIndirectDictValue5">
    <pipelet href="enfinity:/core/pipelets/GetIndirectDictValue.xml"/>
    <nodeSuccessors name="next" next="VerifyMoney3"/>
    <parameterBindings name="KeyNameHolder" objectPath="OldPriceValueQualifName"/>
    <returnValueBindings name="MappedEntry" objectPath="OldPriceValue"/>
  </nodes>
<!--@Location 3,41-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="VerifyMoney3">
    <pipelet href="enfinity:/bc_foundation/pipelets/VerifyMoney.xml"/>
    <nodeSuccessors name="next" next="DecisionNode7"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode10"/>
    <parameterBindings name="CurrencyMnemonic" objectPath="SubForm:Threshold:Value:CurrencyMnemonic"/>
    <parameterBindings name="LocalizedString" objectPath="OldPriceValue"/>
    <returnValueBindings name="MoneyValue" objectPath="OldPriceMoney"/>
  </nodes>
<!--@Location 3,42-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode7" conditionKey="Product:DerivedProduct"
      operator="str_eq" conditionValue="true">
<!--@BendPoints 3,85-->
    <nodeSuccessors name="decision_yes" next="KeyMapper26"/>
    <nodeSuccessors name="decision_no" next="JoinNode32"/>
  </nodes>
<!--@Location 1,43-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper26">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="DecisionNode24"/>
    <parameterBindings name="InValue_1" objectPath="WarrantyBO:PriceProvider:Name"/>
    <parameterBindings name="InValue_10" objectPath="BaseProductWarrantyBO:PriceProvider:Name"/>
    <returnValueBindings name="OutValue_1" objectPath="PriceProviderName"/>
    <returnValueBindings name="OutValue_10" objectPath="BaseProductPriceProviderName"/>
  </nodes>
<!--@Location 1,44-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode24" conditionKey="PriceProviderName"
      operator="str_eq" conditionItem="BaseProductPriceProviderName">
    <nodeSuccessors name="decision_yes" next="DecisionNode34"/>
    <nodeSuccessors name="decision_no" next="JoinNode32"/>
  </nodes>
<!--@Location 1,45-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode34" conditionKey="OldThresholdMoney:Value"
      operator="eq" conditionItem="SubForm:Threshold:Value:Value">
    <nodeSuccessors name="decision_yes" next="DecisionNode36"/>
    <nodeSuccessors name="decision_no" next="JoinNode58"/>
  </nodes>
<!--@Location 1,46-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode36" conditionKey="OldPriceMoney:Value"
      operator="eq" conditionItem="SubForm:Price:Value:Value">
    <nodeSuccessors name="decision_yes" next="ContainsElement0"/>
    <nodeSuccessors name="decision_no" next="JoinNode24"/>
  </nodes>
<!--@Location 1,47-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ContainsElement0">
    <pipelet href="enfinity:/core/pipelets/ContainsElement.xml"/>
    <nodeSuccessors name="next" next="DecisionNode14"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode46"/>
    <parameterBindings name="Collection" objectPath="BaseProductPriceConfig:get(SubForm:Threshold:Value:CurrencyMnemonic):KeySet"/>
    <parameterBindings name="Element" objectPath="SubForm:Threshold:Value"/>
  </nodes>
<!--@Location 1,48-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode14" conditionKey="BaseProductPriceConfig:get(SubForm:Threshold:Value:CurrencyMnemonic):get(SubForm:Threshold:Value):Value"
      operator="eq" conditionItem="SubForm:Price:Value:Value">
    <nodeSuccessors name="decision_yes" next="CallNode18"/>
    <nodeSuccessors name="decision_no" next="JoinNode62"/>
  </nodes>
<!--@Location 1,49-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode18">
    <nodeSuccessors name="next" next="DecisionNode37"/>
    <parameterBindings name="CurrencyCode" objectPath="SubForm:Threshold:Value:CurrencyMnemonic"/>
    <parameterBindings name="PriceValue" objectPath="SubForm:Price:Value"/>
    <parameterBindings name="ThresholdValue" objectPath="SubForm:Threshold:Value"/>
    <startNode referencedName="This:IsDerivedProductWarrantyScaledPrice"/>
  </nodes>
<!--@Location 1,50-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode37" conditionKey="IsDerivedProductWarrantyScaledPrice"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="JoinNode64"/>
    <nodeSuccessors name="decision_no" next="JoinNode63"/>
  </nodes>
<!--@Location 1,55-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode64">
<!--@BendPoints 1,111 1,89-->
    <nodeSuccessors name="next" next="LoopNode5_Entry"/>
  </nodes>
<!--@Location 3,50-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode63">
    <nodeSuccessors name="next" next="KeyMapper7"/>
  </nodes>
<!--@Location 3,51-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper7">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="AddEntryToMap8"/>
    <parameterBindings name="InValue_1" objectPath="PriceConfig:get(SubForm:Threshold:Value:CurrencyMnemonic)"/>
    <returnValueBindings name="OutValue_1" objectPath="CurrencyRanges"/>
  </nodes>
<!--@Location 3,52-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddEntryToMap8">
    <pipelet href="enfinity:/core/pipelets/AddEntryToMap.xml"/>
<!--@BendPoints 7,106-->
    <nodeSuccessors name="next" next="AddEntryToMap4"/>
    <parameterBindings name="InMap" objectPath="CurrencyRanges"/>
    <parameterBindings name="Key" objectPath="SubForm:Threshold:Value"/>
    <parameterBindings name="Value" objectPath="SubForm:Price:Value"/>
    <returnValueBindings name="OutMap" objectPath="CurrencyRanges"/>
  </nodes>
<!--@Location 3,53-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddEntryToMap4">
    <pipelet href="enfinity:/core/pipelets/AddEntryToMap.xml"/>
    <nodeSuccessors name="next" next="RemoveDictionaryValue1"/>
    <parameterBindings name="InMap" objectPath="PriceConfig"/>
    <parameterBindings name="Key" objectPath="SubForm:Threshold:Value:CurrencyMnemonic"/>
    <parameterBindings name="Value" objectPath="CurrencyRanges"/>
    <returnValueBindings name="OutMap" objectPath="PriceConfig"/>
  </nodes>
<!--@Location 3,54-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveDictionaryValue1">
    <configurationValues name="Key" value="CurrencyRanges"/>
    <configurationValues name="RemoveFormValues" value="false"/>
    <pipelet href="enfinity:/core/pipelets/RemoveDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode22"/>
  </nodes>
<!--@Location 3,55-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode22">
    <nodeSuccessors name="next" next="JoinNode64"/>
  </nodes>
<!--@Location 3,48-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode62">
    <nodeSuccessors name="next" next="JoinNode63"/>
  </nodes>
<!--@Location 3,47-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode46">
    <nodeSuccessors name="next" next="JoinNode62"/>
  </nodes>
<!--@Location 3,46-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode24">
    <nodeSuccessors name="next" next="JoinNode46"/>
  </nodes>
<!--@Location 3,45-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode58">
    <nodeSuccessors name="next" next="JoinNode24"/>
  </nodes>
<!--@Location 3,44-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode32">
    <nodeSuccessors name="next" next="JoinNode58"/>
  </nodes>
<!--@Location 4,41-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode10">
<!--@BendPoints 9,111-->
    <nodeSuccessors name="next" next="JoinNode22"/>
  </nodes>
<!--@Location 4,38-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode71">
    <nodeSuccessors name="next" next="JoinNode10"/>
  </nodes>
<!--@Location 7,35-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode0" loop="ScaledPriceMoreThanForm:Instances">
<!--@BendPoints 17,71 19,71-->
    <nodeSuccessors name="next" next="DecisionNode8"/>
    <entry key="SubForm">
      <nodeSuccessors name="loop_entry_next" next="ValidateForm6"/>
    </entry>
  </nodes>
<!--@Location 7,36-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ValidateForm6">
    <configurationValues name="Trim" value="true"/>
    <pipelet href="enfinity:/core/pipelets/ValidateForm.xml"/>
<!--@BendPoints 15,74-->
    <nodeSuccessors name="next" next="KeyMapper9"/>
<!--@BendPoints 20,84 20,105-->
    <nodeSuccessors name="pipelet_error" next="JoinNode18"/>
    <parameterBindings name="Form" objectPath="SubForm"/>
  </nodes>
<!--@Location 7,37-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper9">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="GetZeroMoney3"/>
    <parameterBindings name="InValue_1" objectPath="PriceConfig:get(SubForm:ID)"/>
    <returnValueBindings name="OutValue_1" objectPath="CurrencyRanges"/>
  </nodes>
<!--@Location 7,38-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetZeroMoney3">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetZeroMoney.xml"/>
    <nodeSuccessors name="next" next="DecisionNode15"/>
    <parameterBindings name="CurrencyCode" objectPath="SubForm:ID"/>
  </nodes>
<!--@Location 7,39-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode15" conditionKey="Product:DerivedProduct"
      operator="str_eq" conditionValue="true">
<!--@BendPoints 17,79-->
    <nodeSuccessors name="decision_yes" next="KeyMapper27"/>
    <nodeSuccessors name="decision_no" next="JoinNode33"/>
  </nodes>
<!--@Location 8,40-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper27">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="DecisionNode31"/>
    <parameterBindings name="InValue_1" objectPath="WarrantyBO:PriceProvider:Name"/>
    <parameterBindings name="InValue_10" objectPath="BaseProductWarrantyBO:PriceProvider:Name"/>
    <returnValueBindings name="OutValue_1" objectPath="PriceProviderName"/>
    <returnValueBindings name="OutValue_10" objectPath="BaseProductPriceProviderName"/>
  </nodes>
<!--@Location 8,41-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode31" conditionKey="PriceProviderName"
      operator="str_eq" conditionItem="BaseProductPriceProviderName">
    <nodeSuccessors name="decision_yes" next="ConcatenateStrings3"/>
    <nodeSuccessors name="decision_no" next="JoinNode33"/>
  </nodes>
<!--@Location 8,42-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ConcatenateStrings3">
    <pipelet href="enfinity:/core/pipelets/ConcatenateStrings.xml"/>
    <nodeSuccessors name="next" next="GetIndirectDictValue1"/>
    <parameterBindings name="String0" constant="Old_"/>
    <parameterBindings name="String1" objectPath="SubForm:Price:PriceValue:QualifiedName"/>
    <returnValueBindings name="Concatenated" objectPath="OldPriceValueQualifName"/>
  </nodes>
<!--@Location 8,43-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetIndirectDictValue1">
    <pipelet href="enfinity:/core/pipelets/GetIndirectDictValue.xml"/>
    <nodeSuccessors name="next" next="VerifyMoney4"/>
    <parameterBindings name="KeyNameHolder" objectPath="OldPriceValueQualifName"/>
    <returnValueBindings name="MappedEntry" objectPath="OldPriceValue"/>
  </nodes>
<!--@Location 8,44-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="VerifyMoney4">
    <pipelet href="enfinity:/bc_foundation/pipelets/VerifyMoney.xml"/>
    <nodeSuccessors name="next" next="DecisionNode46"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode75"/>
    <parameterBindings name="CurrencyMnemonic" objectPath="SubForm:ID"/>
    <parameterBindings name="LocalizedString" objectPath="OldPriceValue"/>
    <returnValueBindings name="MoneyValue" objectPath="OldPriceMoney"/>
  </nodes>
<!--@Location 8,45-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode46" conditionKey="OldPriceMoney:Value"
      operator="eq" conditionItem="SubForm:Price:Value:Value">
    <nodeSuccessors name="decision_yes" next="DecisionNode16"/>
    <nodeSuccessors name="decision_no" next="JoinNode76"/>
  </nodes>
<!--@Location 8,46-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode16" conditionKey="BaseProductPriceConfig:get(SubForm:ID):get(ZeroMoney):Value"
      operator="eq" conditionItem="SubForm:Price:Value:Value">
    <nodeSuccessors name="decision_yes" next="CallNode21"/>
    <nodeSuccessors name="decision_no" next="JoinNode27"/>
  </nodes>
<!--@Location 8,47-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode21">
    <nodeSuccessors name="next" next="DecisionNode47"/>
    <parameterBindings name="CurrencyCode" objectPath="SubForm:ID"/>
    <parameterBindings name="PriceValue" objectPath="SubForm:Price:Value"/>
    <parameterBindings name="ThresholdValue" objectPath="ZeroMoney"/>
    <startNode referencedName="This:IsDerivedProductWarrantyScaledPrice"/>
  </nodes>
<!--@Location 8,48-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode47" conditionKey="IsDerivedProductWarrantyScaledPrice"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="JoinNode77"/>
    <nodeSuccessors name="decision_no" next="JoinNode78"/>
  </nodes>
<!--@Location 7,52-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode77">
<!--@BendPoints 11,105 11,91-->
    <nodeSuccessors name="next" next="LoopNode0_Entry"/>
  </nodes>
<!--@Location 7,48-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode78">
    <nodeSuccessors name="next" next="AddEntryToMap7"/>
  </nodes>
<!--@Location 7,49-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddEntryToMap7">
    <pipelet href="enfinity:/core/pipelets/AddEntryToMap.xml"/>
<!--@BendPoints 15,100-->
    <nodeSuccessors name="next" next="AddEntryToMap10"/>
    <parameterBindings name="InMap" objectPath="CurrencyRanges"/>
    <parameterBindings name="Key" objectPath="ZeroMoney"/>
    <parameterBindings name="Value" objectPath="SubForm:Price:Value"/>
    <returnValueBindings name="OutMap" objectPath="CurrencyRanges"/>
  </nodes>
<!--@Location 7,50-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddEntryToMap10">
    <pipelet href="enfinity:/core/pipelets/AddEntryToMap.xml"/>
<!--@BendPoints 15,102-->
    <nodeSuccessors name="next" next="RemoveDictionaryValue2"/>
    <parameterBindings name="InMap" objectPath="PriceConfig"/>
    <parameterBindings name="Key" objectPath="SubForm:ID"/>
    <parameterBindings name="Value" objectPath="CurrencyRanges"/>
    <returnValueBindings name="OutMap" objectPath="PriceConfig"/>
  </nodes>
<!--@Location 7,51-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveDictionaryValue2">
    <configurationValues name="Key" value="CurrencyRanges"/>
    <configurationValues name="RemoveFormValues" value="false"/>
    <pipelet href="enfinity:/core/pipelets/RemoveDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode18"/>
  </nodes>
<!--@Location 8,52-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode18">
    <nodeSuccessors name="next" next="JoinNode77"/>
  </nodes>
<!--@Location 7,46-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode27">
<!--@BendPoints 15,93-->
    <nodeSuccessors name="next" next="JoinNode78"/>
  </nodes>
<!--@Location 7,45-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode76">
    <nodeSuccessors name="next" next="JoinNode27"/>
  </nodes>
<!--@Location 7,44-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode75">
    <nodeSuccessors name="next" next="JoinNode76"/>
  </nodes>
<!--@Location 7,41-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode33">
    <nodeSuccessors name="next" next="JoinNode75"/>
  </nodes>
<!--@Location 9,36-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode8" conditionKey="ScaledPriceForm:Invalid"
      operator="str_eq" conditionValue="false">
    <nodeSuccessors name="decision_yes" next="CallNode24"/>
    <nodeSuccessors name="decision_no" next="JoinNode19"/>
  </nodes>
<!--@Location 9,37-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode24">
    <nodeSuccessors name="next" next="EndNode21"/>
    <nodeSuccessors name="error" next="JoinNode11"/>
    <parameterBindings name="WarrantyPriceConfiguration" objectPath="PriceConfig"/>
    <startNode referencedName="ProcessWarrantyPrices-StorePriceConfiguration"/>
  </nodes>
<!--@Location 9,38-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode21" name="ok" strict="true"/>
<!--@Location 10,37-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode11">
    <nodeSuccessors name="next" next="EndNode22"/>
  </nodes>
<!--@Location 10,38-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode22" name="error" strict="true"/>
<!--@Location 10,36-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode19">
    <nodeSuccessors name="next" next="JoinNode11"/>
  </nodes>
<!--@Location 10,28-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode0">
    <nodeSuccessors name="next" next="KeyMapper4"/>
  </nodes>
<!--@Location 10,29-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper4">
    <pipelet href="enfinity:/core/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="JoinNode19"/>
    <parameterBindings name="InValue_1" constant="true"/>
    <returnValueBindings name="OutValue_1" constant="ErrorStorePriceConfiguration"/>
  </nodes>
</pipeline:Pipeline>
