<?xml version="1.0" encoding="UTF-8"?>
<!--Handles promotion code groups
@Group OnlineMarketing-->

<pipeline:Pipeline xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:pipeline="http://www.intershop.de/pipeline/2010"
    name="ViewPromotionCodeGroup" type="view">
<!--@Location 25,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode7" name="ChecklReuseValues"
      callMode="Private">
<!--@BendPoints 51,4-->
    <nodeSuccessors name="next" next="DecisionNode3"/>
  </nodes>
<!--@Location 25,2-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode3" conditionKey="Form:TotalReusePerCodeFlag:Value"
      operator="str_eq" conditionValue="1">
<!--@BendPoints 51,6-->
    <nodeSuccessors name="decision_yes" next="DecisionNode4"/>
<!--@BendPoints 55,5-->
    <nodeSuccessors name="decision_no" next="JoinNode18"/>
  </nodes>
<!--@Location 25,3-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode4" conditionKey="Form:TotalReusePerCode:Value"
      operator="gt" conditionValue="0">
    <nodeSuccessors name="decision_yes" next="JoinNode13"/>
    <nodeSuccessors name="decision_no" next="KeyMapper3"/>
  </nodes>
<!--@Location 25,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode13">
<!--@BendPoints 51,10-->
    <nodeSuccessors name="next" next="DecisionNode6"/>
  </nodes>
<!--@Location 25,5-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode6" conditionKey="Form:TotalReusePerCustomerFlag:Value"
      operator="str_eq" conditionValue="1">
<!--@BendPoints 51,12-->
    <nodeSuccessors name="decision_yes" next="DecisionNode7"/>
<!--@BendPoints 55,11-->
    <nodeSuccessors name="decision_no" next="JoinNode8"/>
  </nodes>
<!--@Location 25,6-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode7" conditionKey="Form:TotalReusePerCustomer:Value"
      operator="gt" conditionValue="0">
    <nodeSuccessors name="decision_yes" next="JoinNode14"/>
<!--@BendPoints 52,13-->
    <nodeSuccessors name="decision_no" next="KeyMapper5"/>
  </nodes>
<!--@Location 25,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode14">
    <nodeSuccessors name="next" next="DecisionNode8"/>
  </nodes>
<!--@Location 25,8-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode8" conditionKey="ERROR_PromotionCodeGroup"
      operator="undef">
<!--@BendPoints 51,18-->
    <nodeSuccessors name="decision_yes" next="EndNode2"/>
<!--@BendPoints 55,17 55,18-->
    <nodeSuccessors name="decision_no" next="EndNode3"/>
  </nodes>
<!--@Location 25,9-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode2"/>
<!--@Location 27,9-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode3" name="Failed"/>
<!--@Location 26,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper5">
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="JoinNode8"/>
    <parameterBindings name="InValue_1" constant="number is &lt; 1"/>
    <parameterBindings name="InValue_2" constant="TotalReuseNumberError"/>
    <returnValueBindings name="OutValue_1" objectPath="TotalReusePerCustomerErrorCode"/>
    <returnValueBindings name="OutValue_2" objectPath="ERROR_PromotionCodeGroup"/>
  </nodes>
<!--@Location 27,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode8">
<!--@BendPoints 55,15-->
    <nodeSuccessors name="next" next="JoinNode14"/>
  </nodes>
<!--@Location 26,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper3">
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="JoinNode18"/>
    <parameterBindings name="InValue_1" constant="number is &lt; 1"/>
    <parameterBindings name="InValue_2" constant="TotalReuseNumberError"/>
    <returnValueBindings name="OutValue_1" objectPath="TotalReusePerCodeErrorCode"/>
    <returnValueBindings name="OutValue_2" objectPath="ERROR_PromotionCodeGroup"/>
  </nodes>
<!--@Location 27,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode18">
<!--@BendPoints 55,9-->
    <nodeSuccessors name="next" next="JoinNode13"/>
  </nodes>
<!--@Location 5,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode1" name="Create">
<!--@BendPoints 11,4-->
    <nodeSuccessors name="next" next="CallNode1"/>
  </nodes>
<!--@Location 5,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode1">
<!--@BendPoints 11,6-->
    <nodeSuccessors name="next" next="CreateForm1"/>
    <startNode referencedName="This:Prefix"/>
  </nodes>
<!--@Location 5,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateForm1">
    <configurationValues name="FormName" value="PromotionCodeGroupDefinition"/>
    <configurationValues name="FormResource" value="PromotionCodeGroupDefinition"/>
    <pipelet href="enfinity:/core/pipelets/CreateForm.xml"/>
<!--@BendPoints 11,8-->
    <nodeSuccessors name="next" next="CallNode10"/>
  </nodes>
<!--@Location 5,5-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode10">
<!--@BendPoints 11,12-->
    <nodeSuccessors name="next" next="ValidateForm1"/>
    <startNode referencedName="ViewPromotionCodeGroup-ValidateAppAssignmentForm"/>
  </nodes>
<!--@Location 5,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ValidateForm1">
    <pipelet href="enfinity:/core/pipelets/ValidateForm.xml"/>
    <nodeSuccessors name="next" next="JoinNode1"/>
<!--@BendPoints 12,13 12,15-->
    <nodeSuccessors name="pipelet_error" next="JoinNode1"/>
  </nodes>
<!--@Location 5,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode1">
    <nodeSuccessors name="next" next="CallNode38"/>
  </nodes>
<!--@Location 5,8-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode38">
    <nodeSuccessors name="YES" next="JoinNode45"/>
    <nodeSuccessors name="NO" next="DecisionNode19"/>
    <startNode referencedName="ViewPromotionCodeGroup-ShowApplicationSelectionError"/>
  </nodes>
<!--@Location 6,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode45">
    <nodeSuccessors name="next" next="JoinNode10"/>
  </nodes>
<!--@Location 6,11-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode10">
    <nodeSuccessors name="next" next="JoinNode3"/>
  </nodes>
<!--@Location 6,13-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode3">
<!--@BendPoints 13,45-->
    <nodeSuccessors name="next" next="JoinNode2"/>
  </nodes>
<!--@Location 6,22-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode2">
    <nodeSuccessors name="next" next="GetLocale3"/>
  </nodes>
<!--@Location 6,23-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetLocale3">
    <configurationValues name="LocaleFallback" value="Request Locale"/>
    <pipelet href="enfinity:/core/pipelets/GetLocale.xml"/>
    <nodeSuccessors name="next" next="DetermineLocales0"/>
  </nodes>
<!--@Location 6,24-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="DetermineLocales0">
    <pipelet href="enfinity:/core/pipelets/DetermineLocales.xml"/>
    <nodeSuccessors name="next" next="PrepareApplicationView1"/>
  </nodes>
<!--@Location 6,25-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="PrepareApplicationView1">
    <configurationValues name="SelectedMenuItem" value="OnlineMarketing"/>
    <configurationValues name="WorkingTemplate" value="marketing/PromotionCodeGroup"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/PrepareApplicationView.xml"/>
<!--@BendPoints 13,52-->
    <nodeSuccessors name="next" next="InteractionEnd1"/>
    <parameterBindings name="WorkingTemplateSuffix" objectPath="CurrentChannel:TypeCode"/>
  </nodes>
<!--@Location 6,26-->
  <nodes xsi:type="pipeline:InteractionNode" nodeID="InteractionEnd1">
    <template referencedName="application/ApplicationFrame"/>
  </nodes>
<!--@Location 5,9-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode19" conditionKey="Form:Invalid"
      operator="str_eq" conditionValue="false">
<!--@BendPoints 11,20-->
    <nodeSuccessors name="decision_yes" next="CallNode8"/>
    <nodeSuccessors name="decision_no" next="JoinNode45"/>
  </nodes>
<!--@Location 5,10-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode8">
    <nodeSuccessors name="next" next="InvalidatePageLocatorPageable0"/>
    <nodeSuccessors name="Failed" next="JoinNode10"/>
    <startNode referencedName="ViewPromotionCodeGroup-ChecklReuseValues"/>
  </nodes>
<!--@Location 5,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="InvalidatePageLocatorPageable0">
    <configurationValues name="DefaultPageLocatorName" value="PromotionCodeGroupList"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/InvalidatePageLocatorPageable.xml"/>
    <nodeSuccessors name="next" next="CallNode2"/>
  </nodes>
<!--@Location 5,13-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode2">
    <nodeSuccessors name="next" next="CallNode22"/>
<!--@BendPoints 12,27-->
    <nodeSuccessors name="ERROR" next="JoinNode3"/>
    <parameterBindings name="PromotionCodeGroupID" objectPath="Form:PCGID:Value"/>
    <startNode referencedName="ProcessPromotionCodeGroup-Create"/>
  </nodes>
<!--@Location 5,14-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode22">
    <nodeSuccessors name="next" next="CallNode4"/>
    <startNode referencedName="ViewPromotionCodeGroup-SetReuseValues"/>
  </nodes>
<!--@Location 5,16-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode4">
    <nodeSuccessors name="next" next="CallNode27"/>
    <parameterBindings name="Description" objectPath="Form:Description:Value"/>
    <parameterBindings name="DisplayName" objectPath="Form:Name:Value"/>
    <parameterBindings name="Enabled" objectPath="Form:Enabled:Value"/>
    <parameterBindings name="EndDate" objectPath="Form:EndDate:Value"/>
    <parameterBindings name="StartDate" objectPath="Form:StartDate:Value"/>
    <parameterBindings name="UsePromotionApps" objectPath="Form:UsePromotionApps:Value"/>
    <parameterBindings name="UsePromotionTargetGroups" constant="(Boolean)true"/>
    <parameterBindings name="UsePromotionTime" objectPath="Form:TimeFrameFromPromotion:Value"/>
    <startNode referencedName="ProcessPromotionCodeGroup-Update"/>
  </nodes>
<!--@Location 5,17-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode27">
<!--@BendPoints 11,41 11,45-->
    <nodeSuccessors name="next" next="JoinNode2"/>
    <startNode referencedName="ViewPromotionCodeGroup-UpdateAppAssignments"/>
  </nodes>
<!--@Location 32,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode10" name="CreatePageablePromotion"
      callMode="Private">
<!--@BendPoints 65,4-->
    <nodeSuccessors name="next" next="CallNode16"/>
  </nodes>
<!--@Location 32,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode16">
    <nodeSuccessors name="next" next="JoinNode27"/>
    <startNode referencedName="ProcessClipboard-DeleteAllEntries"/>
  </nodes>
<!--@Location 32,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode27">
    <nodeSuccessors name="next" next="JoinNode29"/>
  </nodes>
<!--@Location 32,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode29">
    <nodeSuccessors name="next" next="CallNode42"/>
  </nodes>
<!--@Location 32,5-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode42">
<!--@BendPoints 65,15-->
    <nodeSuccessors name="next" next="JoinNode28"/>
    <nodeSuccessors name="ERROR" next="CreatePageableFromIterator1"/>
    <parameterBindings name="Domain" objectPath="PromotionCodeGroup:Domain"/>
    <parameterBindings name="Locale" objectPath="CurrentSession:Locale"/>
    <parameterBindings name="PromotionCodeGroupID" objectPath="PromotionCodeGroup:ID"/>
    <startNode referencedName="ViewPromotionCodeGroup-SortPromotionForPromotionCodeGroup"/>
  </nodes>
<!--@Location 31,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode28">
<!--@BendPoints 63,16-->
    <nodeSuccessors name="next" next="SetPage6"/>
  </nodes>
<!--@Location 31,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetPage6">
    <configurationValues name="DefaultPageNumber" value="0"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetPage.xml"/>
    <nodeSuccessors name="next" next="JoinNode25"/>
    <parameterBindings name="PageNumber" objectPath="PageLocator:PageNumber"/>
    <parameterBindings name="Pageable" objectPath="Promotions"/>
  </nodes>
<!--@Location 31,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode25">
<!--@BendPoints 63,23-->
    <nodeSuccessors name="next" next="JoinNode26"/>
  </nodes>
<!--@Location 30,11-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode26">
    <nodeSuccessors name="next" next="Pipelet5"/>
  </nodes>
<!--@Location 30,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet5">
    <configurationValues name="DefaultHandlerPipeline" value="ViewPromotionCode-PagingPromotion"/>
    <configurationValues name="DefaultPageLocatorName" value="PromotionCodeGroupPromotions"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetPageLocator.xml"/>
    <nodeSuccessors name="next" next="EndNode4"/>
    <parameterBindings name="HandlerPipeline" nullBinding="true"/>
    <parameterBindings name="PageLocatorName" nullBinding="true"/>
    <parameterBindings name="Pageable" objectPath="Promotions"/>
  </nodes>
<!--@Location 30,13-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode4"/>
<!--@Location 33,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreatePageableFromIterator1">
    <configurationValues name="PageableName" value="PromotionCodeGroupPromotions"/>
    <configurationValues name="Pagesize" value="10"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CreatePageableFromIterator.xml"/>
<!--@BendPoints 67,15-->
    <nodeSuccessors name="next" next="JoinNode28"/>
    <parameterBindings name="Iterator" objectPath="PromotionCodeGroup:Promotions"/>
    <returnValueBindings name="Pageable" objectPath="Promotions"/>
  </nodes>
<!--@Location 0,24-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode29" name="CreatePromotionAppAssignmentForm"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode48"/>
  </nodes>
<!--@Location 0,25-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode48">
    <nodeSuccessors name="next" next="DecisionNode5"/>
    <startNode referencedName="ProcessApplication-GetApplications"/>
    <returnValueBindings name="Applications" objectPath="Apps"/>
  </nodes>
<!--@Location 0,26-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode5" conditionKey="Apps"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="CallNode0"/>
<!--@BendPoints 3,53-->
    <nodeSuccessors name="decision_no" next="JoinNode15"/>
  </nodes>
<!--@Location 0,27-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode0">
    <nodeSuccessors name="next" next="CreatePageableFromIterator2"/>
    <parameterBindings name="Applications" objectPath="Apps"/>
    <startNode referencedName="ProcessApplication-Sort"/>
    <returnValueBindings name="Applications" objectPath="Apps"/>
  </nodes>
<!--@Location 0,28-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreatePageableFromIterator2">
    <configurationValues name="Pagesize" value="0"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CreatePageableFromIterator.xml"/>
    <nodeSuccessors name="next" next="CreateListForm1"/>
    <parameterBindings name="Iterator" objectPath="Apps"/>
    <returnValueBindings name="Pageable" objectPath="AppsPageable"/>
  </nodes>
<!--@Location 0,29-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateListForm1">
    <configurationValues name="FormName" value="PromotionAppAssignment"/>
    <configurationValues name="ObjectIDMethod" value="getUUID"/>
    <configurationValues name="ResourceName" value="PromotionAppAssignment"/>
    <pipelet href="enfinity:/core/pipelets/CreateListForm.xml"/>
    <nodeSuccessors name="next" next="JoinNode19"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode15"/>
    <parameterBindings name="PageableObject" objectPath="AppsPageable"/>
    <returnValueBindings name="Form" objectPath="PromotionAppAssignmentForm"/>
  </nodes>
<!--@Location 0,30-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode19">
<!--@BendPoints 1,62-->
    <nodeSuccessors name="next" next="EndNode11"/>
  </nodes>
<!--@Location 0,31-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode11"/>
<!--@Location 1,29-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode15">
<!--@BendPoints 3,61-->
    <nodeSuccessors name="next" next="JoinNode19"/>
  </nodes>
<!--@Location 23,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode8" name="Delete">
<!--@BendPoints 47,4-->
    <nodeSuccessors name="next" next="CallNode12"/>
  </nodes>
<!--@Location 23,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode12">
<!--@BendPoints 47,6-->
    <nodeSuccessors name="next" next="CallNode13"/>
    <startNode referencedName="This:Prefix"/>
  </nodes>
<!--@Location 23,3-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode13">
    <nodeSuccessors name="next" next="KeyMapper9"/>
<!--@BendPoints 49,9 49,10-->
    <nodeSuccessors name="ERROR" next="JumpNode2"/>
    <startNode referencedName="ProcessPromotionCodeGroup-Remove"/>
  </nodes>
<!--@Location 23,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper9">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
<!--@BendPoints 47,14-->
    <nodeSuccessors name="next" next="KeyMapper10"/>
    <parameterBindings name="InValue_1" objectPath="CurrentChannel:RepositoryDomain"/>
    <parameterBindings name="InValue_2" objectPath="CurrentChannel:Domain:Site"/>
    <returnValueBindings name="OutValue_1" objectPath="ProcessOwningDomain"/>
    <returnValueBindings name="OutValue_2" objectPath="ProcessExecutionDomain"/>
  </nodes>
<!--@Location 23,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper10">
    <configurationValues name="ValueType" value="Form Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
<!--@BendPoints 47,16-->
    <nodeSuccessors name="next" next="CallNode7"/>
    <parameterBindings name="InValue_1" constant="ProcessPromotionCodeGroup"/>
    <parameterBindings name="InValue_2" constant="RemoveCodeGroups"/>
    <parameterBindings name="InValue_3" constant="RemovePromotionCodeGroups"/>
    <parameterBindings name="InValue_4" objectPath="Domain:DomainID"/>
    <parameterBindings name="InValue_5" objectPath="PromotionCodeGroupID"/>
    <returnValueBindings name="OutValue_1" objectPath="JobPipelineName"/>
    <returnValueBindings name="OutValue_2" objectPath="JobPipelineStartNode"/>
    <returnValueBindings name="OutValue_3" objectPath="JobName"/>
    <returnValueBindings name="OutValue_4" objectPath="PCGDomainID"/>
    <returnValueBindings name="OutValue_5" objectPath="PCGIDs"/>
  </nodes>
<!--@Location 23,8-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode7">
    <nodeSuccessors name="next" next="InvalidatePageLocatorPageable11"/>
    <startNode referencedName="ProcessPromotionCodeGroup-CreateJob"/>
  </nodes>
<!--@Location 23,9-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="InvalidatePageLocatorPageable11">
    <configurationValues name="DefaultPageLocatorName" value="PromotionCodeGroupList"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/InvalidatePageLocatorPageable.xml"/>
    <nodeSuccessors name="next" next="Jump1"/>
  </nodes>
<!--@Location 23,10-->
  <nodes xsi:type="pipeline:JumpNode" nodeID="Jump1">
    <startNode referencedName="ViewPromotionCodeGroupList-ListAll"/>
  </nodes>
<!--@Location 24,5-->
  <nodes xsi:type="pipeline:JumpNode" nodeID="JumpNode2">
    <startNode referencedName="ViewPromotionCodeGroup-Edit"/>
  </nodes>
<!--@Location 2,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode4" name="Dispatch">
<!--@BendPoints 5,4-->
    <nodeSuccessors name="next" next="DispatchFormAction1"/>
  </nodes>
<!--@Location 2,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="DispatchFormAction1">
    <configurationValues name="OutValue_0" value="ViewPromotionCodeGroup-Create"/>
    <configurationValues name="OutValue_1" value="ViewPromotionCodeGroup-Update"/>
    <configurationValues name="OutValue_2" value="ViewPromotionCodeGroup-Delete"/>
    <configurationValues name="OutValue_3" value="ViewPromotionCodeGroup-Edit"/>
    <configurationValues name="OutValue_4" value="ViewPromotionCodeGroup-Edit"/>
    <configurationValues name="OutValue_5" value="ViewPromotionCodeGroupTargetPromotionSelection-ShowAll"/>
    <configurationValues name="OutValue_6" value="ViewPromotionCodeGroup-PagingPromotion"/>
    <configurationValues name="OutValue_7" value="ViewPromotionCodeGroup-PagingPromotion"/>
    <configurationValues name="OutValue_8" value="ViewPromotionCodeGroup-RemovePromotion"/>
    <configurationValues name="OutValue_9" value="ViewPromotionCodeGroup-UpdateTargetGroups"/>
    <configurationValues name="PagingPipeline" value="ViewPromotionCodeGroup-PagingPromotion"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/DispatchFormAction.xml"/>
    <nodeSuccessors name="next" next="JoinNode39"/>
<!--@BendPoints 7,5 7,6-->
    <nodeSuccessors name="pipelet_error" next="DispatchFormAction2"/>
    <parameterBindings name="Key_0" objectPath="create"/>
    <parameterBindings name="Key_1" objectPath="update"/>
    <parameterBindings name="Key_2" objectPath="delete"/>
    <parameterBindings name="Key_3" objectPath="confirmDelete"/>
    <parameterBindings name="Key_4" objectPath="cancelDelete"/>
    <parameterBindings name="Key_5" objectPath="newPromotion"/>
    <parameterBindings name="Key_6" objectPath="confirmRemovePromotion"/>
    <parameterBindings name="Key_7" objectPath="cancelRemovePromotion"/>
    <parameterBindings name="Key_8" objectPath="removePromotion"/>
    <parameterBindings name="Key_9" objectPath="updateTargetGroup"/>
    <returnValueBindings name="SelectionKey" objectPath="JumpTarget"/>
  </nodes>
<!--@Location 2,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode39">
    <nodeSuccessors name="next" next="JoinNode49"/>
  </nodes>
<!--@Location 2,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode49">
<!--@BendPoints 5,12-->
    <nodeSuccessors name="next" next="Jump6"/>
  </nodes>
<!--@Location 2,6-->
  <nodes xsi:type="pipeline:JumpNode" nodeID="Jump6">
    <startNode referencedName="SecureJump-Start"/>
  </nodes>
<!--@Location 3,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="DispatchFormAction2">
    <configurationValues name="OutValue_0" value="ViewPromotionCodeGroupList-ListAll"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/DispatchFormAction.xml"/>
<!--@BendPoints 7,9-->
    <nodeSuccessors name="next" next="JoinNode39"/>
<!--@BendPoints 9,7 9,8-->
    <nodeSuccessors name="pipelet_error" next="SetDictionaryValue1"/>
    <parameterBindings name="Key_0" objectPath="backToList"/>
    <returnValueBindings name="SelectionKey" objectPath="JumpTarget"/>
  </nodes>
<!--@Location 4,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue1">
    <configurationValues name="Name" value="JumpTarget"/>
    <configurationValues name="Value" value="ViewPromotionCodeGroupList-ListAll"/>
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
<!--@BendPoints 9,11-->
    <nodeSuccessors name="next" next="JoinNode49"/>
  </nodes>
<!--@Location 11,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode6" name="Edit">
<!--@BendPoints 23,4-->
    <nodeSuccessors name="next" next="CallNode9"/>
  </nodes>
<!--@Location 11,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode9">
<!--@BendPoints 23,6-->
    <nodeSuccessors name="next" next="GetPromotionCodeGroupByID3"/>
    <startNode referencedName="This:Prefix"/>
  </nodes>
<!--@Location 11,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetPromotionCodeGroupByID3">
    <pipelet href="enfinity:/bc_marketing/pipelets/GetPromotionCodeGroupByID.xml"/>
<!--@BendPoints 25,7-->
    <nodeSuccessors name="next" next="InvalidatePageLocatorPageable1"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode22"/>
    <parameterBindings name="GroupID" objectPath="PromotionCodeGroupID"/>
  </nodes>
<!--@Location 12,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="InvalidatePageLocatorPageable1">
    <configurationValues name="DefaultPageLocatorName" value="PromotionCodeGroupPromotions"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/InvalidatePageLocatorPageable.xml"/>
    <nodeSuccessors name="next" next="CallNode40"/>
  </nodes>
<!--@Location 12,8-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode40">
    <nodeSuccessors name="next" next="JoinNode0"/>
    <startNode referencedName="ViewPromotionCodeGroup-CreatePageablePromotion"/>
  </nodes>
<!--@Location 12,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode0">
    <nodeSuccessors name="next" next="CreateForm4"/>
  </nodes>
<!--@Location 12,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateForm4">
    <configurationValues name="FormName" value="PromotionCodeGroupDefinition"/>
    <configurationValues name="FormResource" value="PromotionCodeGroupDefinition"/>
    <pipelet href="enfinity:/core/pipelets/CreateForm.xml"/>
<!--@BendPoints 25,22-->
    <nodeSuccessors name="next" next="CallNode5"/>
  </nodes>
<!--@Location 12,11-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode5">
<!--@BendPoints 25,24-->
    <nodeSuccessors name="next" next="SetDictionaryValue6"/>
    <startNode referencedName="ViewPromotionCodeGroup-InitGeneralFormData"/>
  </nodes>
<!--@Location 12,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue6">
    <configurationValues name="Name" value="MSG_PromotionCodeGroup"/>
    <configurationValues name="Value" value="hide date error"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="CallNode33"/>
  </nodes>
<!--@Location 12,13-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode33">
<!--@BendPoints 25,29-->
    <nodeSuccessors name="next" next="JoinNode7"/>
    <startNode referencedName="ViewPromotionCodeGroup-SetAppAssignmentInPromoCodeGroupAppAssignmentForm"/>
  </nodes>
<!--@Location 11,14-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode7">
<!--@BendPoints 23,45-->
    <nodeSuccessors name="next" next="JoinNode6"/>
  </nodes>
<!--@Location 7,22-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode6">
    <nodeSuccessors name="next" next="JoinNode2"/>
  </nodes>
<!--@Location 11,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode22">
    <nodeSuccessors name="next" next="JoinNode7"/>
  </nodes>
<!--@Location 30,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode11" name="GetPageablePromotion"
      callMode="Private">
<!--@BendPoints 61,4-->
    <nodeSuccessors name="next" next="Call1"/>
  </nodes>
<!--@Location 30,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call1">
    <nodeSuccessors name="next" next="GetPageLocator1"/>
    <startNode referencedName="ProcessClipboard-Update"/>
  </nodes>
<!--@Location 30,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetPageLocator1">
    <configurationValues name="DefaultPageLocatorName" value="PromotionCodeGroupPromotions"/>
    <configurationValues name="RestorePageLocatorDictionary" value="True"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetPageLocator.xml"/>
    <nodeSuccessors name="next" next="GetPageable2"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode27"/>
    <parameterBindings name="PageLocatorName" nullBinding="true"/>
  </nodes>
<!--@Location 30,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetPageable2">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetPageable.xml"/>
    <nodeSuccessors name="next" next="Decision4"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode29"/>
    <parameterBindings name="PageableID" objectPath="PageLocator:PageableID"/>
    <returnValueBindings name="Pageable" objectPath="Promotions"/>
  </nodes>
<!--@Location 30,6-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="Decision4" conditionKey="PageNumber">
    <nodeSuccessors name="decision_yes" next="VerifyInteger2"/>
<!--@BendPoints 63,13-->
    <nodeSuccessors name="decision_no" next="JoinNode28"/>
  </nodes>
<!--@Location 30,9-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="VerifyInteger2">
    <pipelet href="enfinity:/bc_foundation/pipelets/VerifyInteger.xml"/>
<!--@BendPoints 61,20-->
    <nodeSuccessors name="next" next="SetPage5"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode25"/>
    <parameterBindings name="Locale" nullBinding="true"/>
    <parameterBindings name="LocalizedString" objectPath="PageNumber"/>
    <parameterBindings name="Pattern" nullBinding="true"/>
    <returnValueBindings name="IntegerObject" objectPath="PageNumber"/>
  </nodes>
<!--@Location 30,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetPage5">
    <pipelet href="enfinity:/bc_foundation/pipelets/SetPage.xml"/>
    <nodeSuccessors name="next" next="JoinNode26"/>
    <parameterBindings name="Pageable" objectPath="Promotions"/>
  </nodes>
<!--@Location 18,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode17" strict="true" name="InitGeneralFormData"
      callMode="Private">
<!--@BendPoints 37,4-->
    <nodeSuccessors name="next" next="AddMultipleEntriesToMap3"/>
    <parameters name="Form" type="com.intershop.beehive.core.capi.webform.Form"/>
    <parameters name="PromotionCodeGroup" type="com.intershop.component.marketing.capi.code.PromotionCodeGroup"/>
  </nodes>
<!--@Location 18,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddMultipleEntriesToMap3">
    <configurationValues name="Mode" value="OverwriteValue"/>
    <configurationValues name="ValueSeparatorChar" value=","/>
    <pipelet href="enfinity:/bc_foundation/pipelets/AddMultipleEntriesToMap.xml"/>
    <nodeSuccessors name="next" next="AddMultipleEntriesToMap1"/>
    <parameterBindings name="InMap" objectPath="FormParameters"/>
    <parameterBindings name="Key1" objectPath="Form:Name"/>
    <parameterBindings name="Key2" objectPath="Form:PCGID"/>
    <parameterBindings name="Key3" objectPath="Form:Description"/>
    <parameterBindings name="Key4" objectPath="Form:TimeFrameFromPromotion"/>
    <parameterBindings name="Key5" objectPath="Form:Enabled"/>
    <parameterBindings name="Value1" objectPath="PromotionCodeGroup:Name"/>
    <parameterBindings name="Value2" objectPath="PromotionCodeGroup:ID"/>
    <parameterBindings name="Value3" objectPath="PromotionCodeGroup:Description"/>
    <parameterBindings name="Value4" objectPath="PromotionCodeGroup:UsePromotionTime"/>
    <parameterBindings name="Value5" objectPath="PromotionCodeGroup:Enabled"/>
    <returnValueBindings name="OutMap" objectPath="FormParameters"/>
  </nodes>
<!--@Location 18,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddMultipleEntriesToMap1">
    <configurationValues name="Mode" value="OverwriteValue"/>
    <configurationValues name="ValueSeparatorChar" value=","/>
    <pipelet href="enfinity:/bc_foundation/pipelets/AddMultipleEntriesToMap.xml"/>
    <nodeSuccessors name="next" next="SetFormParameterValues3"/>
    <parameterBindings name="InMap" objectPath="FormParameters"/>
    <parameterBindings name="Key1" objectPath="Form:UsePromotionApps"/>
    <parameterBindings name="Value1" objectPath="PromotionCodeGroup:UsePromotionApps"/>
    <returnValueBindings name="OutMap" objectPath="FormParameters"/>
  </nodes>
<!--@Location 18,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetFormParameterValues3">
    <pipelet href="enfinity:/core/pipelets/SetFormParameterValues.xml"/>
<!--@BendPoints 37,10-->
    <nodeSuccessors name="next" next="DecisionNode15"/>
    <parameterBindings name="FormParameterValuesMap" objectPath="FormParameters"/>
  </nodes>
<!--@Location 18,5-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode15" conditionKey="PromotionCodeGroup:NumberOfReuses"
      operator="eq" conditionValue="0">
    <nodeSuccessors name="decision_yes" next="SetFormParameterValue6"/>
<!--@BendPoints 39,11-->
    <nodeSuccessors name="decision_no" next="SetFormParameterValue8"/>
  </nodes>
<!--@Location 18,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetFormParameterValue6">
    <pipelet href="enfinity:/core/pipelets/SetFormParameterValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode32"/>
    <parameterBindings name="FormParameter" objectPath="Form:TotalReusePerCodeFlag"/>
    <parameterBindings name="Value" constant="(Integer)0"/>
  </nodes>
<!--@Location 18,8-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode32">
    <nodeSuccessors name="next" next="DecisionNode18"/>
  </nodes>
<!--@Location 18,9-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode18" conditionKey="PromotionCodeGroup:NumberOfReusesPerCustomer"
      operator="eq" conditionValue="0">
<!--@BendPoints 37,20-->
    <nodeSuccessors name="decision_yes" next="SetFormParameterValue10"/>
<!--@BendPoints 39,19-->
    <nodeSuccessors name="decision_no" next="SetFormParameterValue9"/>
  </nodes>
<!--@Location 18,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetFormParameterValue10">
    <pipelet href="enfinity:/core/pipelets/SetFormParameterValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode36"/>
    <parameterBindings name="FormParameter" objectPath="Form:TotalReusePerCustomerFlag"/>
    <parameterBindings name="Value" constant="(Integer)0"/>
  </nodes>
<!--@Location 18,12-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode36">
    <nodeSuccessors name="next" next="DecisionNode17"/>
  </nodes>
<!--@Location 18,13-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode17" conditionKey="PromotionCodeGroup:EndDateNull"
      operator="str_neq" conditionValue="true">
<!--@BendPoints 37,29-->
    <nodeSuccessors name="decision_yes" next="JoinNode35"/>
<!--@BendPoints 39,27 39,28-->
    <nodeSuccessors name="decision_no" next="SetFormParameterValue14"/>
  </nodes>
<!--@Location 18,15-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode35">
<!--@BendPoints 37,32-->
    <nodeSuccessors name="next" next="EndNode23"/>
  </nodes>
<!--@Location 18,16-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode23" strict="true">
    <returnValues name="Form" type="com.intershop.beehive.core.capi.webform.Form"/>
  </nodes>
<!--@Location 19,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetFormParameterValue14">
    <pipelet href="enfinity:/core/pipelets/SetFormParameterValue.xml"/>
<!--@BendPoints 39,31-->
    <nodeSuccessors name="next" next="JoinNode35"/>
    <parameterBindings name="FormParameter" objectPath="Form:TimeFrameFromPromotion"/>
    <parameterBindings name="Value" constant="(Boolean)true"/>
  </nodes>
<!--@Location 19,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetFormParameterValue9">
    <pipelet href="enfinity:/core/pipelets/SetFormParameterValue.xml"/>
<!--@BendPoints 39,22-->
    <nodeSuccessors name="next" next="SetFormParameterValue13"/>
    <parameterBindings name="FormParameter" objectPath="Form:TotalReusePerCustomer"/>
    <parameterBindings name="Value" objectPath="PromotionCodeGroup:NumberOfReusesPerCustomer"/>
  </nodes>
<!--@Location 19,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetFormParameterValue13">
    <pipelet href="enfinity:/core/pipelets/SetFormParameterValue.xml"/>
<!--@BendPoints 39,25-->
    <nodeSuccessors name="next" next="JoinNode36"/>
    <parameterBindings name="FormParameter" objectPath="Form:TotalReusePerCustomerFlag"/>
    <parameterBindings name="Value" constant="(Integer)1"/>
  </nodes>
<!--@Location 19,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetFormParameterValue8">
    <pipelet href="enfinity:/core/pipelets/SetFormParameterValue.xml"/>
<!--@BendPoints 39,14-->
    <nodeSuccessors name="next" next="SetFormParameterValue12"/>
    <parameterBindings name="FormParameter" objectPath="Form:TotalReusePerCode"/>
    <parameterBindings name="Value" objectPath="PromotionCodeGroup:NumberOfReuses"/>
  </nodes>
<!--@Location 19,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetFormParameterValue12">
    <pipelet href="enfinity:/core/pipelets/SetFormParameterValue.xml"/>
<!--@BendPoints 39,17-->
    <nodeSuccessors name="next" next="JoinNode32"/>
    <parameterBindings name="FormParameter" objectPath="Form:TotalReusePerCodeFlag"/>
    <parameterBindings name="Value" constant="(Integer)1"/>
  </nodes>
<!--@Location 21,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode16" strict="true" name="InitTargetGroupsFormData"
      callMode="Private">
    <nodeSuccessors name="next" next="AddMultipleEntriesToMap2"/>
    <parameters name="Form" type="com.intershop.beehive.core.capi.webform.Form"/>
    <parameters name="PromotionCodeGroup" type="com.intershop.component.marketing.capi.code.PromotionCodeGroup"/>
  </nodes>
<!--@Location 21,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddMultipleEntriesToMap2">
    <configurationValues name="Mode" value="OverwriteValue"/>
    <configurationValues name="ValueSeparatorChar" value=","/>
    <pipelet href="enfinity:/bc_foundation/pipelets/AddMultipleEntriesToMap.xml"/>
<!--@BendPoints 43,6-->
    <nodeSuccessors name="next" next="SetFormParameterValues1"/>
    <parameterBindings name="InMap" objectPath="FormParameters"/>
    <parameterBindings name="Key1" objectPath="Form:UsePromotionTargetGroups"/>
    <parameterBindings name="Value1" objectPath="PromotionCodeGroup:UsePromotionTargetGroups"/>
    <returnValueBindings name="OutMap" objectPath="FormParameters"/>
  </nodes>
<!--@Location 21,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetFormParameterValues1">
    <pipelet href="enfinity:/core/pipelets/SetFormParameterValues.xml"/>
<!--@BendPoints 43,8-->
    <nodeSuccessors name="next" next="EndNode6"/>
    <parameterBindings name="FormParameterValuesMap" objectPath="FormParameters"/>
  </nodes>
<!--@Location 21,4-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode6" strict="true">
    <returnValues name="Form" type="com.intershop.beehive.core.capi.webform.Form"/>
  </nodes>
<!--@Location 6,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode2" name="New">
<!--@BendPoints 13,4-->
    <nodeSuccessors name="next" next="CreateForm2"/>
  </nodes>
<!--@Location 6,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateForm2">
    <configurationValues name="FormName" value="PromotionCodeGroupDefinition"/>
    <configurationValues name="FormResource" value="PromotionCodeGroupDefinition"/>
    <pipelet href="enfinity:/core/pipelets/CreateForm.xml"/>
<!--@BendPoints 13,8-->
    <nodeSuccessors name="next" next="SetFormParameterValue4"/>
  </nodes>
<!--@Location 6,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetFormParameterValue4">
    <pipelet href="enfinity:/core/pipelets/SetFormParameterValue.xml"/>
    <nodeSuccessors name="next" next="SetFormParameterValue3"/>
    <parameterBindings name="FormParameter" objectPath="Form:TimeFrameFromPromotion"/>
    <parameterBindings name="Value" constant="(Boolean)true"/>
  </nodes>
<!--@Location 6,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetFormParameterValue3">
    <pipelet href="enfinity:/core/pipelets/SetFormParameterValue.xml"/>
    <nodeSuccessors name="next" next="CallNode28"/>
    <parameterBindings name="FormParameter" objectPath="Form:UsePromotionApps"/>
    <parameterBindings name="Value" constant="(Boolean)false"/>
  </nodes>
<!--@Location 6,6-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode28">
    <nodeSuccessors name="next" next="JoinNode45"/>
    <startNode referencedName="ViewPromotionCodeGroup-SetDefaultSelectionInPromotionAppAssignmentForm"/>
  </nodes>
<!--@Location 13,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode12" name="PagingPromotion">
<!--@BendPoints 27,4-->
    <nodeSuccessors name="next" next="CallNode18"/>
  </nodes>
<!--@Location 13,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode18">
<!--@BendPoints 27,6-->
    <nodeSuccessors name="next" next="GetPromotionCodeGroupByID2"/>
    <startNode referencedName="This:Prefix"/>
  </nodes>
<!--@Location 13,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetPromotionCodeGroupByID2">
    <pipelet href="enfinity:/bc_marketing/pipelets/GetPromotionCodeGroupByID.xml"/>
    <nodeSuccessors name="next" next="CallNode19"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode22"/>
    <parameterBindings name="GroupID" objectPath="PromotionCodeGroupID"/>
  </nodes>
<!--@Location 13,7-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode19">
<!--@BendPoints 27,19-->
    <nodeSuccessors name="next" next="JoinNode0"/>
    <startNode referencedName="ViewPromotionCodeGroup-GetPageablePromotion"/>
  </nodes>
<!--@Location 0,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode3" strict="true" name="Prefix"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode3"/>
<!--the current selected channel-->
    <parameters name="CurrentChannel" type="java.lang.Object" optional="true"/>
  </nodes>
<!--@Location 0,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode3">
    <nodeSuccessors name="next" next="EndNode1"/>
    <parameterBindings name="Channel" objectPath="CurrentChannel"/>
    <startNode referencedName="ProcessPromotion-GetPromotionDomainByChannel"/>
    <returnValueBindings name="PromotionDomain" objectPath="Domain"/>
  </nodes>
<!--@Location 0,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode1" strict="true">
<!--the domain a promotion will be assigned to-->
    <returnValues name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 34,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode9" name="RemovePromotion">
<!--@BendPoints 69,4-->
    <nodeSuccessors name="next" next="CallNode20"/>
  </nodes>
<!--@Location 34,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode20">
    <nodeSuccessors name="next" next="Call2"/>
    <startNode referencedName="ViewPromotionCodeGroup-Prefix"/>
  </nodes>
<!--@Location 34,3-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call2">
<!--@BendPoints 69,8-->
    <nodeSuccessors name="next" next="GetPromotionCodeGroupByID5"/>
    <startNode referencedName="ProcessClipboard-Get"/>
  </nodes>
<!--@Location 34,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetPromotionCodeGroupByID5">
    <pipelet href="enfinity:/bc_marketing/pipelets/GetPromotionCodeGroupByID.xml"/>
<!--@BendPoints 69,10-->
    <nodeSuccessors name="next" next="Loop2"/>
<!--@BendPoints 71,9-->
    <nodeSuccessors name="pipelet_error" next="JoinNode34"/>
    <parameterBindings name="GroupID" objectPath="PromotionCodeGroupID"/>
  </nodes>
<!--@Location 34,5-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="Loop2" loop="UUIDIterator">
    <nodeSuccessors name="next" next="JoinNode34"/>
    <entry key="PromotionUUID">
<!--@BendPoints 69,12-->
      <nodeSuccessors name="loop_entry_next" next="GetPromotionByUUID1"/>
    </entry>
  </nodes>
<!--@Location 34,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetPromotionByUUID1">
    <pipelet href="enfinity:/bc_marketing/pipelets/GetPromotionByUUID.xml"/>
<!--@BendPoints 69,14-->
    <nodeSuccessors name="next" next="CallNode21"/>
<!--@BendPoints 71,13 71,17-->
    <nodeSuccessors name="pipelet_error" next="JoinNode33"/>
  </nodes>
<!--@Location 34,7-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode21">
    <nodeSuccessors name="next" next="JoinNode33"/>
    <startNode referencedName="ProcessPromotionCodeGroup-RemoveFromPromotion"/>
  </nodes>
<!--@Location 34,8-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode33">
<!--@BendPoints 68,17 68,11-->
    <nodeSuccessors name="next" next="Loop2_Entry"/>
  </nodes>
<!--@Location 35,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode34">
    <nodeSuccessors name="next" next="InvalidatePageLocatorPageable2"/>
  </nodes>
<!--@Location 36,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="InvalidatePageLocatorPageable2">
    <configurationValues name="DefaultPageLocatorName" value="PromotionPromotionCodeGroups"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/InvalidatePageLocatorPageable.xml"/>
    <nodeSuccessors name="next" next="Jump3"/>
  </nodes>
<!--@Location 36,6-->
  <nodes xsi:type="pipeline:JumpNode" nodeID="Jump3">
    <startNode referencedName="ViewPromotionCodeGroup-Edit"/>
  </nodes>
<!--@Location 14,24-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode24" name="SetAppAssignmentInPromoCodeGroupAppAssignmentForm"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode37"/>
  </nodes>
<!--@Location 14,25-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode37">
    <nodeSuccessors name="next" next="KeyMapper8"/>
    <startNode referencedName="ViewPromotionCodeGroup-CreatePromotionAppAssignmentForm"/>
  </nodes>
<!--@Location 14,26-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper8">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="LoopNode4"/>
    <parameterBindings name="InValue_1" objectPath="PromotionCodeGroup:createAppIDsIterator"/>
    <returnValueBindings name="OutValue_1" objectPath="AssignedAppIDs"/>
  </nodes>
<!--@Location 14,27-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode4" loop="AssignedAppIDs">
<!--@BendPoints 31,55-->
    <nodeSuccessors name="next" next="EndNode15"/>
    <entry key="AppUUID">
      <nodeSuccessors name="loop_entry_next" next="SetFormParameterValue2"/>
    </entry>
  </nodes>
<!--@Location 14,29-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetFormParameterValue2">
    <pipelet href="enfinity:/core/pipelets/SetFormParameterValue.xml"/>
<!--@BendPoints 27,59 27,55-->
    <nodeSuccessors name="next" next="LoopNode4_Entry"/>
    <parameterBindings name="FormParameter" objectPath="PromotionAppAssignmentForm:get(AppUUID):Selection"/>
    <parameterBindings name="Value" constant="(Boolean)true"/>
  </nodes>
<!--@Location 15,29-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode15"/>
<!--@Location 3,24-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode22" name="SetDefaultSelectionInPromotionAppAssignmentForm"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode34"/>
  </nodes>
<!--@Location 3,25-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode34">
    <nodeSuccessors name="next" next="LoopNode1"/>
    <startNode referencedName="ViewPromotionCodeGroup-CreatePromotionAppAssignmentForm"/>
  </nodes>
<!--@Location 3,26-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode1" loop="Apps">
<!--@BendPoints 10,53-->
    <nodeSuccessors name="next" next="EndNode12"/>
    <entry key="App">
<!--@BendPoints 7,54-->
      <nodeSuccessors name="loop_entry_next" next="DecisionNode29"/>
    </entry>
  </nodes>
<!--@Location 3,27-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode29" conditionKey="App:Default">
    <nodeSuccessors name="decision_yes" next="DecisionNode30"/>
<!--@BendPoints 9,55-->
    <nodeSuccessors name="decision_no" next="JoinNode16"/>
  </nodes>
<!--@Location 3,28-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode30" conditionKey="App:Default"
      operator="str_eq" conditionValue="true">
<!--@BendPoints 7,58-->
    <nodeSuccessors name="decision_yes" next="SetFormParameterValue1"/>
    <nodeSuccessors name="decision_no" next="JoinNode16"/>
  </nodes>
<!--@Location 3,29-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetFormParameterValue1">
    <pipelet href="enfinity:/core/pipelets/SetFormParameterValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode12"/>
    <parameterBindings name="FormParameter" objectPath="PromotionAppAssignmentForm:get(App:UUID):Selection"/>
    <parameterBindings name="Value" constant="(Boolean)true"/>
  </nodes>
<!--@Location 3,30-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode12">
<!--@BendPoints 6,61 6,53-->
    <nodeSuccessors name="next" next="LoopNode1_Entry"/>
  </nodes>
<!--@Location 4,28-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode16">
<!--@BendPoints 9,61-->
    <nodeSuccessors name="next" next="JoinNode12"/>
  </nodes>
<!--@Location 5,26-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode12"/>
<!--@Location 15,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode13" strict="true" name="SetReuseValues"
      callMode="Private">
<!--@BendPoints 31,4-->
    <nodeSuccessors name="next" next="DecisionNode14"/>
    <parameters name="Form" type="com.intershop.beehive.core.capi.webform.Form"/>
  </nodes>
<!--@Location 15,2-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode14" conditionKey="Form:TotalReusePerCodeFlag:Value"
      operator="eq" conditionValue="1">
    <nodeSuccessors name="decision_yes" next="KeyMapper1"/>
<!--@BendPoints 33,5 33,6-->
    <nodeSuccessors name="decision_no" next="KeyMapper4"/>
  </nodes>
<!--@Location 15,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper1">
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="JoinNode41"/>
    <parameterBindings name="InValue_1" objectPath="Form:TotalReusePerCode:Value"/>
    <returnValueBindings name="OutValue_1" objectPath="ReusesPerCode"/>
  </nodes>
<!--@Location 15,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode41">
    <nodeSuccessors name="next" next="DecisionNode16"/>
  </nodes>
<!--@Location 15,5-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode16" conditionKey="Form:TotalReusePerCustomerFlag:Value"
      operator="eq" conditionValue="1">
    <nodeSuccessors name="decision_yes" next="KeyMapper6"/>
<!--@BendPoints 33,11 33,12-->
    <nodeSuccessors name="decision_no" next="KeyMapper2"/>
  </nodes>
<!--@Location 15,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper6">
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="JoinNode40"/>
    <parameterBindings name="InValue_1" objectPath="Form:TotalReusePerCustomer:Value"/>
    <returnValueBindings name="OutValue_1" objectPath="ReusesPerCustomer"/>
  </nodes>
<!--@Location 15,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode40">
<!--@BendPoints 31,16-->
    <nodeSuccessors name="next" next="EndNode5"/>
  </nodes>
<!--@Location 15,8-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode5" strict="true">
    <returnValues name="ReusesPerCode" type="java.lang.Integer"/>
    <returnValues name="ReusesPerCustomer" type="java.lang.Integer"/>
  </nodes>
<!--@Location 16,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper2">
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
<!--@BendPoints 33,15-->
    <nodeSuccessors name="next" next="JoinNode40"/>
    <parameterBindings name="InValue_1" objectPath="Form:TotalReusePerCustomerFlag:Value"/>
    <returnValueBindings name="OutValue_1" objectPath="ReusesPerCustomer"/>
  </nodes>
<!--@Location 16,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper4">
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
<!--@BendPoints 33,9-->
    <nodeSuccessors name="next" next="JoinNode41"/>
    <parameterBindings name="InValue_1" objectPath="Form:TotalReusePerCodeFlag:Value"/>
    <returnValueBindings name="OutValue_1" objectPath="ReusesPerCode"/>
  </nodes>
<!--@Location 18,24-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode19" name="ShowApplicationSelectionError"
      callMode="Private">
    <nodeSuccessors name="next" next="DecisionNode20"/>
  </nodes>
<!--@Location 18,25-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode20" conditionKey="Form:UsePromotionApps:FormattedValue"
      operator="str_eq" conditionValue="false">
    <nodeSuccessors name="decision_yes" next="DecisionNode1"/>
<!--@BendPoints 43,51-->
    <nodeSuccessors name="decision_no" next="JoinNode46"/>
  </nodes>
<!--@Location 18,26-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode1" conditionKey="Apps">
<!--@BendPoints 37,54-->
    <nodeSuccessors name="decision_yes" next="DecisionNode12"/>
    <nodeSuccessors name="decision_no" next="JoinNode46"/>
  </nodes>
<!--@Location 18,27-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode12" conditionKey="Apps"
      operator="has_elements">
<!--@BendPoints 37,56-->
    <nodeSuccessors name="decision_yes" next="LoopNode3"/>
    <nodeSuccessors name="decision_no" next="JoinNode9"/>
  </nodes>
<!--@Location 18,28-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode3" loop="Apps">
<!--@BendPoints 38,57-->
    <nodeSuccessors name="next" next="SetFormError1"/>
    <entry key="App">
<!--@BendPoints 37,58-->
      <nodeSuccessors name="loop_entry_next" next="DecisionNode13"/>
    </entry>
  </nodes>
<!--@Location 18,29-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode13" conditionKey="PromotionAppAssignmentForm:get(App:UUID):Selection:Value"
      operator="str_neq" conditionValue="true">
<!--@BendPoints 37,60 36,57-->
    <nodeSuccessors name="decision_yes" next="LoopNode3_Entry"/>
    <nodeSuccessors name="decision_no" next="JoinNode43"/>
  </nodes>
<!--@Location 19,29-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode43">
<!--@BendPoints 39,62-->
    <nodeSuccessors name="next" next="EndNode7"/>
  </nodes>
<!--@Location 19,31-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode7" name="NO"/>
<!--@Location 19,28-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetFormError1">
    <pipelet href="enfinity:/core/pipelets/SetFormError.xml"/>
<!--@BendPoints 40,57-->
    <nodeSuccessors name="next" next="EndNode8"/>
    <parameterBindings name="ErrorMsg" constant="error.Application"/>
    <parameterBindings name="TargetObject" objectPath="PromotionAppAssignmentForm"/>
  </nodes>
<!--@Location 20,28-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode8" name="YES"/>
<!--@Location 21,27-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode9">
<!--@BendPoints 43,59-->
    <nodeSuccessors name="next" next="JoinNode43"/>
  </nodes>
<!--@Location 21,26-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode46">
    <nodeSuccessors name="next" next="JoinNode9"/>
  </nodes>
<!--@Location 37,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode15" name="ShowTargetGroups">
<!--@BendPoints 75,4-->
    <nodeSuccessors name="next" next="CallNode24"/>
  </nodes>
<!--@Location 37,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode24">
<!--@BendPoints 75,6-->
    <nodeSuccessors name="next" next="GetPromotionCodeGroupByID4"/>
    <startNode referencedName="This:Prefix"/>
  </nodes>
<!--@Location 37,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetPromotionCodeGroupByID4">
    <pipelet href="enfinity:/bc_marketing/pipelets/GetPromotionCodeGroupByID.xml"/>
<!--@BendPoints 75,8-->
    <nodeSuccessors name="next" next="CreateForm5"/>
<!--@BendPoints 76,7 76,13-->
    <nodeSuccessors name="pipelet_error" next="JoinNode38"/>
    <parameterBindings name="GroupID" objectPath="PromotionCodeGroupID"/>
  </nodes>
<!--@Location 37,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateForm5">
    <configurationValues name="FormName" value="PromotionCodeGroupTargetGroups"/>
    <configurationValues name="FormResource" value="PromotionCodeGroupTargetGroups"/>
    <pipelet href="enfinity:/core/pipelets/CreateForm.xml"/>
<!--@BendPoints 75,10-->
    <nodeSuccessors name="next" next="CallNode26"/>
  </nodes>
<!--@Location 37,5-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode26">
    <nodeSuccessors name="next" next="JoinNode38"/>
    <startNode referencedName="ViewPromotionCodeGroup-InitTargetGroupsFormData"/>
  </nodes>
<!--@Location 37,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode38">
<!--@BendPoints 75,16-->
    <nodeSuccessors name="next" next="ConcatenateStrings2"/>
  </nodes>
<!--@Location 38,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ConcatenateStrings2">
    <configurationValues name="DefaultString0" value="ViewPromotionCodeGroupTargetGroup_"/>
    <configurationValues name="DefaultString2" value="-ShowAll"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/ConcatenateStrings.xml"/>
<!--@BendPoints 77,18-->
    <nodeSuccessors name="next" next="JumpNode4"/>
    <parameterBindings name="String0" nullBinding="true"/>
    <parameterBindings name="String1" objectPath="CurrentChannel:TypeCode"/>
    <parameterBindings name="String2" nullBinding="true"/>
    <returnValueBindings name="Concatenated" objectPath="ViewPromotionTargetGroup_XX-ShowAll"/>
  </nodes>
<!--@Location 38,9-->
  <nodes xsi:type="pipeline:JumpNode" nodeID="JumpNode4">
    <startNode objectPath="ViewPromotionTargetGroup_XX-ShowAll"/>
  </nodes>
<!--@Location 9,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode18" name="Sort">
<!--@BendPoints 19,4-->
    <nodeSuccessors name="next" next="CallNode35"/>
  </nodes>
<!--@Location 9,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode35">
<!--@BendPoints 19,6-->
    <nodeSuccessors name="next" next="GetPromotionCodeGroupByID7"/>
    <startNode referencedName="This:Prefix"/>
  </nodes>
<!--@Location 9,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetPromotionCodeGroupByID7">
    <pipelet href="enfinity:/bc_marketing/pipelets/GetPromotionCodeGroupByID.xml"/>
    <nodeSuccessors name="next" next="CallNode41"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode22"/>
    <parameterBindings name="GroupID" objectPath="PromotionCodeGroupID"/>
  </nodes>
<!--@Location 9,6-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode41">
    <nodeSuccessors name="next" next="Pipelet1"/>
    <nodeSuccessors name="ERROR" next="JoinNode30"/>
    <parameterBindings name="Domain" objectPath="PromotionCodeGroup:Domain"/>
    <parameterBindings name="Locale" objectPath="CurrentSession:Locale"/>
    <parameterBindings name="PromotionCodeGroupID" objectPath="PromotionCodeGroup:ID"/>
    <startNode referencedName="ViewPromotionCodeGroup-SortPromotionForPromotionCodeGroup"/>
  </nodes>
<!--@Location 9,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet1">
    <configurationValues name="DefaultHandlerPipeline" value="ViewPromotionCode-PagingPromotion"/>
    <configurationValues name="DefaultPageLocatorName" value="PromotionCodeGroupPromotions"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetPageLocator.xml"/>
    <nodeSuccessors name="next" next="JoinNode30"/>
    <parameterBindings name="HandlerPipeline" nullBinding="true"/>
    <parameterBindings name="PageLocatorName" nullBinding="true"/>
    <parameterBindings name="Pageable" objectPath="Promotions"/>
  </nodes>
<!--@Location 10,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode30">
    <nodeSuccessors name="next" next="CallNode19"/>
  </nodes>
<!--@Location 23,24-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode20" strict="true" name="SortPromotionForPromotionCodeGroup"
      callMode="Private">
<!--@BendPoints 47,50-->
    <nodeSuccessors name="next" next="ExecutePageableQuery3"/>
    <parameters name="SortDirection" type="java.lang.String" optional="true"/>
    <parameters name="SortBy" type="java.lang.String" optional="true"/>
    <parameters name="Locale" type="com.intershop.beehive.core.capi.localization.LocaleInformation"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="PromotionCodeGroupID" type="java.lang.String"/>
  </nodes>
<!--Sorts the promotion of a given Promotion Code Group by a given input parameter.
@Location 23,25-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExecutePageableQuery3">
    <configurationValues name="DefaultPageSize" value="10"/>
    <configurationValues name="ParameterName_01" value="SortBy"/>
    <configurationValues name="ParameterName_02" value="SortDirection"/>
    <configurationValues name="ParameterName_03" value="Domain"/>
    <configurationValues name="ParameterName_04" value="PromotionCodeGroupID"/>
    <configurationValues name="ParameterName_05" value="Locale"/>
    <configurationValues name="QueryName" value="marketing/SortPromotionForPromotionCodeGroup"/>
    <pipelet href="enfinity:/core/pipelets/ExecutePageableQuery.xml"/>
<!--@BendPoints 47,52-->
    <nodeSuccessors name="next" next="EndNode9"/>
<!--@BendPoints 49,51 49,52-->
    <nodeSuccessors name="pipelet_error" next="EndNode10"/>
    <parameterBindings name="PageSize" objectPath="15"/>
    <parameterBindings name="ParameterValue_01" objectPath="SortBy"/>
    <parameterBindings name="ParameterValue_02" objectPath="SortDirection"/>
    <parameterBindings name="ParameterValue_03" objectPath="Domain"/>
    <parameterBindings name="ParameterValue_04" objectPath="PromotionCodeGroupID"/>
    <parameterBindings name="ParameterValue_05" objectPath="Locale"/>
    <returnValueBindings name="SearchResult" objectPath="Promotions"/>
  </nodes>
<!--@Location 23,26-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode9" strict="true">
    <returnValues name="Promotions" type="com.intershop.beehive.core.capi.paging.PageableIterator"/>
  </nodes>
<!--@Location 24,26-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode10" name="ERROR" strict="true"/>
<!--@Location 7,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode5" name="Update">
<!--@BendPoints 15,4-->
    <nodeSuccessors name="next" next="CallNode14"/>
  </nodes>
<!--@Location 7,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode14">
<!--@BendPoints 15,6-->
    <nodeSuccessors name="next" next="CreateForm3"/>
    <startNode referencedName="This:Prefix"/>
  </nodes>
<!--@Location 7,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateForm3">
    <configurationValues name="FormName" value="PromotionCodeGroupDefinition"/>
    <configurationValues name="FormResource" value="PromotionCodeGroupDefinition"/>
    <pipelet href="enfinity:/core/pipelets/CreateForm.xml"/>
    <nodeSuccessors name="next" next="GetPromotionCodeGroupByID1"/>
  </nodes>
<!--@Location 7,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetPromotionCodeGroupByID1">
    <pipelet href="enfinity:/bc_marketing/pipelets/GetPromotionCodeGroupByID.xml"/>
    <nodeSuccessors name="next" next="CallNode31"/>
<!--@BendPoints 17,9-->
    <nodeSuccessors name="pipelet_error" next="JoinNode47"/>
    <parameterBindings name="GroupID" objectPath="PromotionCodeGroupID"/>
  </nodes>
<!--@Location 7,5-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode31">
    <nodeSuccessors name="next" next="ValidateForm2"/>
    <startNode referencedName="ViewPromotionCodeGroup-ValidateAppAssignmentForm"/>
  </nodes>
<!--@Location 7,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ValidateForm2">
    <pipelet href="enfinity:/core/pipelets/ValidateForm.xml"/>
    <nodeSuccessors name="next" next="JoinNode5"/>
<!--@BendPoints 16,13 16,15-->
    <nodeSuccessors name="pipelet_error" next="JoinNode5"/>
  </nodes>
<!--@Location 7,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode5">
    <nodeSuccessors name="next" next="CallNode39"/>
  </nodes>
<!--@Location 7,8-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode39">
    <nodeSuccessors name="YES" next="JoinNode47"/>
    <nodeSuccessors name="NO" next="DecisionNode21"/>
    <startNode referencedName="ViewPromotionCodeGroup-ShowApplicationSelectionError"/>
  </nodes>
<!--@Location 8,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode47">
    <nodeSuccessors name="next" next="JoinNode24"/>
  </nodes>
<!--@Location 8,11-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode24">
    <nodeSuccessors name="next" next="JoinNode11"/>
  </nodes>
<!--@Location 8,18-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode11">
<!--@BendPoints 17,37 17,41-->
    <nodeSuccessors name="next" next="JoinNode4"/>
  </nodes>
<!--@Location 7,20-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode4">
    <nodeSuccessors name="next" next="CallNode17"/>
  </nodes>
<!--@Location 7,21-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode17">
    <nodeSuccessors name="next" next="JoinNode6"/>
    <startNode referencedName="ViewPromotionCodeGroup-GetPageablePromotion"/>
  </nodes>
<!--@Location 7,9-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode21" conditionKey="Form:Invalid"
      operator="str_eq" conditionValue="false">
    <nodeSuccessors name="decision_yes" next="CallNode11"/>
    <nodeSuccessors name="decision_no" next="JoinNode47"/>
  </nodes>
<!--@Location 7,10-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode11">
<!--@BendPoints 15,24-->
    <nodeSuccessors name="next" next="CallNode23"/>
    <nodeSuccessors name="Failed" next="JoinNode24"/>
    <startNode referencedName="ViewPromotionCodeGroup-ChecklReuseValues"/>
  </nodes>
<!--@Location 7,14-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode23">
    <nodeSuccessors name="next" next="KeyMapper7"/>
    <startNode referencedName="ViewPromotionCodeGroup-SetReuseValues"/>
  </nodes>
<!--@Location 7,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper7">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="CallNode6"/>
    <parameterBindings name="InValue_1" objectPath="PromotionCodeGroup:NumberOfReuses"/>
    <returnValueBindings name="OutValue_1" objectPath="PromotionCodeGroup_NumberOfReuses_OLD"/>
  </nodes>
<!--@Location 7,16-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode6">
    <nodeSuccessors name="next" next="CallNode32"/>
    <parameterBindings name="Description" objectPath="Form:Description:Value"/>
    <parameterBindings name="DisplayName" objectPath="Form:Name:Value"/>
    <parameterBindings name="Enabled" objectPath="Form:Enabled:Value"/>
    <parameterBindings name="EndDate" objectPath="Form:EndDate:Value"/>
    <parameterBindings name="StartDate" objectPath="Form:StartDate:Value"/>
    <parameterBindings name="UsePromotionApps" objectPath="Form:UsePromotionApps:Value"/>
    <parameterBindings name="UsePromotionTime" objectPath="Form:TimeFrameFromPromotion:Value"/>
    <startNode referencedName="ProcessPromotionCodeGroup-Update"/>
  </nodes>
<!--@Location 7,17-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode32">
    <nodeSuccessors name="next" next="DecisionNode2"/>
    <startNode referencedName="ViewPromotionCodeGroup-UpdateAppAssignments"/>
  </nodes>
<!--@Location 7,18-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode2" conditionKey="PromotionCodeGroup_NumberOfReuses_OLD"
      operator="neq" conditionItem="PromotionCodeGroup:NumberOfReuses">
    <nodeSuccessors name="decision_yes" next="ExecuteUpdateQuery1"/>
    <nodeSuccessors name="decision_no" next="JoinNode11"/>
  </nodes>
<!--@Location 7,19-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExecuteUpdateQuery1">
    <configurationValues name="ParameterName_01" value="PromotionCodeGroupID"/>
    <configurationValues name="ParameterName_02" value="ReUse"/>
    <configurationValues name="QueryName" value="marketing/UpdatePromotionCodeStatus"/>
    <pipelet href="enfinity:/core/pipelets/ExecuteUpdateQuery.xml"/>
    <nodeSuccessors name="next" next="JoinNode4"/>
    <parameterBindings name="ParameterValue_01" objectPath="PromotionCodeGroup:ID"/>
    <parameterBindings name="ParameterValue_02" objectPath="PromotionCodeGroup:NumberOfReuses"/>
  </nodes>
<!--@Location 10,24-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode23" name="UpdateAppAssignments"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode29"/>
  </nodes>
<!--@Location 10,25-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode29">
    <nodeSuccessors name="next" next="LoopNode2"/>
    <parameterBindings name="Channel" objectPath="CurrentChannel"/>
    <startNode referencedName="ProcessPromotion-GetPromotionDomainByChannel"/>
  </nodes>
<!--@Location 10,26-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode2" loop="Apps">
<!--@BendPoints 25,53 25,58-->
    <nodeSuccessors name="next" next="EndNode14"/>
    <entry key="App">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode11"/>
    </entry>
  </nodes>
<!--@Location 10,27-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode11" conditionKey="PromotionCodeGroup:UsePromotionApps"
      operator="str_eq" conditionValue="false">
    <nodeSuccessors name="decision_yes" next="DecisionNode9"/>
<!--@BendPoints 23,55-->
    <nodeSuccessors name="decision_no" next="JoinNode21"/>
  </nodes>
<!--@Location 10,28-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode9" conditionKey="PromotionAppAssignmentForm:get(App:UUID):Selection:Value"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="AssignPromotionCodeGroupToApplication1"/>
    <nodeSuccessors name="decision_no" next="JoinNode21"/>
  </nodes>
<!--@Location 10,29-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AssignPromotionCodeGroupToApplication1">
    <pipelet href="enfinity:/bc_marketing/pipelets/AssignPromotionCodeGroupToApplication.xml"/>
    <nodeSuccessors name="next" next="JoinNode17"/>
    <parameterBindings name="Application" objectPath="App"/>
    <parameterBindings name="Domain" objectPath="PromotionDomain"/>
  </nodes>
<!--@Location 10,30-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode17">
<!--@BendPoints 18,61 18,53-->
    <nodeSuccessors name="next" next="LoopNode2_Entry"/>
  </nodes>
<!--@Location 11,28-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode21">
    <nodeSuccessors name="next" next="UnassignPromotionCodeGroupFromApplication1"/>
  </nodes>
<!--@Location 11,29-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UnassignPromotionCodeGroupFromApplication1">
    <pipelet href="enfinity:/bc_marketing/pipelets/UnassignPromotionCodeGroupFromApplication.xml"/>
    <nodeSuccessors name="next" next="SetFormParameterValue0"/>
    <parameterBindings name="Application" objectPath="App"/>
    <parameterBindings name="Domain" objectPath="PromotionDomain"/>
  </nodes>
<!--@Location 11,30-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetFormParameterValue0">
    <pipelet href="enfinity:/core/pipelets/SetFormParameterValue.xml"/>
    <nodeSuccessors name="next" next="JoinNode17"/>
    <parameterBindings name="FormParameter" objectPath="PromotionAppAssignmentForm:get(App:UUID):Selection"/>
    <parameterBindings name="Value" constant="(Boolean)false"/>
  </nodes>
<!--@Location 12,31-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode14"/>
<!--@Location 39,1-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode14" name="UpdateTargetGroups">
<!--@BendPoints 79,4-->
    <nodeSuccessors name="next" next="CallNode25"/>
  </nodes>
<!--@Location 39,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode25">
<!--@BendPoints 79,6-->
    <nodeSuccessors name="next" next="GetPromotionCodeGroupByID6"/>
    <startNode referencedName="This:Prefix"/>
  </nodes>
<!--@Location 39,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetPromotionCodeGroupByID6">
    <pipelet href="enfinity:/bc_marketing/pipelets/GetPromotionCodeGroupByID.xml"/>
<!--@BendPoints 79,8-->
    <nodeSuccessors name="next" next="CreateForm6"/>
<!--@BendPoints 81,7-->
    <nodeSuccessors name="pipelet_error" next="JoinNode42"/>
    <parameterBindings name="GroupID" objectPath="PromotionCodeGroupID"/>
  </nodes>
<!--@Location 39,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateForm6">
    <configurationValues name="FormName" value="PromotionCodeGroupTargetGroups"/>
    <configurationValues name="FormResource" value="PromotionCodeGroupTargetGroups"/>
    <pipelet href="enfinity:/core/pipelets/CreateForm.xml"/>
<!--@BendPoints 79,10-->
    <nodeSuccessors name="next" next="ValidateForm3"/>
  </nodes>
<!--@Location 39,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ValidateForm3">
    <pipelet href="enfinity:/core/pipelets/ValidateForm.xml"/>
<!--@BendPoints 79,12-->
    <nodeSuccessors name="next" next="CallNode30"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode42"/>
  </nodes>
<!--@Location 39,6-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode30">
    <nodeSuccessors name="next" next="JoinNode37"/>
    <parameterBindings name="UsePromotionTargetGroups" objectPath="Form:UsePromotionTargetGroups:Value"/>
    <startNode referencedName="ProcessPromotionCodeGroup-Update"/>
  </nodes>
<!--@Location 39,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode37">
<!--@BendPoints 79,16-->
    <nodeSuccessors name="next" next="ConcatenateStrings2"/>
  </nodes>
<!--@Location 40,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode42">
<!--@BendPoints 81,15-->
    <nodeSuccessors name="next" next="JoinNode37"/>
  </nodes>
<!--@Location 26,24-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode21" name="ValidateAppAssignmentForm"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode36"/>
  </nodes>
<!--@Location 26,25-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode36">
    <nodeSuccessors name="next" next="DecisionNode10"/>
    <startNode referencedName="ViewPromotionCodeGroup-CreatePromotionAppAssignmentForm"/>
  </nodes>
<!--@Location 26,26-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode10" conditionKey="Apps"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="ValidateForm5"/>
<!--@BendPoints 55,53 55,59-->
    <nodeSuccessors name="decision_no" next="JoinNode23"/>
  </nodes>
<!--@Location 26,27-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ValidateForm5">
    <pipelet href="enfinity:/core/pipelets/ValidateForm.xml"/>
    <nodeSuccessors name="next" next="JoinNode20"/>
<!--@BendPoints 54,55 54,57-->
    <nodeSuccessors name="pipelet_error" next="JoinNode20"/>
    <parameterBindings name="Form" objectPath="PromotionAppAssignmentForm"/>
  </nodes>
<!--@Location 26,28-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode20">
    <nodeSuccessors name="next" next="JoinNode23"/>
  </nodes>
<!--@Location 26,29-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode23">
<!--@BendPoints 53,60-->
    <nodeSuccessors name="next" next="EndNode13"/>
  </nodes>
<!--@Location 26,30-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode13"/>
</pipeline:Pipeline>
