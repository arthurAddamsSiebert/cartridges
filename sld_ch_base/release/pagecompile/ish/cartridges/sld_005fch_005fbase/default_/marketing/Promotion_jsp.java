/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: JspCServletContext/1.0
 * Generated at: 2019-02-13 15:29:12 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package ish.cartridges.sld_005fch_005fbase.default_.marketing;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.*;
import java.io.*;
import com.intershop.beehive.core.internal.template.*;
import com.intershop.beehive.core.internal.template.isml.*;
import com.intershop.beehive.core.capi.log.*;
import com.intershop.beehive.core.capi.resource.*;
import com.intershop.beehive.core.capi.util.UUIDMgr;
import com.intershop.beehive.core.capi.util.XMLHelper;
import com.intershop.beehive.foundation.util.*;
import com.intershop.beehive.core.internal.url.*;
import com.intershop.beehive.core.internal.resource.*;
import com.intershop.beehive.core.internal.wsrp.*;
import com.intershop.beehive.core.capi.pipeline.PipelineDictionary;
import com.intershop.beehive.core.capi.naming.NamingMgr;
import com.intershop.beehive.core.capi.pagecache.PageCacheMgr;
import com.intershop.beehive.core.capi.request.SessionMgr;
import com.intershop.beehive.core.internal.request.SessionMgrImpl;
import com.intershop.beehive.core.pipelet.PipelineConstants;

public final class Promotion_jsp extends com.intershop.beehive.core.internal.template.AbstractTemplate
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html;charset=utf-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 0, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

 
boolean _boolean_result=false;
TemplateExecutionConfig context = getTemplateExecutionConfig();
createTemplatePageConfig(context.getServletRequest());
printHeader(out);
 
 
setEncodingType("text/html"); 
      out.write("<!-- Working Area -->");
 {out.flush();processLocalIncludeByServer((com.intershop.beehive.core.capi.request.ServletResponse)response,"marketing/Modules", null, "4");} 
      out.write("<script type=\"text/javascript\">\n// Enables, disables budget fields depending on the selected currency.\nfunction setBudgetParameter( currency )\n{\nif( currency.value == '.All.')\n{ \ndocument.getElementById( 'unlimitedPromotion' ).checked = true;\ndocument.getElementById( 'unlimitedPromotion' ).disabled = true;\ndocument.getElementById( 'limitedPromotion' ).checked = false;\ndocument.getElementById( 'limitedPromotion' ).disabled = true;\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfBudgetReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {17}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).checked = false;\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfThresholdReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {18}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).checked = false;\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:DisableByBudget:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {19}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).checked = false;\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetAmount:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {20}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).disabled = true;\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetAmount:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {21}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).value = '';\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationThreshold:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {22}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).disabled = true;\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationThreshold:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {23}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).value = '';\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationEmail:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {24}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).disabled = true;\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationEmail:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {25}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).value = '';\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:DisableByBudget:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {26}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).disabled = true;\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfBudgetReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {27}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).disabled = true;\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfThresholdReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {28}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).disabled = true;\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetSource:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {29}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).disabled = true;\ndocument.getElementById( 'budgetCurrency').innerHTML='&nbsp;';\n$('");
      out.print(context.getFormattedValue("#",null));
      out.write("unlimitedPromotion').after('<input type=\"hidden\" id=\"unlimitedPromotionCurrencyAll\" name=\"GeneralPromotionInformation_Unlimited\" value=\"true\"/>');\n} \nelse\n{\ndocument.getElementById( 'unlimitedPromotion' ).checked = true;\ndocument.getElementById( 'unlimitedPromotion' ).disabled = false;\ndocument.getElementById( 'limitedPromotion' ).checked = false;\ndocument.getElementById( 'limitedPromotion' ).disabled = false;\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfBudgetReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {39}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).checked = false;\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfThresholdReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {40}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).checked = false;\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:DisableByBudget:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {41}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).checked = false;\ntoogleUnlimited(true)\ndocument.getElementById( 'budgetCurrency').innerHTML=currency.value;\n$('");
      out.print(context.getFormattedValue("#",null));
      out.write("unlimitedPromotionCurrencyAll').remove();\n}\n}\n// Enables, disables budget fields, if budget is either unlimited or limited.\nfunction toogleUnlimited(value) \n{ \ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfBudgetReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {51}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).disabled = value;\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfThresholdReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {52}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).disabled = value;\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:DisableByBudget:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {53}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).disabled = value;\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetAmount:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {54}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).disabled = value;\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationThreshold:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {55}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).disabled = value;\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationEmail:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {56}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).disabled = value;\ndocument.getElementById( '");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetSource:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {57}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("' ).disabled = value;\n}\nfunction toggleTimeZone(scope)\n{\n// Use campaign start and end date\nif(scope === 'scopeCampaign' ) {\n$(\"");
      out.print(context.getFormattedValue("#",null));
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:StartDate:StartDate_Day:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {65}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\").val('");
 {String value = null;try{value=context.getFormattedValue(context.getFormattedValue(getObject("Promotion:Campaign:StartDate"),new Integer(DATE_INPUT)),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {65}",e);}if (value==null) value="";out.write(value);} 
      out.write("');\n$(\"");
      out.print(context.getFormattedValue("#",null));
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:StartDate:StartDate_Time:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {66}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\").val('");
 {String value = null;try{value=context.getFormattedValue(context.getFormattedValue(getObject("Promotion:Campaign:StartDate"),new Integer(TIME_INPUT)),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {66}",e);}if (value==null) value="";out.write(value);} 
      out.write("');\n$(\"");
      out.print(context.getFormattedValue("#",null));
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:EndDate:EndDate_Day:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {67}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\").val('");
 {String value = null;try{value=context.getFormattedValue(context.getFormattedValue(getObject("Promotion:Campaign:EndDate"),new Integer(DATE_INPUT)),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {67}",e);}if (value==null) value="";out.write(value);} 
      out.write("');\n$(\"");
      out.print(context.getFormattedValue("#",null));
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:EndDate:EndDate_Time:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {68}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\").val('");
 {String value = null;try{value=context.getFormattedValue(context.getFormattedValue(getObject("Promotion:Campaign:EndDate"),new Integer(TIME_INPUT)),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {68}",e);}if (value==null) value="";out.write(value);} 
      out.write("');\n$(\".dateTimeInput\")\n.find(\"input\")\n.prop('readonly', true)\n.addClass('disabled');\n$('[onclick^=\"popCalendar\"]').prop('disabled', true);\n// Activate promotion at the following time\n}else if(scope === 'scopePromotion' ) {\n");
 _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) ((disableErrorMessages().isDefined(getObject("PromotionForm:StartDate:Value"))))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",79,e);}if (_boolean_result) { 
      out.write("\nvar StartDate_Day = \"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:StartDate:StartDate_Day:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {80}",e);}if (value==null) value="";out.write(value);} 
      out.write("\";\nvar StartDate_Time = \"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:StartDate:StartDate_Time:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {81}",e);}if (value==null) value="";out.write(value);} 
      out.write('"');
      out.write(';');
      out.write('\n');
 } else { 
      out.write("\nvar StartDate_Day = \"");
 {String value = null;try{value=context.getFormattedValue(context.getFormattedValue(getObject("PromotionForm:StartDate:Value"),new Integer(DATE_INPUT)),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {83}",e);}if (value==null) value="";out.write(value);} 
      out.write("\";\nvar StartDate_Time = \"");
 {String value = null;try{value=context.getFormattedValue(context.getFormattedValue(getObject("PromotionForm:StartDate:Value"),new Integer(TIME_INPUT)),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {84}",e);}if (value==null) value="";out.write(value);} 
      out.write('"');
      out.write(';');
      out.write('\n');
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) ((disableErrorMessages().isDefined(getObject("PromotionForm:EndDate:Value"))))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",87,e);}if (_boolean_result) { 
      out.write("\nvar EndDate_Day = \"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:EndDate:EndDate_Day:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {88}",e);}if (value==null) value="";out.write(value);} 
      out.write("\";\nvar EndDate_Time = \"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:EndDate:EndDate_Time:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {89}",e);}if (value==null) value="";out.write(value);} 
      out.write('"');
      out.write(';');
      out.write('\n');
 } else { 
      out.write("\nvar EndDate_Day = \"");
 {String value = null;try{value=context.getFormattedValue(context.getFormattedValue(getObject("PromotionForm:EndDate:Value"),new Integer(DATE_INPUT)),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {91}",e);}if (value==null) value="";out.write(value);} 
      out.write("\";\nvar EndDate_Time = \"");
 {String value = null;try{value=context.getFormattedValue(context.getFormattedValue(getObject("PromotionForm:EndDate:Value"),new Integer(TIME_INPUT)),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {92}",e);}if (value==null) value="";out.write(value);} 
      out.write('"');
      out.write(';');
      out.write('\n');
 } 
      out.write("\n$(\"");
      out.print(context.getFormattedValue("#",null));
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:StartDate:StartDate_Day:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {95}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\").val(StartDate_Day);\n$(\"");
      out.print(context.getFormattedValue("#",null));
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:StartDate:StartDate_Time:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {96}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\").val(StartDate_Time);\n$(\"");
      out.print(context.getFormattedValue("#",null));
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:EndDate:EndDate_Day:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {97}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\").val(EndDate_Day);\n$(\"");
      out.print(context.getFormattedValue("#",null));
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:EndDate:EndDate_Time:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {98}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\").val(EndDate_Time);\n$(\".dateTimeInput\")\n.find(\"input\")\n.removeAttr('readonly')\n.removeAttr('disabled')\n.removeClass('disabled');\n$('[onclick^=\"popCalendar\"]').prop('disabled', false);\n}\n}\n$(function() {\n");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",115,e);}if (_boolean_result) { 
      out.write("\n$(\"input[name*='_UseCampaignTimeFrame']\").on('click', function() {\nif ($(this).attr(\"value\") === \"true\") {\ntoggleTimeZone('scopeCampaign');\n}else{\ntoggleTimeZone('scopePromotion');\n}\n});\n");
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("CampaignUUID")))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((((context.getFormattedValue(getObject("Promotion:CampaignID"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) (((((Boolean) ((((Boolean) ((disableErrorMessages().isDefined(getObject("PromotionForm:UseCampaignTimeFrame:Value"))))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue() || ((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:UseCampaignTimeFrame:Value"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",126,e);}if (_boolean_result) { 
      out.write("\n$(\"input[name*='_UseCampaignTimeFrame'][value=true]\").click();\n");
 } else { 
      out.write("\n$(\"input[name*='_UseCampaignTimeFrame'][value=false]\").click();\n");
 } 
      out.write("\n});\n</script>\n<!-- Main Content -->");
 _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",137,e);}if (_boolean_result) { 
 processOpenTag(response, pageContext, "breadcrumbtrail", new TagParameter[] {
new TagParameter("link",url(true,(new URLPipelineAction(context.getFormattedValue("ViewPromotion-New",null))),(new URLParameterSet().addURLParameter(context.getFormattedValue("ChannelID",null),context.getFormattedValue(getObject("CurrentChannel:UUID"),null))))),
new TagParameter("text",localizeText(context.getFormattedValue("Promotion.NewPromotionGeneral.text",null))),
new TagParameter("id","newPromotion")}, 138); 
 } else { 
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion:DisplayName(SelectedLocale)")))).booleanValue() && ((Boolean) (((!(context.getFormattedValue(getObject("Promotion:DisplayName(SelectedLocale)"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",141,e);}if (_boolean_result) { 
 processOpenTag(response, pageContext, "breadcrumbtrail", new TagParameter[] {
new TagParameter("removeid","newPromotion"),
new TagParameter("text1",context.getFormattedValue(" - ",null) + context.getFormattedValue(localizeText(context.getFormattedValue("Promotion.General.text1",null)),null)),
new TagParameter("removewizard","true"),
new TagParameter("link",url(true,(new URLPipelineAction(context.getFormattedValue("ViewPromotion-Edit",null))),(new URLParameterSet().addURLParameter(context.getFormattedValue("ChannelID",null),context.getFormattedValue(getObject("CurrentChannel:UUID"),null))).addURLParameter(context.getFormattedValue("PromotionUUID",null),context.getFormattedValue(getObject("Promotion:UUID"),null)))),
new TagParameter("wizard","true"),
new TagParameter("id",getObject("Promotion:UUID")),
new TagParameter("text",getObject("Promotion:DisplayName(SelectedLocale)"))}, 142); 
 } else { 
 processOpenTag(response, pageContext, "breadcrumbtrail", new TagParameter[] {
new TagParameter("removeid","newPromotion"),
new TagParameter("removewizard","true"),
new TagParameter("link",url(true,(new URLPipelineAction(context.getFormattedValue("ViewPromotion-Edit",null))),(new URLParameterSet().addURLParameter(context.getFormattedValue("ChannelID",null),context.getFormattedValue(getObject("CurrentChannel:UUID"),null))).addURLParameter(context.getFormattedValue("PromotionUUID",null),context.getFormattedValue(getObject("Promotion:UUID"),null)))),
new TagParameter("wizard","true"),
new TagParameter("id",getObject("Promotion:UUID")),
new TagParameter("text",localizeText(context.getFormattedValue("Promotion.General.text",null)))}, 146); 
 } 
 } 
 URLPipelineAction action282 = new URLPipelineAction(context.getFormattedValue(url(true,(new URLPipelineAction(context.getFormattedValue("ViewPromotion-Dispatch",null)))),null));String site282 = null;String serverGroup282 = null;String actionValue282 = context.getFormattedValue(url(true,(new URLPipelineAction(context.getFormattedValue("ViewPromotion-Dispatch",null)))),null);if (site282 == null){  site282 = action282.getDomain();  if (site282 == null)  {      site282 = com.intershop.beehive.core.capi.request.Request.getCurrent().getRequestSite().getDomainName();  }}if (serverGroup282 == null){  serverGroup282 = action282.getServerGroup();  if (serverGroup282 == null)  {      serverGroup282 = com.intershop.beehive.core.capi.request.Request.getCurrent().getRequestSite().getServerGroup();  }}out.print("<form");out.print(" method=\"");out.print("post");out.print("\"");out.print(" action=\"");out.print(context.getFormattedValue(url(true,(new URLPipelineAction(context.getFormattedValue("ViewPromotion-Dispatch",null)))),null));out.print("\"");out.print(" name=\"");out.print(context.getFormattedValue(getObject("PromotionForm:ID"),null));out.print("\"");out.print(">");out.print(context.prepareWACSRFTag(actionValue282, site282, serverGroup282,true)); 
      out.write("<input type=\"hidden\" name=\"ChannelID\" value=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("CurrentChannel:UUID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {154}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('/');
      out.write('>');
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",159,e);}if (_boolean_result) { 
      out.write("<input type=\"submit\" name=\"update\" value=\"");
      out.print(context.getFormattedValue(localizeText(context.getFormattedValue("Promotion.Apply.button",null)),null));
      out.write("\" class=\"button\" style=\"position: absolute; top: -50000px\"/>");
 } else { 
      out.write(" \n<input type=\"submit\" name=\"create\" value=\"");
      out.print(context.getFormattedValue(localizeText(context.getFormattedValue("Promotion.Apply.button",null)),null));
      out.write("\" class=\"button\" style=\"position: absolute; top: -50000px\"/>");
 } 
      out.write("<!-- Promotion Details Heading -->");
 {out.flush();processLocalIncludeByServer((com.intershop.beehive.core.capi.request.ServletResponse)response,"marketing/inc/PromotionDetailsHeadingInc", null, "168");} 
      out.write("<!-- Tabs -->");
 {Object temp_obj = ("General"); getPipelineDictionary().put("SelectedTab", temp_obj);} 
 {out.flush();processLocalIncludeByServer((com.intershop.beehive.core.capi.request.ServletResponse)response,"inc/PromotionTabsInc", null, "172");} 
      out.write("<!-- EO Tabs -->\n<!-- incompleteness check-->");
 {out.flush();processLocalIncludeByServer((com.intershop.beehive.core.capi.request.ServletResponse)response,"marketing/inc/PromotionIncompletenessMessage", null, "176");} 
      out.write("<!-- end incompleteness check-->\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n<tr>\n<td>\n<table class=\"s\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",183,e);}if (_boolean_result) { 
      out.write("<!-- errors -->");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("confirmDelete"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",185,e);}if (_boolean_result) { 
 _boolean_result=false;try {_boolean_result=((Boolean)(getObject("Promotion:isEnabled"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",186,e);}if (_boolean_result) { 
      out.write("<tr>\n<td>\n<table border=\"0\" cellpadding=\"4\" cellspacing=\"0\" width=\"100%\" class=\"error_box w e s\">\n<tr>\n<td class=\"error_icon e\"><img src=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/images/error.gif\" width=\"16\" height=\"15\" alt=\"\" border=\"0\"/></td>\n<td class=\"error top\" width=\"100%\">");
 {out.write(localizeISText("error.delete.single.promotion","",null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</td>\n</tr>\n</table>\n</td>\n</tr>");
 } else { 
      out.write("<!-- delete confirmation-->");
 processOpenTag(response, pageContext, "messagebox", new TagParameter[] {
new TagParameter("subject",localizeText(context.getFormattedValue("promotion.assignment.contextTypeName",null))),
new TagParameter("cancelbtnname","cancelDelete"),
new TagParameter("okbtnname","delete"),
new TagParameter("type","sdc")}, 199); 
 } 
 } else {_boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("ERROR_Promotion")))).booleanValue() && ((Boolean) (disableErrorMessages().isDefined(getObject("delete")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",201,e);}if (_boolean_result) { 
      out.write("<tr>\n<td>\n<table border=\"0\" cellspacing=\"0\" cellpadding=\"4\" width=\"100%\" class=\"error_box w e s\">\n<tr valign=\"top\">\n<td class=\"error_icon e\"><img src=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/images/error.gif\" width=\"16\" height=\"15\" alt=\"\" border=\"0\"/></td>\n<td class=\"error top\" width=\"100%\"> ");
 {out.write(localizeISText("error.delete.promotion.witherrors","",null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</td>\n</tr>\n</table>\n</td>\n</tr>");
 } else {_boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("PromotionForm:isInvalid")).booleanValue() || ((Boolean) (disableErrorMessages().isDefined(getObject("ERROR_Promotion")))).booleanValue() || ((Boolean) getObject("PromotionAppAssignmentForm:isError(\"error.Application\")")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",212,e);}if (_boolean_result) { 
      out.write(" \n<tr>\n<td>\n<table border=\"0\" cellspacing=\"0\" cellpadding=\"4\" width=\"100%\" class=\"error_box w e s\">\n<tr>\n<td class=\"error_icon e\"><img src=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/images/error.gif\" width=\"16\" height=\"15\" alt=\"\" border=\"0\"/></td>\n<td class=\"error top\" width=\"100%\">");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",219,e);}if (_boolean_result) { 
      out.write('<');
      out.write('b');
      out.write('>');
 {out.write(localizeISText("Promotion.ChangesCouldNotBeApplied.error",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":</b><br/>");
 } else { 
      out.write('<');
      out.write('b');
      out.write('>');
 {out.write(localizeISText("Promotion.PromotionCouldNotBeCreated.error",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":</b><br/>");
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:Name:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",224,e);}if (_boolean_result) { 
 while (loop("PromotionForm:Name:Errors","Error",null)) { 
 _boolean_result=false;try {_boolean_result=((Boolean)(((((context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.required",null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",226,e);}if (_boolean_result) { 
 {out.write(localizeISText("error.name.required","",null,null,null,null,null,null,null,null,null,null,null));} 
 } else { 
 {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,null,null,null,null,null,null,null,null,null,null));} 
 } 
      out.write("<br/>");
 } 
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:PID:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",234,e);}if (_boolean_result) { 
 while (loop("PromotionForm:PID:Errors","Error",null)) { 
 _boolean_result=false;try {_boolean_result=((Boolean)(((((context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.required",null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",236,e);}if (_boolean_result) { 
 {out.write(localizeISText("error.id.required","",null,null,null,null,null,null,null,null,null,null,null));} 
 } else {_boolean_result=false;try {_boolean_result=((Boolean)(((((context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.regexp",null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",238,e);}if (_boolean_result) { 
 {out.write(localizeISText("error.id.invalid","",null,null,null,null,null,null,null,null,null,null,null));} 
 } else {_boolean_result=false;try {_boolean_result=((Boolean)(((((context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.PromotionAlreadyExists",null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",240,e);}if (_boolean_result) { 
 {out.write(localizeISText("error.PromotionAlreadyExists","",null,null,null,null,null,null,null,null,null,null,null));} 
 } else { 
 {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,null,null,null,null,null,null,null,null,null,null));} 
 }}} 
      out.write("<br/>");
 } 
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:Rank:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",248,e);}if (_boolean_result) { 
 while (loop("PromotionForm:Rank:Errors","Error",null)) { 
 _boolean_result=false;try {_boolean_result=((Boolean)(((((context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.required",null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",250,e);}if (_boolean_result) { 
 {out.write(localizeISText("error.priority.required","",null,null,null,null,null,null,null,null,null,null,null));} 
 } else {_boolean_result=false;try {_boolean_result=((Boolean)(((((context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.intrange",null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",252,e);}if (_boolean_result) { 
 {out.write(localizeISText("error.priority.intrange","",null,null,null,null,null,null,null,null,null,null,null));} 
 } else { 
 {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,null,null,null,null,null,null,null,null,null,null));} 
 }} 
      out.write("<br/>");
 } 
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionAppAssignmentForm:isError(\"error.Application\")"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",260,e);}if (_boolean_result) { 
 {out.write(localizeISText("error.promotion.noapplication","",null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("<br/>");
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:StartDate:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",264,e);}if (_boolean_result) { 
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("PromotionForm:StartDate:StartDate_Day:Invalid")).booleanValue() || ((Boolean) getObject("PromotionForm:StartDate:StartDate_Time:Invalid")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",266,e);}if (_boolean_result) { 
      out.write("<!-- StartDate_Day Error -->");
 {out.write(localizeISText("error.startdatetime","",null,null,null,null,null,null,null,null,null,null,null));} 
 } else { 
 while (loop("PromotionForm:StartDate:Errors","Error",null)) { 
 _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.datetime",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",272,e);}if (_boolean_result) { 
 {out.write(localizeISText("error.startdatetime","",null,null,null,null,null,null,null,null,null,null,null));} 
 } else {_boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.dependenttimeframe",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",274,e);}if (_boolean_result) { 
 {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,"start",null,null,null,null,null,null,null,null,null));} 
 } else { 
 {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,null,null,null,null,null,null,null,null,null,null));} 
 }} 
 } 
 } 
      out.write("<br/>");
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:EndDate:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",283,e);}if (_boolean_result) { 
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("PromotionForm:EndDate:EndDate_Day:Invalid")).booleanValue() || ((Boolean) getObject("PromotionForm:EndDate:EndDate_Time:Invalid")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",285,e);}if (_boolean_result) { 
      out.write("<!-- EndDate_Day Error -->");
 {out.write(localizeISText("error.enddatetime","",null,null,null,null,null,null,null,null,null,null,null));} 
 } else { 
 while (loop("PromotionForm:EndDate:Errors","Error",null)) { 
 _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.datetime",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",291,e);}if (_boolean_result) { 
 {out.write(localizeISText("error.enddatetime","",null,null,null,null,null,null,null,null,null,null,null));} 
 } else {_boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.dependenttimeframe",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",293,e);}if (_boolean_result) { 
 {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,"end",null,null,null,null,null,null,null,null,null));} 
 } else { 
 {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,null,null,null,null,null,null,null,null,null,null));} 
 }} 
 } 
 } 
      out.write("<br/>");
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:BudgetAmount:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",302,e);}if (_boolean_result) { 
 while (loop("PromotionForm:BudgetAmount:Errors","Error",null)) { 
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((!(context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.double",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((!(context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.minmoney",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",304,e);}if (_boolean_result) { 
 {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("<br/>");
 } 
 } 
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:Enabled:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",307,e);}if (_boolean_result) { 
 while (loop("PromotionForm:Enabled:Errors","Error",null)) { 
 {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("<br/>");
 } 
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:BudgetNotificationThreshold:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",313,e);}if (_boolean_result) { 
 while (loop("PromotionForm:BudgetNotificationThreshold:Errors","Error",null)) { 
 {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("<br/>");
 } 
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:BudgetNotificationEmail:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",319,e);}if (_boolean_result) { 
 while (loop("PromotionForm:BudgetNotificationEmail:Errors","Error",null)) { 
 {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("<br/>");
 } 
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:BudgetNotification:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",325,e);}if (_boolean_result) { 
 while (loop("PromotionForm:BudgetNotification:Errors","Error",null)) { 
 {out.write(localizeISText(context.getFormattedValue(getObject("Error"),null),"",null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("<br/>");
 } 
 } 
      out.write("</td>\n</tr>\n</table>\n</td>\n</tr>");
 }}} 
 _boolean_result=false;try {_boolean_result=((Boolean)(((disableErrorMessages().isDefined(getObject("PreviewPromotionError")))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",337,e);}if (_boolean_result) { 
      out.write("<tr>\n<td>\n<table border=\"0\" cellspacing=\"0\" cellpadding=\"4\" width=\"100%\" class=\"confirm_box w e s\">\n<tr>\n<td class=\"error_icon e\"><img src=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/images/error.gif\" width=\"16\" height=\"15\" alt=\"\" border=\"0\"/></td>\n<td class=\"error\" width=\"100%\">");
 processOpenTag(response, pageContext, "previewerror", new TagParameter[] {
new TagParameter("previewError",getObject("PreviewPromotionError"))}, 343); 
      out.write("</td>\n</tr>\n</table>\n</td>\n</tr>");
 } else {_boolean_result=false;try {_boolean_result=((Boolean)(((disableErrorMessages().isDefined(getObject("confirmPreview")))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",348,e);}if (_boolean_result) { 
 processOpenTag(response, pageContext, "previewmessagebox", new TagParameter[] {
new TagParameter("itemType","promotion"),
new TagParameter("previewMessage",getObject("confirmPreview"))}, 349); 
 }} 
      out.write("<!-- end errors-->\n<tr>\n<td class=\"table_title_description w e\">");
 {out.write(localizeISText("Promotion.FieldsWithARedAsterisk.table_title_description",null,null,"star",null,null,null,null,null,null,null,null,null));} 
      out.write("<br/><br/>");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",356,e);}if (_boolean_result) { 
 {out.write(localizeISText("Promotion.ClickApplyToSaveTheDetails.table_title_description",null,null,null,null,null,null,null,null,null,null,null,null));} 
 } else { 
 {out.write(localizeISText("Promotion.NoteThatDiscountsOnAnOrderValue.table_title_description",null,null,null,null,null,null,null,null,null,null,null,null));} 
 } 
      out.write("<br/><br/>");
 {out.write(localizeISText("Promotion.TargetGroupAndABTest.table_title_description",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</td>\n</tr>");
 } 
      out.write("</table>\n<table border=\"0\" cellpadding=\"4\" cellspacing=\"0\" width=\"100%\" class=\"infobox_locale w e\">\n<tr>\n<td class=\"label_select\" nowrap=\"nowrap\"><label class=\"label label_select label_light\" for=\"LocaleID\">");
 {out.write(localizeISText("Promotion.SelectLanguage.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":</label></td>\n<td class=\"infobox_item\">\n<select name=\"LocaleID\" id=\"LocaleID\" class=\"select inputfield_en\">");
 while (loop("AllLocales","Locale",null)) { 
      out.write("<option value=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("Locale:LocaleID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {373}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("Locale:LocaleID"),null).equals(context.getFormattedValue(getObject("SelectedLocale:LocaleID"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",374,e);}if (_boolean_result) { 
      out.write("selected=\"selected\"");
 } 
      out.write('>');
 {String value = null;try{value=context.getFormattedValue(getObject("Locale:getDisplayName(CurrentSession:Locale)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {375}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("&nbsp;</option>");
 } 
      out.write("</select>\n</td>\n<td width=\"100%\">\n<table border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\n<tr>\n<td class=\"button\">\n<input type=\"submit\" name=\"setLocaleEdit\" value=\"");
      out.print(context.getFormattedValue(localizeText(context.getFormattedValue("Promotion.Apply.button",null)),null));
      out.write("\" class=\"button\"/>\n</td>\n</tr>\n</table>\n</td>\n</tr>\n</table>\n<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"100%\" class=\"aldi\">\n<tr><td colspan=\"2\"><img src=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/images/space.gif\" height=\"4\" alt=\"\" border=\"0\"/></td></tr>\n<tr>\n<input type=\"hidden\" value=\"on\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:MultipleAllowed:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {395}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\"/>\n<td class=\"label\">");
 _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:Name:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",397,e);}if (_boolean_result) { 
      out.write("<label class=\"label label_error\" for=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Name:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {398}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('>');
 {out.write(localizeISText("Promotion.Name.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":<span class=\"star\">*</span></label>");
 } else { 
      out.write("<label class=\"label\" for=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Name:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {400}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('>');
 {out.write(localizeISText("Promotion.Name.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":<span class=\"star\">*</span></label>");
 } 
      out.write("</td>\n<td>\n<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n<tr>");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",406,e);}if (_boolean_result) { 
      out.write("<td class=\"table_detail\">");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",408,e);}if (_boolean_result) { 
      out.write("<input type=\"text\" size=\"60\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Name:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {409}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" id=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Name:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {409}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" maxlength=\"400\" class=\"inputfield_en\"\n");
 _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:Name:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",410,e);}if (_boolean_result) { 
      out.write("\nvalue=\"");
 while (loop("PromotionForm:Name:Errors","Error",null)) { 
 _boolean_result=false;try {_boolean_result=((Boolean)((((!(context.getFormattedValue(getObject("Error"),null).equals(context.getFormattedValue("error.required",null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",412,e);}if (_boolean_result) { 
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Name:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {413}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
 } 
 } 
      out.write('"');
      out.write('\n');
 } else { 
      out.write("\nvalue=\"");
 processOpenTag(response, pageContext, "marketingobjectdisplayname", new TagParameter[] {
new TagParameter("Locale",getObject("SelectedLocale")),
new TagParameter("Object",getObject("Promotion"))}, 417); 
      out.write('"');
      out.write('\n');
 } 
      out.write('\n');
      out.write('/');
      out.write('>');
 } else { 
      out.write("<input type=\"text\" size=\"60\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Name:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {421}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" maxlength=\"400\"\nvalue=\"");
 processOpenTag(response, pageContext, "marketingobjectdisplayname", new TagParameter[] {
new TagParameter("Locale",getObject("SelectedLocale")),
new TagParameter("Object",getObject("Promotion"))}, 422); 
      out.write("\" class=\"inputfield_en\"\ndisabled=\"disabled\"/>");
 } 
      out.write("</td>");
 } else { 
      out.write("<td class=\"table_detail\">\n<input class=\"inputfield_en\" type=\"text\" maxlength=\"400\" size=\"60\" \nid=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Name:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {429}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" \nname=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Name:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {430}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" \nvalue=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Name:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {431}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\"/>\n</td>");
 } 
      out.write("<td>");
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("Promotion:Enabled")).booleanValue() && ((Boolean) (disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_VIEW_STOREFRONT")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",435,e);}if (_boolean_result) { 
 processOpenTag(response, pageContext, "previewicon", new TagParameter[] {
new TagParameter("previewURL",url(true,(new URLPipelineAction(context.getFormattedValue("ViewPromotion-PreviewPromotion",null))),(new URLParameterSet().addURLParameter(context.getFormattedValue("ChannelID",null),context.getFormattedValue(getObject("CurrentChannel:UUID"),null))).addURLParameter(context.getFormattedValue("PromotionUUID",null),context.getFormattedValue(getObject("Promotion:UUID"),null)))),
new TagParameter("contextPipeline","ViewPromotion-Edit"),
new TagParameter("contextValue0",getObject("CurrentChannel:UUID")),
new TagParameter("contextValue1",getObject("Promotion:UUID")),
new TagParameter("imageTitle",localizeText(context.getFormattedValue("sld_ch_base.OpenASitePreviewForThisPromotionWithTheSelectedSta.imageTitle",null))),
new TagParameter("imageAlt",localizeText(context.getFormattedValue("sld_ch_base.OpenASitePreviewForThisPromotionWithTheSelectedSta.imageAlt",null))),
new TagParameter("contextParameter0","ChannelID"),
new TagParameter("contextParameter1","PromotionUUID")}, 436); 
 } 
      out.write("</td>\n<td><img src=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/images/space.gif\" width=\"12\" height=\"1\" alt=\"\" border=\"0\"/></td>\n<td>\n<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n<tr>\n<td class=\"input_checkbox\">");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",450,e);}if (_boolean_result) { 
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:Enabled:Value"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:Enabled:Value"),null).equals(context.getFormattedValue("on",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",451,e);}if (_boolean_result) { 
      out.write("<input type=\"checkbox\" id=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Enabled:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {452}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Enabled:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {452}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" checked=\"checked\"/>");
 } else { 
      out.write("<input type=\"checkbox\" id=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Enabled:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {454}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Enabled:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {454}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('/');
      out.write('>');
 } 
 } else { 
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:Enabled:Value"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:Enabled:Value"),null).equals(context.getFormattedValue("on",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",457,e);}if (_boolean_result) { 
      out.write("<input type=\"checkbox\" id=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Enabled:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {458}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Enabled:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {458}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" checked=\"checked\" disabled=\"disabled\"/>");
 } else { 
      out.write("<input type=\"checkbox\" id=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Enabled:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {460}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Enabled:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {460}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" disabled=\"disabled\"/>");
 } 
 } 
      out.write("</td>\n<td class=\"label_checkbox_text\"><label class=\"label label_checkbox_text label_light\" for=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Enabled:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {464}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('>');
 {out.write(localizeISText("Promotion.Enabled.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</label></td>\n</tr>\n</table>\n</td>\n</tr>\n</table>\n</td>\n</tr>\n<tr>\n<td class=\"label\">");
 _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:PID:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",474,e);}if (_boolean_result) { 
      out.write("<label class=\"label label_error\" for=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:PID:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {475}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('>');
 {out.write(localizeISText("Promotion.ID.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":<span class=\"star\">*</span></label>");
 } else { 
      out.write("<label class=\"label\" for=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:PID:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {477}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('>');
 {out.write(localizeISText("Promotion.ID.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":<span class=\"star\">*</span></label>");
 } 
      out.write("</td>\n<td class=\"table_detail\">\n<input class=\"inputfield_en\" type=\"text\" maxlength=\"400\" size=\"60\" id=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:PID:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {481}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:PID:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {481}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" value=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:PID:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {481}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",482,e);}if (_boolean_result) { 
      out.write("disabled=\"disabled\"");
 } 
      out.write("\n/>\n</td>\n</tr>\n<tr>\n<td class=\"label_textarea\" nowrap=\"nowrap\" width=\"1\"><label class=\"label label_textarea\" for=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Description:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {487}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('>');
 {out.write(localizeISText("Promotion.Description.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":</label></td>\n<td class=\"table_detail\">");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",489,e);}if (_boolean_result) { 
      out.write("<textarea rows=\"5\" cols=\"60\"\nid=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Description:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {491}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\"\nname=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Description:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {492}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\"\nclass=\"inputfield_en\">");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Description:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {494}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("</textarea>");
 } else { 
      out.write("<textarea rows=\"5\" cols=\"60\"\nid=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Description:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {498}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\"\nname=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Description:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {499}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\"\nclass=\"inputfield_en\" disabled=\"disabled\">");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Description:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {501}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("</textarea>");
 } 
      out.write("</td>\n</tr>\n<tr>\n<td class=\"label_select\"><label class=\"label label_select\" for=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Currency:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {507}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write(' ');
      out.write('>');
 {out.write(localizeISText("Promotion.Currency.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":</label></td>\n<td class=\"table_detail\">\n<select class=\"select inputfield_en\" \nid=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Currency:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {510}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" \nname=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Currency:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {511}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write(' ');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",512,e);}if (_boolean_result) { 
      out.write("disabled=\"disabled\"");
 } 
      out.write("\nonchange=\"setBudgetParameter(this);\">");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",516,e);}if (_boolean_result) { 
      out.write("<option>");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",517,e);}if (_boolean_result) { 
 {String value = null;try{value=context.getFormattedValue(getObject("Promotion:Currency:CurrencyName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {517}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
 } else { 
 {out.write(localizeISText("Promotion.All.option",null,null,null,null,null,null,null,null,null,null,null,null));} 
 } 
      out.write("</option>\n<input type=\"hidden\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Currency:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {518}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" value=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("Promotion:Currency:Mnemonic"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {518}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('>');
 } else { 
      out.write("<option value=\".All.\" ");
 _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",520,e);}if (_boolean_result) { 
      out.write("selected=\"selected\"");
 } 
      out.write(' ');
      out.write('>');
 {out.write(localizeISText("Promotion.All.option1",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</option>");
 while (loop("Currencies","Currency",null)) { 
      out.write("<option value=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("Currency:Mnemonic"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {522}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("Currency:Mnemonic"),null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",523,e);}if (_boolean_result) { 
      out.write("selected=\"selected\"");
 } 
      out.write('>');
 {String value = null;try{value=context.getFormattedValue(getObject("Currency:CurrencyName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {524}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("</option>");
 } 
 } 
      out.write("</select>\n</td>\n</tr>\n<tr>\n<td class=\"label_radio label_top\"> \n");
 _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:Rank:isInvalid"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",534,e);}if (_boolean_result) { 
      out.write("<label class=\"label label_radio label_top label_error\">");
 {out.write(localizeISText("Promotion.Priority.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":<span class=\"star\">*</span></label>");
 } else { 
      out.write("<label class=\"label label_radio\">");
 {out.write(localizeISText("Promotion.Priority.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":<span class=\"star\">*</span></label>");
 } 
      out.write("</td>");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",540,e);}if (_boolean_result) { 
      out.write("<td>\n<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n<tr>\n<td class=\"input_radio\">\n<input class=\"inputfield_en\" type=\"radio\" value=\"true\" id=\"defaultRank\"\nname=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:RankSelection:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {546}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write(' ');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)(((((context.getFormattedValue(getObject("PromotionForm:RankSelection:Value"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",547,e);}if (_boolean_result) { 
      out.write("\nchecked=\"checked\"\n");
 } 
      out.write("\n/>\n</td>\n<td class=\"label_radio_text\" colspan=\"3\">\n<label class=\"label label_radio_text label_light\" for=\"defaultRank\">");
 {out.write(localizeISText("Promotion.DefaultPriority.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(' ');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && ((Boolean) getObject("Promotion:HasDefaultRank")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",554,e);}if (_boolean_result) { 
      out.write('\n');
      out.write('(');
 {String value = null;try{value=context.getFormattedValue(getObject("Promotion:Rank"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {555}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write(')');
      out.write('\n');
 } 
      out.write("</label>\n</td>\n</tr>\n<tr>\n<td class=\"input_radio\">\n<input class=\"inputfield_en\" type=\"radio\" value=\"false\" id=\"specific_rank\"\nname=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:RankSelection:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {563}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)((((((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:RankSelection:Value"),null).equals(context.getFormattedValue("false",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) getObject("Promotion:HasDefaultRank")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",564,e);}if (_boolean_result) { 
      out.write("\nchecked=\"checked\"\n");
 } 
      out.write("\n/>\n</td>\n<td class=\"label_radio_text\"><label class=\"label label_radio_text label_light\" for=\"specific_rank\">");
 {out.write(localizeISText("Promotion.SpecifyPriority.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</label></td>\n<td class=\"table_detail\">\n<input class=\"inputfield_en\" type=\"text\" id=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Rank:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {571}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Rank:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {571}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" maxlength=\"100\" size=\"10\" \n");
 _boolean_result=false;try {_boolean_result=((Boolean)(((((context.getFormattedValue(getObject("PromotionForm:RankSelection:Value"),null).equals(context.getFormattedValue("false",null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",572,e);}if (_boolean_result) { 
      out.write("\nvalue=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Rank:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {573}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('\n');
 } 
      out.write("\n/>\n</td>\n<td class=\"middle\">\n<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n<tr>\n<td class=\"button\">");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("ShowDefaultPriorities"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",581,e);}if (_boolean_result) { 
      out.write("<input type=\"hidden\" name=\"ShowDefaultPriorities\" value=\"\"/>\n<input type=\"submit\" name=\"showDefaultPriorities\" value=\"");
      out.print(context.getFormattedValue(localizeText(context.getFormattedValue("Promotion.HideDefaultPriorities.button",null)),null));
      out.write("\" class=\"button\"\ntitle=\"");
 while (loop("ActionDescriptors","aDescriptor",null)) { 
 {String value = null;try{value=context.getFormattedValue(getObject("aDescriptor:Name"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {585}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('(');
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionActionPriorityHandler:DefaultRank(aDescriptor)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {585}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write(")&nbsp;\n");
 } 
      out.write("\"\n/>");
 } else { 
      out.write("<input type=\"submit\" name=\"showDefaultPriorities\" value=\"");
      out.print(context.getFormattedValue(localizeText(context.getFormattedValue("Promotion.ShowDefaultPriorities.button",null)),null));
      out.write("\" class=\"button\"\ntitle=\"");
 while (loop("ActionDescriptors","aDescriptor",null)) { 
 {String value = null;try{value=context.getFormattedValue(getObject("aDescriptor:Name"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {591}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('(');
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionActionPriorityHandler:DefaultRank(aDescriptor)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {591}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write(")&nbsp;\n");
 } 
      out.write("\"\n/>");
 } 
      out.write("</td>\n</tr>\n</table>\n</td>\n</tr>\n</table>\n</td>");
 } else { 
      out.write("<td class=\"table_detail\">");
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && ((Boolean) getObject("Promotion:HasDefaultRank")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",604,e);}if (_boolean_result) { 
 {out.write(localizeISText("Promotion.DefaultRankX.table_detail",null,null,context.getFormattedValue(getObject("Promotion:Rank"),null),null,null,null,null,null,null,null,null,null));} 
 } else {_boolean_result=false;try {_boolean_result=((Boolean)((((((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:RankSelection:Value"),null).equals(context.getFormattedValue("false",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) getObject("Promotion:HasDefaultRank")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",606,e);}if (_boolean_result) { 
 {out.write(localizeISText("Promotion.SpecificRankX.table_detail",null,null,context.getFormattedValue(getObject("PromotionForm:Rank:Value"),null),null,null,null,null,null,null,null,null,null));} 
 }} 
      out.write("</td>");
 } 
      out.write("</tr>");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("ShowDefaultPriorities"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",612,e);}if (_boolean_result) { 
      out.write("<tr>\n<td class=\"table_detail\"></td>\n<td class=\"table_detail\">\n<table border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\n<tr>\n<td class=\"table_header n e s w\" nowrap=\"nowrap\">");
 {out.write(localizeISText("Promotion.PromotionTypes.table_header",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</td>\n<td class=\"table_header n e s\" nowrap=\"nowrap\">");
 {out.write(localizeISText("Promotion.DefaultPriority.table_header",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</td>\n</tr>");
 while (loop("ActionDescriptors","aDescriptor",null)) { 
      out.write("<tr>\n<td class=\"table_detail e s w\">\n<label class=\"label_table label_light label_radio_text\">");
 {String value = null;try{value=context.getFormattedValue(getObject("aDescriptor:Name"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {625}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("</label>\n</td>\n<td class=\"table_detail e s\">\n<label class=\"label_table label_light label_radio_text\">");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionActionPriorityHandler:DefaultRank(aDescriptor)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {630}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("</label>\n</td>\n</tr>");
 } 
      out.write("</table>\n</td>\n</tr>");
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("Apps")))).booleanValue() && ((Boolean) (hasLoopElements("Apps") ? Boolean.TRUE : Boolean.FALSE)).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",640,e);}if (_boolean_result) { 
      out.write("<tr>\n<td class=\"label_checkbox\">");
 _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionAppAssignmentForm:isError(\"error.Application\")"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",643,e);}if (_boolean_result) { 
      out.write("<label class=\"label label_checkbox label_error\">");
 {out.write(localizeISText("Promotion.Application.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":<span class=\"star\">*</span></label>");
 } else { 
      out.write("<label class=\"label label_checkbox\">");
 {out.write(localizeISText("Promotion.Application.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":<span class=\"star\">*</span></label>");
 } 
      out.write("</td>\n<td>\n<table border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\n<tr>");
 while (loop("Apps","App","appCounter")) { 
 if (((Integer)getObject("appCounter")) != 1 && ((Integer)getObject("appCounter")) % 3 == 1) { 
      out.write("</tr>\n<tr>");
 } 
 {Object temp_obj = (getObject("appCounter")); getPipelineDictionary().put("APP_IT_Counter", temp_obj);} 
      out.write("<td class=\"input_checkbox\">");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",659,e);}if (_boolean_result) { 
      out.write("<input type=\"checkbox\" \nname=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionAppAssignmentForm:get(App:UUID):Selection:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {661}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\"\nid=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionAppAssignmentForm:get(App:UUID):Selection:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {662}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionAppAssignmentForm:get(App:UUID):Selection:Value"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",663,e);}if (_boolean_result) { 
      out.write("checked=\"checked\"");
 } 
      out.write('\n');
      out.write('/');
      out.write('>');
 } else { 
      out.write("<input type=\"checkbox\" \nname=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionAppAssignmentForm:get(App:UUID):Selection:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {667}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\"\nid=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionAppAssignmentForm:get(App:UUID):Selection:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {668}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionAppAssignmentForm:get(App:UUID):Selection:Value"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",669,e);}if (_boolean_result) { 
      out.write("checked=\"checked\"");
 } 
      out.write("\ndisabled=\"disabled\"\n/>");
 } 
      out.write("</td>\n<td class=\"label_checkbox_text\">\n<label class=\"label label_checkbox_text label_light\" for=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionAppAssignmentForm:get(App:UUID):Selection:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {675}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('>');
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("App:DisplayName(SelectedLocale)"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",676,e);}if (_boolean_result) { 
 {String value = null;try{value=context.getFormattedValue(getObject("App:DisplayName(SelectedLocale)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {677}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
 } else { 
 {String value = null;try{value=context.getFormattedValue(getObject("App:DisplayName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {679}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
 } 
      out.write("</label>\n</td>");
 } 
 if (((Integer)getObject("APP_IT_Counter")) % 3 != 0) { 
      out.write("<td colspan=\"");
      out.print(3 * (3 - ((Integer)getObject("APP_IT_Counter")) % 3) );
      out.write("\">&nbsp;</td>");
 } 
      out.write("</tr>\n</table>\n</td>\n</tr>");
 } 
      out.write("<tr>\n<td class=\"label_select\" nowrap=\"nowrap\">\n<label class=\"label label_select\" for=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:EffectDiscountLevel:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {696}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('>');
 {out.write(localizeISText("Promotion.Calculation.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":</label>\n</td>\n<td class=\"table_detail\">");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",699,e);}if (_boolean_result) { 
      out.write("<select name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:EffectDiscountLevel:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {700}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" id=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:EffectDiscountLevel:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {700}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" class=\"select inputfield_en\">\n<option value=\"off\" ");
 _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) getObject("PromotionForm:EffectDiscountLevel:Value")).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",701,e);}if (_boolean_result) { 
      out.write("selected=\"selected\"");
 } 
      out.write('>');
 {out.write(localizeISText("Promotion.BaseCartPrice.option",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("&nbsp;</option>\n<option value=\"on\" ");
 _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:EffectDiscountLevel:Value"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",702,e);}if (_boolean_result) { 
      out.write("selected=\"selected\"");
 } 
      out.write('>');
 {out.write(localizeISText("Promotion.DiscountedPrice.option",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("&nbsp;</option>\n</select>");
 } else { 
      out.write("<select name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:EffectDiscountLevel:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {705}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" class=\"select inputfield_en\" disabled=\"disabled\">\n<option value=\"off\" ");
 _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) getObject("PromotionForm:EffectDiscountLevel:Value")).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",706,e);}if (_boolean_result) { 
      out.write("selected=\"selected\"");
 } 
      out.write('>');
 {out.write(localizeISText("Promotion.BaseCartPrice.option",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("&nbsp;</option>\n<option value=\"on\" ");
 _boolean_result=false;try {_boolean_result=((Boolean)(getObject("PromotionForm:EffectDiscountLevel:Value"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",707,e);}if (_boolean_result) { 
      out.write("selected=\"selected\"");
 } 
      out.write('>');
 {out.write(localizeISText("Promotion.DiscountedPrice.option",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("&nbsp;</option>\n</select>");
 } 
      out.write("</td>\n</tr>");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",714,e);}if (_boolean_result) { 
      out.write("<tr>\n<td class=\"label_text\">\n<label class=\"label\">");
 {out.write(localizeISText("Promotion.Combination.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":<span class=\"star\">*</span></label>\n</td>\n<td class=\"table_detail\" colspan=\"2\">");
 {out.write(localizeISText("Promotion.ThisPromotionIs.table_detail",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</td>\n</tr>\n<tr>\n<td>&nbsp;</td>\n<td>\n<table border=\"0\" cellspacing=\"0\" cellpadding=\"0\" width=\"100%\"> \n<tr>\n<td class=\"input_radio\">\n<input class=\"inputfield_en\" type=\"radio\" value=\"free_combinable\" id=\"free_combinable\"\nname=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Combinable:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {730}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)(((((context.getFormattedValue(getObject("PromotionForm:Combinable:Value"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",731,e);}if (_boolean_result) { 
      out.write("checked=\"checked\"\n");
 } else {_boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("PromotionForm:Combinable:Value"),null).equals(context.getFormattedValue("free_combinable",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",732,e);}if (_boolean_result) { 
      out.write("checked=\"checked\"\n");
 } else {_boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",733,e);}if (_boolean_result) { 
      out.write("checked=\"checked\"\n");
 } else { 
      out.write("checked=\"checked\"\n");
 }}} 
      out.write("\n/>\n</td>\n<td class=\"label_radio_text w100\">\n<label class=\"label label_radio_text label_light\" for=\"free_combinable\">");
 {out.write(localizeISText("Promotion.FreelyCombinable.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</label>\n</td>\n</tr>\n<tr>\n<td class=\"input_radio\">\n<input class=\"inputfield_en\" type=\"radio\" value=\"not_combinable\" id=\"not_combinable\"\nname=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Combinable:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {745}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("PromotionForm:Combinable:Value"),null).equals(context.getFormattedValue("not_combinable",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",746,e);}if (_boolean_result) { 
      out.write(" checked=\"checked\"");
 } 
      out.write("\n/>\n</td>\n<td class=\"label_radio_text\">\n<label class=\"label label_radio_text label_light\" for=\"not_combinable\">");
 {out.write(localizeISText("Promotion.NotCombinable.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</label>\n</td>\n</tr>\n<tr>\n<td class=\"input_radio\">\n<input class=\"inputfield_en\" type=\"radio\" value=\"combinable_with_types\" id=\"combinable_with_types\"\nname=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Combinable:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {756}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("PromotionForm:Combinable:Value"),null).equals(context.getFormattedValue("combinable_with_types",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",757,e);}if (_boolean_result) { 
      out.write(" checked=\"checked\"");
 } 
      out.write("\n/>\n</td>\n<td class=\"label_radio_text\">\n<label class=\"label label_radio_text label_light\" for=\"combinable_with_types\">");
 {out.write(localizeISText("Promotion.CombinableWithTheFollowingPromotionTypes.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":</label>\n</td>\n</tr>\n<tr>\n<td>&nbsp;</td>\n<td>");
 _boolean_result=false;try {_boolean_result=((Boolean)((hasLoopElements("PromotionForm:AssignedCombinationTypes:Value:Iterator") ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",770,e);}if (_boolean_result) { 
 getPipelineDictionary().put("AssignedCombinationTypesMap", new HashMap<String, String>()); 
 while (loop("PromotionForm:AssignedCombinationTypes:Value:Iterator","ACType",null)) { 
  ((HashMap)getObject("AssignedCombinationTypesMap")).put(getObject("ACType"), true); 
      out.write("<input type=\"hidden\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:AssignedCombinationTypes:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {774}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" value=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("ACType"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {774}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('/');
      out.write('>');
 } 
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)((hasLoopElements("AvailableCombinationTypes") ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",779,e);}if (_boolean_result) { 
 while (loop("AvailableCombinationTypes","ACType",null)) { 
 _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) (disableErrorMessages().isDefined(getObject("AssignedCombinationTypesMap:get(ACType)")))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",781,e);}if (_boolean_result) { 
      out.write("<input type=\"hidden\" name=\"AvailableCombinationTypes\" value=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("ACType"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {782}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('/');
      out.write('>');
 } 
 } 
 } 
      out.write("<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n<tr>\n<td>\n<select name=\"CombinationTypesToAdd\" class=\"select inputfield_en\" size=\"8\" multiple=\"multiple\" style=\"width:300px\">");
 _boolean_result=false;try {_boolean_result=((Boolean)((hasLoopElements("AvailableCombinationTypes") ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",790,e);}if (_boolean_result) { 
 while (loop("AvailableCombinationTypes","ACType",null)) { 
 _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) (disableErrorMessages().isDefined(getObject("AssignedCombinationTypesMap:get(ACType)")))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",792,e);}if (_boolean_result) { 
      out.write("<option value=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("ACType"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {793}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("CombinationTypesToAddSelection")))).booleanValue() && ((Boolean) (hasLoopElements("CombinationTypesToAddSelection") ? Boolean.TRUE : Boolean.FALSE)).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",794,e);}if (_boolean_result) { 
 while (loop("CombinationTypesToAddSelection","Option",null)) { 
 _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("Option"),null).equals(context.getFormattedValue(getObject("ACType"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",796,e);}if (_boolean_result) { 
      out.write("selected=\"selected\"");
 } 
 } 
 } 
      out.write('\n');
      out.write('>');
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("AllPromotionTypes:get(ACType):NamingTemplate")))).booleanValue() && ((Boolean) (((!(context.getFormattedValue(getObject("AllPromotionTypes:get(ACType):NamingTemplate"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",800,e);}if (_boolean_result) { 
 {out.flush();processLocalIncludeByServer((com.intershop.beehive.core.capi.request.ServletResponse)response,context.getFormattedValue(getObject("AllPromotionTypes:get(ACType):NamingTemplate"),null), null, "801");} 
 } 
      out.write("</option>");
 } 
 } 
 } 
      out.write("</select>\n</td>\n<td class=\"table_detail\" align=\"center\" vertical-align=\"middle\">\n<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n<tr><td class=\"button\"><input type=\"submit\" class=\"button\" value=\"");
      out.print(context.getFormattedValue(localizeText(context.getFormattedValue("Promotion.Add.button",null)),null));
      out.write(" &raquo;\" name=\"addCombinationType\"/></td></tr>\n</table>\n<img src=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/images/space.gif\" height=\"6\" alt=\"\" border=\"0\"/>\n<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n<tr><td class=\"button\"><input type=\"submit\" class=\"button\" value=\"&laquo; ");
      out.print(context.getFormattedValue(localizeText(context.getFormattedValue("Promotion.Remove.button",null)),null));
      out.write("\" name=\"removeCombinationType\"/></td></tr>\n</table>\n</td>\n<td class=\"table_detail w100\">\n<select name=\"CombinationTypesToRemove\" \nclass=\"select inputfield_en\" size=\"8\" multiple=\"multiple\" style=\"width:300px\">");
 _boolean_result=false;try {_boolean_result=((Boolean)((hasLoopElements("PromotionForm:AssignedCombinationTypes:Value") ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",821,e);}if (_boolean_result) { 
 while (loop("PromotionForm:AssignedCombinationTypes:Value","ACType",null)) { 
      out.write("<option value=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("ACType"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {823}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('>');
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("AllPromotionTypes:get(ACType):NamingTemplate")))).booleanValue() && ((Boolean) (((!(context.getFormattedValue(getObject("AllPromotionTypes:get(ACType):NamingTemplate"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",824,e);}if (_boolean_result) { 
 {out.flush();processLocalIncludeByServer((com.intershop.beehive.core.capi.request.ServletResponse)response,context.getFormattedValue(getObject("AllPromotionTypes:get(ACType):NamingTemplate"),null), null, "825");} 
 } 
      out.write("</option>");
 } 
 } 
      out.write("</select>\n</td>\n</tr>\n</table>\n</td>\n</tr>\n</table>\n</td>\n</tr>\n<tr>\n<td></td>\n<td class=\"table_detail\" colspan=\"2\">");
 {out.write(localizeISText("Promotion.ThisPromotionIs.table_detail",null,null,null,null,null,null,null,null,null,null,null,null));} 
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:Combinable:Value"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:Combinable:Value"),null).equals(context.getFormattedValue("free_combinable",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",844,e);}if (_boolean_result) { 
 {out.write(localizeISText("Promotion.FreelyCombinable.table_detail",null,null,null,null,null,null,null,null,null,null,null,null));} 
 } else {_boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("PromotionForm:Combinable:Value"),null).equals(context.getFormattedValue("not_combinable",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",846,e);}if (_boolean_result) { 
 {out.write(localizeISText("Promotion.NotCombinable.table_detail",null,null,null,null,null,null,null,null,null,null,null,null));} 
 } else {_boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("PromotionForm:Combinable:Value"),null).equals(context.getFormattedValue("combinable_with_types",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",848,e);}if (_boolean_result) { 
 {out.write(localizeISText("Promotion.CombinableWithFollowingPromotionTypes.table_detail",null,null,null,null,null,null,null,null,null,null,null,null));} 
 }}} 
      out.write("</td>\n</tr>");
 _boolean_result=false;try {_boolean_result=((Boolean)((hasLoopElements("PromotionForm:AssignedCombinationTypes:Value") ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",853,e);}if (_boolean_result) { 
      out.write("<tr>\n<td>&nbsp;</td>\n<td class=\"table_detail\">");
 while (loop("PromotionForm:AssignedCombinationTypes:Value","ACType","counter")) { 
 _boolean_result=false;try {_boolean_result=((Boolean)((( ((Number) getObject("counter")).doubleValue() >((Number)(new Double(1))).doubleValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",858,e);}if (_boolean_result) { 
      out.write(",&nbsp;");
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("AllPromotionTypes:get(ACType):NamingTemplate")))).booleanValue() && ((Boolean) (((!(context.getFormattedValue(getObject("AllPromotionTypes:get(ACType):NamingTemplate"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",859,e);}if (_boolean_result) { 
 {out.flush();processLocalIncludeByServer((com.intershop.beehive.core.capi.request.ServletResponse)response,context.getFormattedValue(getObject("AllPromotionTypes:get(ACType):NamingTemplate"),null), null, "860");} 
 } 
      out.write(' ');
      out.write('\n');
 } 
      out.write("</td>\n</tr>");
 } 
 } 
      out.write("<tr>\n<td class=\"label\"><label class=\"label\">");
 {out.write(localizeISText("Promotion.Campaign.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":</label></td>\n<td>");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion:Campaign"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",873,e);}if (_boolean_result) { 
      out.write("<input type=\"hidden\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:CampaignUUID:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {874}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" value=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("Promotion:Campaign:UUID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {874}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('/');
      out.write('>');
 {Object temp_obj = (getObject("Promotion:Campaign:DisplayName")); getPipelineDictionary().put("CampaignName", temp_obj);} 
 {Object temp_obj = ("removeFromCampaign"); getPipelineDictionary().put("btnName", temp_obj);} 
 {Object temp_obj = ("Remove"); getPipelineDictionary().put("btnValue", temp_obj);} 
 } else { 
 {Object temp_obj = (""); getPipelineDictionary().put("CampaignName", temp_obj);} 
 {Object temp_obj = ("assignToCampaign"); getPipelineDictionary().put("btnName", temp_obj);} 
 {Object temp_obj = ("Add"); getPipelineDictionary().put("btnValue", temp_obj);} 
 } 
      out.write("<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n<tr>\n<td class=\"table_detail\">\n<input class=\"inputfield_en\" size=\"60\" type=\"text\" disabled=\"disabled\" value=\"");
 processOpenTag(response, pageContext, "marketingobjectdisplayname", new TagParameter[] {
new TagParameter("Locale",getObject("CurrentSession:Locale")),
new TagParameter("Object",getObject("Promotion:Campaign"))}, 886); 
      out.write("\"/>\n</td>\n<td>");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",889,e);}if (_boolean_result) { 
      out.write("<table border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\n<tr>\n<td class=\"button\">");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion:Campaign"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",893,e);}if (_boolean_result) { 
      out.write("<input type=\"submit\" class=\"button\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("btnName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {894}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" value=\"");
      out.print(context.getFormattedValue(localizeText(context.getFormattedValue("Promotion.Remove.button",null)),null));
      out.write('"');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",895,e);}if (_boolean_result) { 
      out.write("disabled=\"disabled\"");
 } 
      out.write(' ');
      out.write('/');
      out.write('>');
 } else { 
      out.write("<input type=\"submit\" class=\"button\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("btnName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {897}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" value=\"");
      out.print(context.getFormattedValue(localizeText(context.getFormattedValue("Promotion.Add.button",null)),null));
      out.write('"');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",898,e);}if (_boolean_result) { 
      out.write("disabled=\"disabled\"");
 } 
      out.write(' ');
      out.write('/');
      out.write('>');
 } 
      out.write("</td>\n</tr>\n</table>");
 } 
      out.write("</td>\n</tr>\n</table>\n</td>\n</tr>\n<tr><td colspan=\"2\" class=\"s\"><img src=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/images/space.gif\" height=\"4\" alt=\"\" border=\"0\"/></td></tr>\n<tr>");

							getPipelineDictionary().put("currentDate", new java.util.Date());
					 	
      out.write("<td class=\"table_title2 s\" nowrap=\"nowrap\" colspan=\"2\">");
 {out.write(localizeISText("Promotion.Activation.table_title2",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("<span style=\"font-weight:normal\">&nbsp;(");
 {out.write(localizeISText("Promotion.Timezone.table_title2",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(':');
      out.write(' ');
 {String value = null;try{value=context.getFormattedValue(getObject("currentDate"),"zzzz",null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {918}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write(")</span></td>\n</tr>\n<tr><td colspan=\"2\"><img src=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/images/space.gif\" height=\"4\" alt=\"\" border=\"0\"/></td></tr>\n<tr>\n<td class=\"label_radio label_top\"><label class=\"label label_radio\">");
 {out.write(localizeISText("Promotion.Date.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":</label></td>\n<td>\n<table border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\n<tr>\n<td class=\"input_radio\">\n<input class=\"inputfield_en\" type=\"radio\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:UseCampaignTimeFrame:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {928}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" id=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:UseCampaignTimeFrame:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {928}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("_UseCampaign\" value=\"true\" \n");
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((((Boolean) ((disableErrorMessages().isDefined(getObject("PromotionForm:UseCampaignTimeFrame:Value"))))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue() || ((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:UseCampaignTimeFrame:Value"),null).equals(context.getFormattedValue("true",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",929,e);}if (_boolean_result) { 
      out.write("checked=\"checked\"");
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((((Boolean) ((disableErrorMessages().isDefined(getObject("CampaignUUID"))))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue() && ((Boolean) ((((context.getFormattedValue(getObject("Promotion:CampaignID"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || !((Boolean) ((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",930,e);}if (_boolean_result) { 
      out.write(" disabled=\"disabled\"");
 } 
      out.write("\n>\n</td>\n<td class=\"label_radio_text\" colspan=\"3\">\n<label class=\"label label_radio_text label_light\" for=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:UseCampaignTimeFrame:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {934}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("_UseCampaign\">");
 {out.write(localizeISText("Promotion.UseCampaignStartAndEndDate.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</label>\n</td>\n</tr>\n<tr>\n<td class=\"input_radio\">\n<input class=\"inputfield_en\" type=\"radio\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:UseCampaignTimeFrame:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {939}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" id=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:UseCampaignTimeFrame:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {939}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("_UseDate\" value=\"false\" \n");
 _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("PromotionForm:UseCampaignTimeFrame:Value"),null).equals(context.getFormattedValue("false",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",940,e);}if (_boolean_result) { 
      out.write(" checked=\"checked\"");
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) ((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",941,e);}if (_boolean_result) { 
      out.write("disabled=\"disabled\"");
 } 
      out.write("\n>\n</td>\n<td class=\"label_radio_text\" colspan=\"3\">\n<label class=\"label label_radio_text label_light\" \n");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",946,e);}if (_boolean_result) { 
      out.write(" for=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:UseCampaignTimeFrame:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {946}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("_UseDate\"");
 } 
      out.write('\n');
      out.write('>');
 {out.write(localizeISText("Promotion.ActivatePromotionAtTheFollowingTime.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</label>\n</td>\n</tr>\n<tr>\n<td>&nbsp;</td>");
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("PromotionForm:StartDate:Invalid")).booleanValue() || ((Boolean) (((((Boolean) getObject("PromotionForm:EndDate:Invalid")).booleanValue() && ((Boolean) getObject("PromotionForm:EndDate:Error(\"error.dateafter\")")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",954,e);}if (_boolean_result) { 
 {Object temp_obj = ("true"); getPipelineDictionary().put("invalidstartdate", temp_obj);} 
 } else { 
 {Object temp_obj = ("false"); getPipelineDictionary().put("invalidstartdate", temp_obj);} 
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",959,e);}if (_boolean_result) { 
 processOpenTag(response, pageContext, "datetimeinput", new TagParameter[] {
new TagParameter("TimeString",getObject("PromotionForm:StartDate:StartDate_Time:Value")),
new TagParameter("Required","true"),
new TagParameter("DateInputFieldName",getObject("PromotionForm:StartDate:StartDate_Day:QualifiedName")),
new TagParameter("DateString",getObject("PromotionForm:StartDate:StartDate_Day:Value")),
new TagParameter("TimeInputFieldName",getObject("PromotionForm:StartDate:StartDate_Time:QualifiedName")),
new TagParameter("DateInputFieldLabel",localizeText(context.getFormattedValue("AssignedPromotionsList.StartDate.link",null))),
new TagParameter("DateObject",getObject("PromotionForm:StartDate:Value")),
new TagParameter("Invalid",getObject("invalidstartdate"))}, 960); 
 } else { 
 processOpenTag(response, pageContext, "datetimeinput", new TagParameter[] {
new TagParameter("Readonly","true"),
new TagParameter("TimeString",getObject("PromotionForm:StartDate:StartDate_Time:Value")),
new TagParameter("Required","true"),
new TagParameter("DateInputFieldName",getObject("PromotionForm:StartDate:StartDate_Day:QualifiedName")),
new TagParameter("DateString",getObject("PromotionForm:StartDate:StartDate_Day:Value")),
new TagParameter("TimeInputFieldName",getObject("PromotionForm:StartDate:StartDate_Time:QualifiedName")),
new TagParameter("DateInputFieldLabel",localizeText(context.getFormattedValue("AssignedPromotionsList.StartDate.link",null))),
new TagParameter("DateObject",getObject("PromotionForm:StartDate:Value")),
new TagParameter("Invalid",getObject("invalidstartdate"))}, 971); 
 } 
      out.write("</tr>\n<tr>\n<td>&nbsp;</td>");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",986,e);}if (_boolean_result) { 
 processOpenTag(response, pageContext, "datetimeinput", new TagParameter[] {
new TagParameter("TimeString",getObject("PromotionForm:EndDate:EndDate_Time:Value")),
new TagParameter("Required","true"),
new TagParameter("DateInputFieldName",getObject("PromotionForm:EndDate:EndDate_Day:QualifiedName")),
new TagParameter("DateString",getObject("PromotionForm:EndDate:EndDate_Day:Value")),
new TagParameter("TimeInputFieldName",getObject("PromotionForm:EndDate:EndDate_Time:QualifiedName")),
new TagParameter("DateInputFieldLabel",localizeText(context.getFormattedValue("ChannelShortLinkList.EndDate.link",null))),
new TagParameter("DateObject",getObject("PromotionForm:EndDate:Value")),
new TagParameter("Invalid",getObject("PromotionForm:EndDate:Invalid"))}, 987); 
 } else { 
 processOpenTag(response, pageContext, "datetimeinput", new TagParameter[] {
new TagParameter("Readonly","true"),
new TagParameter("TimeString",getObject("PromotionForm:EndDate:EndDate_Time:Value")),
new TagParameter("Required","true"),
new TagParameter("DateInputFieldName",getObject("PromotionForm:EndDate:EndDate_Day:QualifiedName")),
new TagParameter("DateString",getObject("PromotionForm:EndDate:EndDate_Day:Value")),
new TagParameter("TimeInputFieldName",getObject("PromotionForm:EndDate:EndDate_Time:QualifiedName")),
new TagParameter("DateInputFieldLabel",localizeText(context.getFormattedValue("ChannelShortLinkList.EndDate.link",null))),
new TagParameter("DateObject",getObject("PromotionForm:EndDate:Value")),
new TagParameter("Invalid",getObject("PromotionForm:EndDate:Invalid"))}, 998); 
 } 
      out.write("</tr>\n</table>\n</td>\n</tr>");
 _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("PromotionForm:Unlimited:Value"),null).equals(context.getFormattedValue("false",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1017,e);}if (_boolean_result) { 
 {Object temp_obj = ("true"); getPipelineDictionary().put("LimitedBudgetChecked", temp_obj);} 
 } 
      out.write("<tr><td colspan=\"2\" class=\"s\"><img src=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/images/space.gif\" height=\"4\" alt=\"\" border=\"0\"/></td></tr>\n<tr>\n<td class=\"table_title2 s\" nowrap=\"nowrap\" colspan =\"2\">");
 {out.write(localizeISText("Promotion.Budget.table_title2",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</td>\n</tr>\n<tr><td colspan=\"2\"><img src=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/images/space.gif\" height=\"4\" alt=\"\" border=\"0\"/></td></tr>\n<tr>\n<td class=\"label_select\" nowrap=\"nowrap\">\n<label class=\"label label_select\" for=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetSource:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1027}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('>');
 {out.write(localizeISText("Promotion.Source.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":</label></td>\n<td>\n<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n<tr>\n<td class=\"table_detail\" width=\"130\">");
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || !((Boolean) (disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1032,e);}if (_boolean_result) { 
      out.write("<select id=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetSource:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1033}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" disabled =\"disabled\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetSource:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1033}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" class= inputfield_en>\n<option value=\"None\">");
 {out.write(localizeISText("Promotion.None.option",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</option>");
 _boolean_result=false;try {_boolean_result=((Boolean)((hasLoopElements("BudgetSources") ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1035,e);}if (_boolean_result) { 
 while (loop("BudgetSources","BudgetSource",null)) { 
      out.write("<option value=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("BudgetSource:UUID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1037}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("BudgetSource:UUID"),null).equals(context.getFormattedValue(getObject("PromotionForm:BudgetSource:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1038,e);}if (_boolean_result) { 
      out.write("\nselected=\"selected\"\n");
 } 
      out.write('>');
 {String value = null;try{value=context.getFormattedValue(getObject("BudgetSource:DisplayName(SelectedLocale)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1040}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("</option>");
 } 
 } 
      out.write("</select>");
 } else { 
      out.write("<select id=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetSource:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1046}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetSource:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1046}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" class=\"select inputfield_en\">\n<option value=\"None\">");
 {out.write(localizeISText("Promotion.None.option",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</option>");
 _boolean_result=false;try {_boolean_result=((Boolean)((hasLoopElements("BudgetSources") ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1048,e);}if (_boolean_result) { 
 while (loop("BudgetSources","BudgetSource",null)) { 
      out.write("<option value=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("BudgetSource:UUID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1050}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)((((context.getFormattedValue(getObject("BudgetSource:UUID"),null).equals(context.getFormattedValue(getObject("PromotionForm:BudgetSource:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1051,e);}if (_boolean_result) { 
      out.write("\nselected=\"selected\"\n");
 } 
      out.write('>');
 {String value = null;try{value=context.getFormattedValue(getObject("BudgetSource:DisplayName(SelectedLocale)"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1053}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("</option>");
 } 
 } 
      out.write("</select>");
 } 
      out.write("</td>\n<td class=\"label\" nowrap=\"nowrap\"><label class=\"label label_text\">");
 {out.write(localizeISText("Promotion.RemainingBudget.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":</label>\n</td>\n<td class=\"table_detail\">");
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("BudgetRemaining")))).booleanValue() && ((Boolean) (disableErrorMessages().isDefined(getObject("LimitedBudgetChecked")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1063,e);}if (_boolean_result) { 
 {String value = null;try{value=context.getFormattedValue(getObject("BudgetRemaining"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1064}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
 } else { 
 {out.write(localizeISText("Promotion.NA.table_detail",null,null,null,null,null,null,null,null,null,null,null,null));} 
 } 
      out.write("</td>\n</tr>\n</table>\n</td> \n</tr>\n<tr>\n<td class=\"label_radio label_top\">");
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("PromotionForm:BudgetAmount:isInvalid")).booleanValue() || ((Boolean) ((((context.getFormattedValue(getObject("ERROR_Promotion"),null).equals(context.getFormattedValue("BudgetAmountParseError",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1075,e);}if (_boolean_result) { 
      out.write("<label class=\"label label_radio label_error\">");
 {out.write(localizeISText("Promotion.Amount.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":</label>");
 } else { 
      out.write("<label class=\"label label_radio\">");
 {out.write(localizeISText("Promotion.Amount.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":</label>");
 } 
      out.write("</td>\n<td>\n<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n<tr>\n<td class=\"input_radio\">");
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1085,e);}if (_boolean_result) { 
      out.write("<input class=\"inputfield_en\" type=\"radio\" value=\"true\" id=\"unlimitedPromotion\" \nonclick=\"toogleUnlimited(true);\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Unlimited:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1087}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\"\nchecked=\"checked\" disabled =\"disabled\" />");
 } else {_boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("PromotionForm:Unlimited:ValueMissing")).booleanValue() || ((Boolean) (((!(context.getFormattedValue("false",null).equals(context.getFormattedValue(getObject("PromotionForm:Unlimited:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (getObject("Promotion:Unlimited"))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1089,e);}if (_boolean_result) { 
      out.write("<input class=\"inputfield_en\" type=\"radio\" value=\"true\" id=\"unlimitedPromotion\" \nonclick=\"toogleUnlimited(true);\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Unlimited:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1091}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\"\nchecked=\"checked\" ");
 _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) ((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1092,e);}if (_boolean_result) { 
      out.write("disabled=\"disabled\"");
 } 
      out.write(' ');
      out.write('/');
      out.write('>');
 } else { 
      out.write("<input class=\"inputfield_en\" type=\"radio\" value=\"true\" id=\"unlimitedPromotion\" \nonclick=\"toogleUnlimited(true);\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Unlimited:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1095}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) ((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1096,e);}if (_boolean_result) { 
      out.write(" disabled=\"disabled\"");
 } 
      out.write('\n');
      out.write('/');
      out.write('>');
 }} 
      out.write("</td>\n<td class=\"label_radio_text\" colspan=\"2\">\n<label class=\"label label_radio_text label_light\" for=\"unlimitedPromotion\">");
 {out.write(localizeISText("Promotion.Unlimited.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</label>\n</td>\n</tr>\n<tr>\n<td class=\"input_radio\">");
 _boolean_result=false;try {_boolean_result=((Boolean)(((!((Boolean) (disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING")))).booleanValue() || ((Boolean) (((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1106,e);}if (_boolean_result) { 
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("LimitedBudgetChecked"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1107,e);}if (_boolean_result) { 
      out.write("<input class=\"inputfield_en radio\" type=\"radio\" value=\"false\" id=\"limitedPromotion\" onclick=\"toogleUnlimited(false);\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Unlimited:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1108}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" disabled =\"disabled\" checked=\"checked\"/>");
 } else { 
      out.write("<input class=\"inputfield_en radio\" type=\"radio\" value=\"false\" id=\"limitedPromotion\" onclick=\"toogleUnlimited(false);\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Unlimited:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1110}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" disabled =\"disabled\"/>");
 } 
 } else { 
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("LimitedBudgetChecked"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1113,e);}if (_boolean_result) { 
      out.write("<input class=\"inputfield_en radio\" type=\"radio\" value=\"false\" id=\"limitedPromotion\" onclick=\"toogleUnlimited(false);\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Unlimited:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1114}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" checked=\"checked\" />");
 } else { 
      out.write("<input class=\"inputfield_en radio\" type=\"radio\" value=\"false\" id=\"limitedPromotion\" onclick=\"toogleUnlimited(false);\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Unlimited:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1116}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" />");
 } 
      out.write(' ');
      out.write('\n');
 } 
      out.write("</td>\n<td colspan=\"2\">\n<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n<tr>\n<td class=\"label_radio_text\">\n<label class=\"label label_radio_text label_light\" for=\"limitedPromotion\">");
 {out.write(localizeISText("Promotion.BudgetAmount.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</label>\n</td>\n<td class=\"table_detail\">\n<span id=\"budgetCurrency\">");
 {Object temp_obj = (""); getPipelineDictionary().put("budgetCurrencyToUse", temp_obj);} 
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && ((Boolean) (disableErrorMessages().isDefined(getObject("Promotion:Currency")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1129,e);}if (_boolean_result) { 
 {Object temp_obj = (getObject("Promotion:Currency:Mnemonic")); getPipelineDictionary().put("budgetCurrencyToUse", temp_obj);} 
 {String value = null;try{value=context.getFormattedValue(getObject("Promotion:Currency:Mnemonic"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1131}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
 } else {_boolean_result=false;try {_boolean_result=((Boolean)((((!(context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE)))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1132,e);}if (_boolean_result) { 
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1133}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
 {Object temp_obj = (getObject("PromotionForm:Currency:Value")); getPipelineDictionary().put("budgetCurrencyToUse", temp_obj);} 
 }} 
      out.write("</span>\n</td>\n<td class=\"table_detail\">");
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || !((Boolean) (disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1139,e);}if (_boolean_result) { 
      out.write("<input type=\"text\" maxlength=8 size=8 id=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetAmount:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1140}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetAmount:Amount:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1140}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" value=\"");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("LimitedBudgetChecked"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1140,e);}if (_boolean_result) { 
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetAmount:Value"),new Integer(MONEY_SHORT),null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1140}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
 } 
      out.write("\" class=\"inputfield_en\" disabled =\"disabled\"/>");
 } else { 
      out.write("<input type=\"text\" maxlength=8 size=8 id=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetAmount:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1142}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetAmount:Amount:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1142}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" value=\"");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("LimitedBudgetChecked"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1142,e);}if (_boolean_result) { 
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetAmount:Value"),new Integer(MONEY_SHORT),null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1142}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
 } 
      out.write("\" class=\"inputfield_en\"/>");
 } 
      out.write("<input type=\"hidden\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetAmount:Currency:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1144}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" value=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("budgetCurrencyToUse"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1144}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\"/>\n</td>\n</tr>\n</table>\n</td>\n</tr>\n<tr>\n<td>&nbsp;</td>\n<td class=\"input_checkbox\">\n<input class=\"inputfield_en\" type=\"checkbox\" \nid=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:DisableByBudget:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1154}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" \nname=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:DisableByBudget:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1155}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write(' ');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || !((Boolean) (disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1156,e);}if (_boolean_result) { 
      out.write("\ndisabled =\"disabled\"\n");
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("PromotionForm:DisableByBudget:Value")).booleanValue() && ((Boolean) (disableErrorMessages().isDefined(getObject("LimitedBudgetChecked")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1159,e);}if (_boolean_result) { 
      out.write("\nchecked=\"checked\"\n");
 } else {_boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:DisableByBudget:Value"),null).equals(context.getFormattedValue("on",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) (disableErrorMessages().isDefined(getObject("LimitedBudgetChecked")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1161,e);}if (_boolean_result) { 
      out.write("\nchecked=\"checked\"\n");
 }} 
      out.write("\n/>\n</td>\n<td class=\"label_checkbox_text\">\n<label class=\"label label_checkbox_text label_light\" for=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:DisableByBudget:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1167}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('>');
 {out.write(localizeISText("Promotion.TakePromotionOfflineWhenExceeded.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</label>\n</td>\n</tr>\n</table>\n</td>\n</tr>\n<tr>\n<td class=\"label\">");
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("PromotionForm:BudgetNotificationEmail:isInvalid")).booleanValue() || ((Boolean) getObject("PromotionForm:BudgetNotification:isInvalid")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1175,e);}if (_boolean_result) { 
      out.write("<label class=\"label label_error\">");
 {out.write(localizeISText("Promotion.Notification.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":</label>");
 } else { 
      out.write("<label class=\"label\">");
 {out.write(localizeISText("Promotion.Notification.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write(":</label>");
 } 
      out.write("</td>\n<td>\n<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n<tr>\n<td class=\"label\">\n<label class=\"label label_light\" for=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationEmail:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1185}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('>');
 {out.write(localizeISText("Promotion.SendANotificationEmailTo.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</label>\n</td>\n<td class=\"table_detail\">\n<input type=\"text\" maxlength=\"255\" size=\"60\" \nid=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationEmail:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1189}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" \nname=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationEmail:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1190}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write(' ');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || !((Boolean) (disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1191,e);}if (_boolean_result) { 
      out.write("\ndisabled =\"disabled\"\n");
 } 
      out.write("\nvalue=\"");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("LimitedBudgetChecked"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1194,e);}if (_boolean_result) { 
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationEmail:Value"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1194}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
 } 
      out.write("\" \nclass=\"inputfield_en\"/>\n</td>\n</tr>\n</table>\n</td>\n</tr>\n<tr>\n<td>&nbsp;</td>\n<td>\n<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n<tr>\n<td class=\"input_checkbox\">\n<input type=\"checkbox\" \nid=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfBudgetReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1208}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" \nname=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfBudgetReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1209}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write(' ');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || !((Boolean) (disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1210,e);}if (_boolean_result) { 
      out.write("\ndisabled =\"disabled\"\n");
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:SendMailIfBudgetReached:Value"),null).equals(context.getFormattedValue("on",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (getObject("PromotionForm:SendMailIfBudgetReached:Value"))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) (disableErrorMessages().isDefined(getObject("LimitedBudgetChecked")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1213,e);}if (_boolean_result) { 
      out.write("\nchecked=\"checked\"\n");
 } 
      out.write("/>\n</td>\n<td class=\"label_checkbox_text\" colspan=\"2\">\n<label class=\"label label_checkbox_text label_light\" for=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfBudgetReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1218}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('>');
 {out.write(localizeISText("Promotion.WhenBudgetAmountIsExceeded.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</label>\n</td>\n</tr>\n<tr>\n<td class=\"input_checkbox\">\n<input type=\"checkbox\" \nid=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfThresholdReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1224}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" \nname=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfThresholdReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1225}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write(' ');
      out.write('\n');
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || !((Boolean) (disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1226,e);}if (_boolean_result) { 
      out.write("\ndisabled =\"disabled\"\n");
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((((Boolean) ((((context.getFormattedValue(getObject("PromotionForm:SendMailIfThresholdReached:Value"),null).equals(context.getFormattedValue("on",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (getObject("PromotionForm:SendMailIfThresholdReached:Value"))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() && ((Boolean) (disableErrorMessages().isDefined(getObject("LimitedBudgetChecked")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1229,e);}if (_boolean_result) { 
      out.write("\nchecked=\"checked\"\n");
 } 
      out.write("/>\n</td>\n<td class=\"label_checkbox_text\">\n<label class=\"label label_checkbox_text label_light\" for=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:SendMailIfThresholdReached:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1234}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write(' ');
      out.write('>');
 {out.write(localizeISText("Promotion.WhenBudgetAmountIsLowerThan.label",null,null,null,null,null,null,null,null,null,null,null,null));} 
      out.write("</label>\n</td>\n<td class=\"table_detail\">\n<input type=\"text\" \nid=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationThreshold:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1238}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" \nname=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationThreshold:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1239}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\" \nmaxlength=3 size=3 \n");
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || !((Boolean) (disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1241,e);}if (_boolean_result) { 
      out.write("\ndisabled =\"disabled\"\n");
 } 
      out.write("\nvalue=\"");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("LimitedBudgetChecked"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1244,e);}if (_boolean_result) { 
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotificationThreshold:Value"),"#",null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1244}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
 } 
      out.write("\" \nclass=\"inputfield_en\"/>%\n</td>\n</tr>\n</table>\n</td>\n</tr>\n<tr>\n<td colspan=\"2\"><img src=\"");
      out.print(context.getFormattedValue(context.webRoot(),null));
      out.write("/images/space.gif\" width=\"1\" height=\"4\" alt=\"\" border=\"0\"/></td>\n</tr>");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("CurrentChannelPermissionMap:SLD_MANAGE_MARKETING"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1254,e);}if (_boolean_result) { 
      out.write("<tr>\n<td colspan=\"2\" class=\"n\" align=\"right\">\n<table border=\"0\" cellspacing=\"4\" cellpadding=\"0\">\n<tr>");
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1260,e);}if (_boolean_result) { 
      out.write("<td class=\"button\">");
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1262,e);}if (_boolean_result) { 
      out.write("<input type=\"hidden\" name=\"GeneralPromotionInformation_Unlimited\" value=\"true\"/>");
 } else { 
      out.write("<input type=\"hidden\" value=\"dummy\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotification:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1265}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('/');
      out.write('>');
 } 
      out.write("<input type=\"hidden\" name=\"GeneralPromotionInformation_PID\" value=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("Promotion:ID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1267}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\"/>\n<input type=\"hidden\" name=\"DateFormatString\" value=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("CurrentSession:Locale:DefaultRegionalSettings:inputDatePattern"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1268}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write(' ');
 {String value = null;try{value=context.getFormattedValue(getObject("CurrentSession:Locale:DefaultRegionalSettings:inputTimePattern"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1268}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\"/>\n<input type=\"submit\" name=\"update\" value=\"");
      out.print(context.getFormattedValue(localizeText(context.getFormattedValue("Promotion.Apply.button",null)),null));
      out.write("\" class=\"button\"/>\n</td>\n<td class=\"button\"><input type=\"submit\" name=\"reset\" value=\"");
      out.print(context.getFormattedValue(localizeText(context.getFormattedValue("Promotion.Reset.button",null)),null));
      out.write("\" class=\"button\"/></td>");
 } else { 
      out.write("<td class=\"button\">");
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((((context.getFormattedValue(".All.",null).equals(context.getFormattedValue(getObject("PromotionForm:Currency:Value"),null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) ((disableErrorMessages().isDefined(getObject("Promotion:Currency"))))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1275,e);}if (_boolean_result) { 
      out.write("<input type=\"hidden\" name=\"GeneralPromotionInformation_Unlimited\" value=\"true\"/>");
 } else { 
      out.write("<input type=\"hidden\" value=\"dummy\" name=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("PromotionForm:BudgetNotification:QualifiedName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1278}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write('"');
      out.write('/');
      out.write('>');
 } 
      out.write("<input type=\"hidden\" name=\"DateFormatString\" value=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("CurrentSession:Locale:DefaultRegionalSettings:inputDatePattern"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1280}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write(' ');
 {String value = null;try{value=context.getFormattedValue(getObject("CurrentSession:Locale:DefaultRegionalSettings:inputTimePattern"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1280}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\"/>\n<input type=\"submit\" name=\"create\" value=\"");
      out.print(context.getFormattedValue(localizeText(context.getFormattedValue("Promotion.Apply.button",null)),null));
      out.write("\" class=\"button\"/>\n</td>\n<td class=\"button\"><input type=\"hidden\" name=\"ChannelID\" value=\"");
 {String value = null;try{value=context.getFormattedValue(getObject("CurrentChannel:UUID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {1283}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} 
      out.write("\"/>\n<input type=\"submit\" name=\"cancel\" value=\"");
      out.print(context.getFormattedValue(localizeText(context.getFormattedValue("Promotion.Cancel.button",null)),null));
      out.write("\" class=\"button\"/>\n</td>");
 } 
      out.write("</tr>\n</table>\n</td>\n</tr>");
 } 
      out.write("</table>\n</td>\n</tr>\n</table>");
 out.print("</form>"); 
 _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("Promotion"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1298,e);}if (_boolean_result) { 
 {out.flush();processLocalIncludeByServer((com.intershop.beehive.core.capi.request.ServletResponse)response,"inc/BackToList", null, "1299");} 
 } 
 _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) (((!((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) (disableErrorMessages().isDefined(getObject("LimitedBudgetChecked")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue() || ((Boolean) (((((Boolean) (disableErrorMessages().isDefined(getObject("Promotion")))).booleanValue() && !((Boolean) (disableErrorMessages().isDefined(getObject("LimitedBudgetChecked")))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",1301,e);}if (_boolean_result) { 
      out.write("<script language=\"JavaScript\" type=\"text/javascript\">\n<!--\ntoogleUnlimited(true); \n-->\n</script>");
 } 
      out.write("<!-- EO Main Content -->\n<!-- EO Working Area -->");
 printFooter(out); 
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
