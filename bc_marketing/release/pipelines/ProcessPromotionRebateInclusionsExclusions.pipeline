<?xml version="1.0" encoding="UTF-8"?>
<pipeline:Pipeline xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:pipeline="http://www.intershop.de/pipeline/2010"
    name="ProcessPromotionRebateInclusionsExclusions" type="process">
<!--@Location 2,34-->
  <nodes xsi:type="pipeline:Text" nodeID="Text0"/>
<!--@Location 28,13-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode13" strict="true" name="AssignObjectIDsToRebateFilterGroup"
      callMode="Private">
    <nodeSuccessors name="next" next="CheckForEmptyIterator0"/>
    <parameters name="UUIDIterator" type="java.util.Iterator" optional="true"/>
    <parameters name="RebateFilterGroup" type="com.intershop.component.marketing.capi.rebate.RebateFilterGroup"/>
  </nodes>
<!--@Location 28,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyIterator0">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyIterator.xml"/>
    <nodeSuccessors name="next" next="AssignObjectIDsToRebateFilterGroup3"/>
<!--@BendPoints 59,29 59,33-->
    <nodeSuccessors name="pipelet_error" next="JoinNode23"/>
    <parameterBindings name="FilledIterator" objectPath="UUIDIterator"/>
  </nodes>
<!--@Location 28,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AssignObjectIDsToRebateFilterGroup3">
    <pipelet href="enfinity:/bc_marketing/pipelets/AssignObjectIDsToRebateFilterGroup.xml"/>
    <nodeSuccessors name="next" next="JoinNode23"/>
    <parameterBindings name="ObjectIDs" objectPath="UUIDIterator"/>
  </nodes>
<!--@Location 28,16-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode23">
    <nodeSuccessors name="next" next="EndNode4"/>
  </nodes>
<!--@Location 28,17-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode4" strict="true"/>
<!--@Location 12,13-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode12" name="AssignOrUnassignAllObjects"
      callMode="Private">
    <nodeSuccessors name="next" next="DecisionNode4"/>
  </nodes>
<!--@displayNearNode@If a selected UUID iterator is given, only
 those items will be assigned to, or 
unasssigned from a rebate filter group.

If no UUID iterator is given, all items
retrieved from the pageable iterator
will be assigned to, or unasssigned from
a rebate filter group.
@Location 12,14-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode4" conditionKey="UUIDIterator"
      operator="undef">
    <nodeSuccessors name="decision_yes" next="DecisionNode5"/>
<!--@BendPoints 30,29 34,29 34,47-->
    <nodeSuccessors name="decision_no" next="CallNode6"/>
  </nodes>
<!--@Location 12,15-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode5" conditionKey="PageableID">
    <nodeSuccessors name="decision_yes" next="GetPageable2"/>
<!--@BendPoints 29,31-->
    <nodeSuccessors name="decision_no" next="JoinNode1"/>
  </nodes>
<!--@Location 12,16-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetPageable2">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetPageable.xml"/>
<!--@BendPoints 25,34-->
    <nodeSuccessors name="next" next="CallNode14"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode1"/>
  </nodes>
<!--@Location 12,17-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode14">
    <nodeSuccessors name="NoJob" next="CreateIteratorFromPageable1"/>
<!--@BendPoints 25,36-->
    <nodeSuccessors name="BatchJob" next="DecisionNode14"/>
    <parameterBindings name="NumberOfElements" objectPath="Pageable:ElementCount"/>
    <startNode referencedName="ProcessPromotionRebateInclusionsExclusions-CompareWithThreshold"/>
  </nodes>
<!--@Location 15,17-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateIteratorFromPageable1">
    <pipelet href="enfinity:/bc_foundation/pipelets/CreateIteratorFromPageable.xml"/>
    <nodeSuccessors name="next" next="DecisionNode0"/>
    <parameterBindings name="PageableIterator" objectPath="Pageable"/>
    <returnValueBindings name="ResettableIterator" objectPath="Objects"/>
  </nodes>
<!--@Location 15,18-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode0" conditionKey="AlreadySelectedCategoryUUIDs">
<!--@BendPoints 33,37-->
    <nodeSuccessors name="decision_yes" next="DecisionNode13"/>
    <nodeSuccessors name="decision_no" next="JoinNode0"/>
  </nodes>
<!--@Location 16,19-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode13" conditionKey="NotSelectableCategoryUUIDs">
    <nodeSuccessors name="decision_yes" next="CreateCollectionFromIterator0"/>
    <nodeSuccessors name="decision_no" next="JoinNode0"/>
  </nodes>
<!--@Location 16,20-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateCollectionFromIterator0">
    <pipelet href="enfinity:/bc_foundation/pipelets/CreateCollectionFromIterator.xml"/>
    <nodeSuccessors name="next" next="CreateCollectionFromIterator1"/>
    <parameterBindings name="ObjectIterator" objectPath="AlreadySelectedCategoryUUIDs"/>
    <returnValueBindings name="ObjectCollection" objectPath="AlreadySelectedObjectUUIDs"/>
  </nodes>
<!--@Location 16,21-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateCollectionFromIterator1">
    <pipelet href="enfinity:/bc_foundation/pipelets/CreateCollectionFromIterator.xml"/>
    <nodeSuccessors name="next" next="JoinNode18"/>
    <parameterBindings name="ObjectIterator" objectPath="NotSelectableCategoryUUIDs"/>
    <returnValueBindings name="ObjectCollection" objectPath="NotSelectableObjectUUIDs"/>
  </nodes>
<!--@Location 15,21-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode18">
    <nodeSuccessors name="next" next="CallNode1"/>
  </nodes>
<!--@Location 15,22-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode1">
    <nodeSuccessors name="next" next="CallNode6"/>
    <startNode referencedName="ProcessPromotionRebateInclusionsExclusions-FilterObjects"/>
  </nodes>
<!--@Location 15,23-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode6" callModePermissions="Private">
<!--@BendPoints 31,49-->
    <nodeSuccessors name="next" next="JoinNode9"/>
    <startNode objectPath="AssignOrUnassignPipeline"/>
  </nodes>
<!--@Location 14,24-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode9">
<!--@BendPoints 29,51-->
    <nodeSuccessors name="next" next="JoinNode7"/>
  </nodes>
<!--@Location 12,25-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode7">
<!--@BendPoints 25,52-->
    <nodeSuccessors name="next" next="EndNode3"/>
  </nodes>
<!--@Location 12,26-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode3"/>
<!--@Location 15,19-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode0">
    <nodeSuccessors name="next" next="JoinNode18"/>
  </nodes>
<!--@Location 12,18-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode14" conditionKey="RemoveRebateFilterGroup"
      operator="str_eq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="DecisionNode21"/>
<!--@BendPoints 28,37 28,43-->
    <nodeSuccessors name="decision_no" next="JoinNode15"/>
  </nodes>
<!--@Location 12,19-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode21" conditionKey="RebateFilterGroup:Scope"
      operator="str_neq" conditionValue="APPLICATION">
<!--@BendPoints 25,40-->
    <nodeSuccessors name="decision_yes" next="UnassignRebateFilterGroup1"/>
<!--@BendPoints 27,39 27,40-->
    <nodeSuccessors name="decision_no" next="SetRebateFilterGroupScope1"/>
  </nodes>
<!--@Location 12,20-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UnassignRebateFilterGroup1">
    <pipelet href="enfinity:/bc_marketing/pipelets/UnassignRebateFilterGroup.xml"/>
    <nodeSuccessors name="next" next="JoinNode12"/>
  </nodes>
<!--@Location 12,21-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode12">
<!--@BendPoints 25,44-->
    <nodeSuccessors name="next" next="KeyMapper2"/>
  </nodes>
<!--@Location 12,22-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper2">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
<!--@BendPoints 25,46-->
    <nodeSuccessors name="next" next="KeyMapper3"/>
    <parameterBindings name="InValue_1" objectPath="CurrentChannel:RepositoryDomain"/>
    <parameterBindings name="InValue_2" objectPath="CurrentChannel:OwningDomain:Site"/>
    <returnValueBindings name="OutValue_1" objectPath="ProcessOwningDomain"/>
    <returnValueBindings name="OutValue_2" objectPath="ProcessExecutionDomain"/>
  </nodes>
<!--@Location 12,23-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper3">
    <configurationValues name="ValueType" value="Form Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
<!--@BendPoints 25,48-->
    <nodeSuccessors name="next" next="Call1"/>
    <parameterBindings name="InValue_1" constant="ProcessPromotionRebateInclusionsExclusions-ProcessBatch"/>
    <parameterBindings name="InValue_2" constant="ProcessPromotionRebateInclusionsExclusions-InitBatch"/>
    <parameterBindings name="InValue_3" constant="ProcessPromotionRebateInclusionsExclusions-PostBatch"/>
    <parameterBindings name="InValue_4" constant="ProcessPromotionRebateInclusionsExclusions-ErrorBatch"/>
    <parameterBindings name="InValue_5" objectPath="PromotionDomain:UUID"/>
    <parameterBindings name="InValue_6" objectPath="RebateFilterGroup:UUID"/>
    <parameterBindings name="InValue_7" constant="ProcessPromotionRebateInclusionsExclusions-GetPageableSequenceBatch"/>
    <parameterBindings name="InValue_8" objectPath="RebateCondition:UUID"/>
    <returnValueBindings name="OutValue_1" objectPath="ProcessPipeline"/>
    <returnValueBindings name="OutValue_2" objectPath="InitPipeline"/>
    <returnValueBindings name="OutValue_3" objectPath="PostPipeline"/>
    <returnValueBindings name="OutValue_4" objectPath="ErrorPipeline"/>
    <returnValueBindings name="OutValue_5" objectPath="PromotionDomainUUID"/>
    <returnValueBindings name="OutValue_6" objectPath="RebateFilterGroupUUID"/>
    <returnValueBindings name="OutValue_7" objectPath="DeterminePageablePipeline12"/>
    <returnValueBindings name="OutValue_8" objectPath="RebateConditionID"/>
  </nodes>
<!--@Location 12,24-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call1">
    <nodeSuccessors name="next" next="JoinNode7"/>
    <startNode referencedName="ProcessBatchJob-Create"/>
  </nodes>
<!--@Location 13,20-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetRebateFilterGroupScope1">
    <pipelet href="enfinity:/bc_marketing/pipelets/SetRebateFilterGroupScope.xml"/>
    <nodeSuccessors name="next" next="JoinNode15"/>
    <parameterBindings name="Scope" nullBinding="true"/>
  </nodes>
<!--@Location 13,21-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode15">
    <nodeSuccessors name="next" next="JoinNode12"/>
  </nodes>
<!--@Location 14,16-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode1">
    <nodeSuccessors name="next" next="JoinNode9"/>
  </nodes>
<!--@Location 18,13-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode2" strict="true" name="AssignOrUnassignSelectedObjects"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode13"/>
    <parameters name="UUIDIterator" type="java.util.Iterator"/>
    <parameters name="AssignOrUnassignPipeline" type="java.lang.String"/>
    <parameters name="RebateFilterGroup" type="java.lang.String"/>
  </nodes>
<!--@Location 18,14-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode13" callModePermissions="Private">
<!--@BendPoints 37,30-->
    <nodeSuccessors name="next" next="EndNode1"/>
    <startNode objectPath="AssignOrUnassignPipeline"/>
  </nodes>
<!--@Location 18,15-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode1" strict="true"/>
<!--@Location 15,32-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode17" strict="true" name="AssignToAction"
      callMode="Private">
    <nodeSuccessors name="next" next="AssignRebateFilterGroupToAction2"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="RebateFilterGroup" type="com.intershop.component.marketing.capi.rebate.RebateFilterGroup"/>
    <parameters name="Action" type="com.intershop.component.foundation.capi.action.Action"
        optional="true"/>
    <parameters name="ActionID" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 15,33-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AssignRebateFilterGroupToAction2">
    <pipelet href="enfinity:/bc_marketing/pipelets/AssignRebateFilterGroupToAction.xml"/>
<!--@BendPoints 31,68-->
    <nodeSuccessors name="next" next="EndNode2"/>
<!--@BendPoints 33,67 33,68-->
    <nodeSuccessors name="pipelet_error" next="EndNode11"/>
  </nodes>
<!--@Location 15,34-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode2" strict="true"/>
<!--@Location 16,34-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode11" name="ERROR" strict="true">
    <returnValues name="ERROR_MISSING_ACTION" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 13,32-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode11" strict="true" name="AssignToCondition"
      callMode="Private">
    <nodeSuccessors name="next" next="AssignRebateFilterGroupToCondition2"/>
    <parameters name="ConditionID" type="java.lang.String" optional="true"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="RebateFilterGroup" type="com.intershop.component.marketing.capi.rebate.RebateFilterGroup"/>
    <parameters name="Condition" type="com.intershop.component.foundation.capi.condition.Condition"
        optional="true"/>
  </nodes>
<!--@Location 13,33-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AssignRebateFilterGroupToCondition2">
    <pipelet href="enfinity:/bc_marketing/pipelets/AssignRebateFilterGroupToCondition.xml"/>
<!--@BendPoints 27,68-->
    <nodeSuccessors name="next" next="EndNode16"/>
<!--@BendPoints 29,67 29,68-->
    <nodeSuccessors name="pipelet_error" next="EndNode14"/>
  </nodes>
<!--@Location 13,34-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode16" strict="true"/>
<!--@Location 14,34-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode14" name="ERROR" strict="true">
    <returnValues name="ERROR_MISSING_CONDITION" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 20,13-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode15" strict="true" name="CompareWithThreshold"
      callMode="Private">
<!--@BendPoints 41,28-->
    <nodeSuccessors name="next" next="GetPropertyValue1"/>
    <parameters name="PropertyName" type="java.lang.String" optional="true"/>
    <parameters name="NumberOfElements" type="java.lang.Integer"/>
  </nodes>
<!--@Location 20,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetPropertyValue1">
    <configurationValues name="DefaultPropertyValue" value="1000"/>
    <configurationValues name="PropertyName" value="intershop.cartridges.bc_marketing.promotion.assignment.threshold"/>
    <configurationValues name="PropertyType" value="Global"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetPropertyValue.xml"/>
    <nodeSuccessors name="next" next="VerifyInteger2"/>
<!--@BendPoints 43,29 43,30-->
    <nodeSuccessors name="pipelet_error" next="KeyMapper4"/>
    <returnValueBindings name="PropertyValue" objectPath="Threshold"/>
  </nodes>
<!--@Location 20,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="VerifyInteger2">
    <pipelet href="enfinity:/bc_foundation/pipelets/VerifyInteger.xml"/>
<!--@BendPoints 41,32-->
    <nodeSuccessors name="next" next="DecisionNode15"/>
<!--@BendPoints 42,31 42,30 43,30-->
    <nodeSuccessors name="pipelet_error" next="KeyMapper4"/>
    <parameterBindings name="LocalizedString" objectPath="Threshold"/>
    <returnValueBindings name="IntegerObject" objectPath="Threshold"/>
  </nodes>
<!--@Location 20,16-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode15" conditionKey="Threshold"
      operator="lte" conditionItem="NumberOfElements">
    <nodeSuccessors name="decision_yes" next="EndNode24"/>
<!--@BendPoints 43,33 43,34-->
    <nodeSuccessors name="decision_no" next="EndNode25"/>
  </nodes>
<!--@Location 20,17-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode24" name="BatchJob" strict="true"/>
<!--@Location 21,17-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode25" name="NoJob" strict="true"/>
<!--@Location 21,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper4">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
<!--@BendPoints 43,32 41,32-->
    <nodeSuccessors name="next" next="DecisionNode15"/>
    <parameterBindings name="InValue_1" constant="(Integer)1000"/>
    <returnValueBindings name="OutValue_1" objectPath="Threshold"/>
  </nodes>
<!--@Location 4,32-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode4" strict="true" name="CreateCollectionFromArray"
      callMode="Private">
    <nodeSuccessors name="next" next="AddObjectToVector4"/>
    <parameters name="ObjectsArray" type="java.lang.Object" optional="true"/>
  </nodes>
<!--@Location 4,33-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddObjectToVector4">
    <configurationValues name="Mode" value="Forbid Duplicates"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
<!--@BendPoints 9,68-->
    <nodeSuccessors name="next" next="EndNode10"/>
    <parameterBindings name="InVector" nullBinding="true"/>
    <parameterBindings name="Object" nullBinding="true"/>
    <parameterBindings name="Objects" objectPath="ObjectsArray"/>
    <returnValueBindings name="Iterator" objectPath="ObjectsIterator"/>
    <returnValueBindings name="OutVector" objectPath="ObjectsCollection"/>
  </nodes>
<!--@Location 4,34-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode10" strict="true">
    <returnValues name="ObjectsCollection" type="java.util.Collection"/>
    <returnValues name="ObjectsIterator" type="java.util.Iterator" optional="true"/>
  </nodes>
<!--@Location 23,13-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode34" strict="true" name="CreateRebateFilterGroup"
      callMode="Private">
<!--@BendPoints 47,28-->
    <nodeSuccessors name="next" next="CreateRebateFilterGroup5"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="Exclusion" type="java.lang.Boolean"/>
    <parameters name="FilterObjectType" type="java.lang.String"/>
    <parameters name="Scope" type="java.lang.String"/>
    <parameters name="ApplicationUUID" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 23,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateRebateFilterGroup5">
    <configurationValues name="FilterObjectType" value="PRODUCT"/>
    <configurationValues name="Scope" value="CONDITION"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/CreateRebateFilterGroup.xml"/>
<!--@BendPoints 47,30-->
    <nodeSuccessors name="next" next="EndNode15"/>
  </nodes>
<!--@Location 23,15-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode15" strict="true">
    <returnValues name="RebateFilterGroup" type="com.intershop.component.marketing.capi.rebate.RebateFilterGroup"/>
  </nodes>
<!--@Location 17,32-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode22" strict="true" name="CurrentlySelectedProductIDs"
      callMode="Private">
<!--@BendPoints 35,66-->
    <nodeSuccessors name="next" next="CreateFilteredIDsIteratorByFilterGroup2"/>
    <parameters name="RebateFilterGroup" type="com.intershop.component.marketing.capi.rebate.RebateFilterGroup"
        optional="true"/>
  </nodes>
<!--@Location 17,33-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateFilteredIDsIteratorByFilterGroup2">
    <pipelet href="enfinity:/bc_marketing/pipelets/CreateFilteredIDsIteratorByFilterGroup.xml"/>
<!--@BendPoints 35,68-->
    <nodeSuccessors name="next" next="EndNode17"/>
    <returnValueBindings name="FilteredIDs" objectPath="PreselectedUUIDs"/>
  </nodes>
<!--@Location 17,34-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode17" strict="true">
    <returnValues name="PreselectedUUIDs" type="com.intershop.beehive.foundation.util.ResettableIterator"
        optional="true"/>
  </nodes>
<!--@Location 23,32-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode23" strict="true" name="DBinitAssignToAction"
      callMode="Private">
<!--@BendPoints 47,66 46,66 46,67-->
    <nodeSuccessors name="next" next="DecisionNode6"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"
        optional="true"/>
    <parameters name="Exclusion" type="java.lang.Boolean" optional="true"/>
    <parameters name="FilterObjectType" type="java.lang.String" optional="true"/>
    <parameters name="ObjectIDs" type="java.util.Iterator" optional="true"/>
    <parameters name="RebateFilterGroup" type="com.intershop.component.marketing.capi.rebate.RebateFilterGroup"
        optional="true"/>
    <parameters name="Action" type="com.intershop.component.foundation.capi.action.Action"
        optional="true"/>
    <parameters name="ActionID" type="java.lang.String" optional="true"/>
    <parameters name="Scope" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 23,33-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode6" conditionKey="RebateFilterGroup">
<!--@BendPoints 48,67 48,73-->
    <nodeSuccessors name="decision_yes" next="JoinNode13"/>
<!--@BendPoints 47,68-->
    <nodeSuccessors name="decision_no" next="CreateRebateFilterGroup1"/>
  </nodes>
<!--@Location 23,36-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode13">
    <nodeSuccessors name="next" next="JoinNode33"/>
  </nodes>
<!--@Location 21,36-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode33">
<!--@BendPoints 43,74-->
    <nodeSuccessors name="next" next="AssignObjectIDsToRebateFilterGroup2"/>
  </nodes>
<!--@Location 21,37-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AssignObjectIDsToRebateFilterGroup2">
    <pipelet href="enfinity:/bc_marketing/pipelets/AssignObjectIDsToRebateFilterGroup.xml"/>
    <nodeSuccessors name="next" next="EndNode29"/>
  </nodes>
<!--@Location 21,38-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode29" strict="true">
    <returnValues name="RebateFilterGroup" type="com.intershop.component.marketing.capi.rebate.RebateFilterGroup"
        optional="true"/>
  </nodes>
<!--@Location 23,34-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateRebateFilterGroup1">
    <configurationValues name="FilterObjectType" value="CATEGORY"/>
    <configurationValues name="Scope" value="ACTION"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/CreateRebateFilterGroup.xml"/>
    <nodeSuccessors name="next" next="AssignRebateFilterGroupToAction1"/>
  </nodes>
<!--@Location 23,35-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AssignRebateFilterGroupToAction1">
    <pipelet href="enfinity:/bc_marketing/pipelets/AssignRebateFilterGroupToAction.xml"/>
    <nodeSuccessors name="next" next="JoinNode13"/>
<!--@BendPoints 49,71 49,73 49,76 47,76-->
    <nodeSuccessors name="pipelet_error" next="EndNode31"/>
  </nodes>
<!--@Location 23,38-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode31" name="ERROR" strict="true"/>
<!--@Location 21,32-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode24" strict="true" name="DBinitAssignToCondition"
      callMode="Private">
<!--@BendPoints 43,66 42,66 42,67-->
    <nodeSuccessors name="next" next="DecisionNode7"/>
    <parameters name="ConditionID" type="java.lang.String" optional="true"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"
        optional="true"/>
    <parameters name="Exclusion" type="java.lang.Boolean" optional="true"/>
    <parameters name="FilterObjectType" type="java.lang.String" optional="true"/>
    <parameters name="ObjectIDs" type="java.util.Iterator" optional="true"/>
    <parameters name="RebateFilterGroup" type="com.intershop.component.marketing.capi.rebate.RebateFilterGroup"
        optional="true"/>
    <parameters name="Condition" type="com.intershop.component.foundation.capi.condition.Condition"
        optional="true"/>
    <parameters name="Scope" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 21,33-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode7" conditionKey="RebateFilterGroup">
<!--@BendPoints 44,67 44,73-->
    <nodeSuccessors name="decision_yes" next="JoinNode33"/>
<!--@BendPoints 43,68-->
    <nodeSuccessors name="decision_no" next="CreateRebateFilterGroup2"/>
  </nodes>
<!--@Location 21,34-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateRebateFilterGroup2">
    <configurationValues name="FilterObjectType" value="CATEGORY"/>
    <configurationValues name="Scope" value="CONDITION"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/CreateRebateFilterGroup.xml"/>
<!--@BendPoints 43,70-->
    <nodeSuccessors name="next" next="AssignRebateFilterGroupToCondition1"/>
  </nodes>
<!--@Location 21,35-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AssignRebateFilterGroupToCondition1">
    <pipelet href="enfinity:/bc_marketing/pipelets/AssignRebateFilterGroupToCondition.xml"/>
    <nodeSuccessors name="next" next="JoinNode33"/>
<!--@BendPoints 45,71 45,76 47,76-->
    <nodeSuccessors name="pipelet_error" next="EndNode31"/>
  </nodes>
<!--@Location 7,32-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode5" strict="true" name="DeleteFinishedJobs"
      callMode="Private">
    <nodeSuccessors name="next" next="GetAllJobConfigurations2"/>
    <parameters name="JobNamePrefix" type="java.lang.String"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 7,33-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetAllJobConfigurations2">
    <configurationValues name="DefaultJobState" value="None"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetAllJobConfigurations.xml"/>
    <nodeSuccessors name="next" next="LoopNode1"/>
<!--@BendPoints 17,67-->
    <nodeSuccessors name="pipelet_error" next="JoinNode5"/>
    <returnValueBindings name="JobConfigurations" objectPath="Processes"/>
  </nodes>
<!--@Location 7,34-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode1" loop="Processes">
    <nodeSuccessors name="next" next="JoinNode5"/>
    <entry key="Process">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode1"/>
    </entry>
  </nodes>
<!--@Location 7,35-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode1" conditionKey="Process:ExtendedStatus">
    <nodeSuccessors name="decision_yes" next="DecisionNode12"/>
<!--@BendPoints 16,71 17,73 17,81-->
    <nodeSuccessors name="decision_no" next="JoinNode8"/>
  </nodes>
<!--see @com.intershop.beehive.core.capi.job.JobConstants

// The job that is waiting for its trigger.
public static final int READY = 0;     

// The job is executed right now.
public static final int RUNNING = 1; 

// The job is pending in the job execution buffer (the maximum number of parallel jobs has been reached, see property "intershop.job.maxJobNumber").
public static final int PENDING = 2;   

// The job will not automatically run in the future, it is either explicitly disabled or the last possible execution time has past.
public static final int DISABLED = 3;

@Location 7,36-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode12" conditionKey="Process:ExtendedStatus"
      operator="eq" conditionValue="3">
    <nodeSuccessors name="decision_yes" next="StartSafeChangesBlock0"/>
<!--@BendPoints 16,73 16,77-->
    <nodeSuccessors name="decision_no" next="JoinNode8"/>
  </nodes>
<!--@Location 7,37-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="StartSafeChangesBlock0">
    <pipelet href="enfinity:/core/pipelets/StartSafeChangesBlock.xml"/>
    <nodeSuccessors name="next" next="RemoveJobConfiguration1"/>
  </nodes>
<!--@Location 7,38-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveJobConfiguration1">
    <pipelet href="enfinity:/bc_foundation/pipelets/RemoveJobConfiguration.xml"/>
    <nodeSuccessors name="next" next="EndSafeChangesBlock0"/>
    <parameterBindings name="JobConfiguration" objectPath="Process"/>
  </nodes>
<!--@Location 7,39-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="EndSafeChangesBlock0">
    <pipelet href="enfinity:/core/pipelets/EndSafeChangesBlock.xml"/>
    <nodeSuccessors name="next" next="JoinNode8"/>
  </nodes>
<!--@Location 7,40-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode8">
<!--@BendPoints 13,81 13,68-->
    <nodeSuccessors name="next" next="LoopNode1_Entry"/>
  </nodes>
<!--@Location 8,34-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode5">
<!--@BendPoints 17,70-->
    <nodeSuccessors name="next" next="EndNode19"/>
  </nodes>
<!--@Location 8,35-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode19" strict="true"/>
<!--@Location 8,13-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode1" name="ErrorBatch" callMode="Private">
<!--@BendPoints 17,28-->
    <nodeSuccessors name="next" next="CreateLogEntry1"/>
  </nodes>
<!--@Location 8,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateLogEntry1">
    <configurationValues name="LogLevel" value="Error"/>
    <configurationValues name="Message" value="&quot;Failed. Cannot assign or unassign object from rebate filter group.&quot;"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CreateLogEntry.xml"/>
<!--@BendPoints 17,30-->
    <nodeSuccessors name="next" next="EndNode9"/>
  </nodes>
<!--@Location 8,15-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode9"/>
<!--@Location 1,32-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode3" strict="true" name="FilterObjects"
      callMode="Private">
    <nodeSuccessors name="next" next="LoopNode2"/>
    <parameters name="Objects" type="java.util.Iterator"/>
    <parameters name="NotSelectableObjectUUIDs" type="java.util.Collection" optional="true"/>
    <parameters name="AlreadySelectedObjectUUIDs" type="java.util.Collection" optional="true"/>
  </nodes>
<!--@Location 1,33-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode2" loop="Objects">
<!--@BendPoints 4,67-->
    <nodeSuccessors name="next" next="EndNode18"/>
    <entry key="Object">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode23"/>
    </entry>
  </nodes>
<!--@Location 1,34-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode23" conditionKey="Object:UUID">
    <nodeSuccessors name="decision_yes" next="KeyMapper0"/>
<!--@BendPoints 4,68 7,68 7,71-->
    <nodeSuccessors name="decision_no" next="KeyMapper1"/>
  </nodes>
<!--@Location 1,35-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper0">
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="ContainsElement4"/>
    <parameterBindings name="InValue_1" objectPath="Object:UUID"/>
    <returnValueBindings name="OutValue_1" objectPath="OID"/>
  </nodes>
<!--@Location 1,36-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ContainsElement4">
    <pipelet href="enfinity:/bc_foundation/pipelets/ContainsElement.xml"/>
    <nodeSuccessors name="next" next="JoinNode4"/>
<!--@BendPoints 5,73 5,74-->
    <nodeSuccessors name="pipelet_error" next="ContainsElement3"/>
    <parameterBindings name="Collection" objectPath="AlreadySelectedObjectUUIDs"/>
    <parameterBindings name="Element" objectPath="OID"/>
  </nodes>
<!--@Location 1,38-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode4">
<!--@BendPoints 2,77 2,67-->
    <nodeSuccessors name="next" next="LoopNode2_Entry"/>
  </nodes>
<!--@Location 2,37-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ContainsElement3">
    <pipelet href="enfinity:/bc_foundation/pipelets/ContainsElement.xml"/>
<!--@BendPoints 5,77-->
    <nodeSuccessors name="next" next="JoinNode4"/>
<!--@BendPoints 6,75 6,74 7,74-->
    <nodeSuccessors name="pipelet_error" next="AddObjectToVector3"/>
    <parameterBindings name="Collection" objectPath="NotSelectableObjectUUIDs"/>
    <parameterBindings name="Element" objectPath="OID"/>
  </nodes>
<!--@Location 3,37-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddObjectToVector3">
    <configurationValues name="Mode" value="Forbid Duplicates"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
<!--@BendPoints 7,77-->
    <nodeSuccessors name="next" next="JoinNode4"/>
    <parameterBindings name="InVector" objectPath="OutVector"/>
    <parameterBindings name="Object" objectPath="OID"/>
    <parameterBindings name="Objects" nullBinding="true"/>
    <returnValueBindings name="Iterator" objectPath="UUIDIterator"/>
  </nodes>
<!--@Location 2,35-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper1">
    <configurationValues name="ValueType" value="Dictionary Value"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="ContainsElement4"/>
    <parameterBindings name="InValue_1" objectPath="Object:ID"/>
    <returnValueBindings name="OutValue_1" objectPath="OID"/>
  </nodes>
<!--@Location 2,33-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode18" name="Iterator" strict="true">
    <returnValues name="UUIDIterator" type="java.util.Iterator" optional="true"/>
  </nodes>
<!--Returns active jobs, which are either pending or running and deletes finished jobs.

see @com.intershop.beehive.core.capi.job.JobConstants

// The job that is waiting for its trigger.
public static final int READY = 0;     

// The job is executed right now.
public static final int RUNNING = 1; 

// The job is pending in the job execution buffer (the maximum number of parallel jobs has been reached, see property "intershop.job.maxJobNumber").
public static final int PENDING = 2;   

// The job will not automatically run in the future, it is either explicitly disabled or the last possible execution time has past.
public static final int DISABLED = 3;

@Location 10,32-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode6" strict="true" name="GetActiveJobs"
      callMode="Private">
<!--@BendPoints 21,66-->
    <nodeSuccessors name="next" next="CallNode4"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="JobNamePrefix" type="java.lang.String"/>
  </nodes>
<!--@Location 10,33-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode4">
    <nodeSuccessors name="next" next="GetAllJobConfigurations1"/>
    <startNode referencedName="ProcessPromotionRebateInclusionsExclusions-DeleteFinishedJobs"/>
  </nodes>
<!--@Location 10,34-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetAllJobConfigurations1">
    <configurationValues name="DefaultJobState" value="None"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetAllJobConfigurations.xml"/>
<!--@BendPoints 21,70-->
    <nodeSuccessors name="next" next="EndNode20"/>
<!--@BendPoints 22,69 22,70 21,70-->
    <nodeSuccessors name="pipelet_error" next="EndNode20"/>
    <returnValueBindings name="JobConfigurations" objectPath="Processes"/>
  </nodes>
<!--@Location 10,35-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode20" strict="true">
    <returnValues name="Processes" type="java.util.Iterator" optional="true"/>
  </nodes>
<!--@Location 0,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode20" name="GetAllPageables"
      callMode="Private">
<!--@BendPoints 1,4-->
    <nodeSuccessors name="next" next="DecisionNode16"/>
  </nodes>
<!--@Location 0,2-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode16" conditionKey="IncludedProductsGroup:Objects">
    <nodeSuccessors name="decision_yes" next="DecisionNode8"/>
<!--@BendPoints 3,5-->
    <nodeSuccessors name="decision_no" next="JoinNode45"/>
  </nodes>
<!--@Location 0,3-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode8" conditionKey="IncludedProductsGroup:Objects"
      operator="has_elements">
<!--@BendPoints 1,8-->
    <nodeSuccessors name="decision_yes" next="CallNode23"/>
    <nodeSuccessors name="decision_no" next="JoinNode45"/>
  </nodes>
<!--@Location 0,4-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode23">
    <nodeSuccessors name="next" next="JoinNode30"/>
    <parameterBindings name="HandlerPipeline" constant="ViewPromotionRebateInclusionsExclusions-PagingInlcudedProducts"/>
    <parameterBindings name="Iterator" objectPath="IncludedProductsGroup:Objects"/>
    <parameterBindings name="PageLocatorName" constant="IncludedProducts"/>
    <parameterBindings name="PageNumber" objectPath="IncludedProductsPageNumber"/>
    <startNode referencedName="ProcessPromotionRebateInclusionsExclusions-GetPageable"/>
    <returnValueBindings name="Pageable" objectPath="IncludedProductsPageable"/>
  </nodes>
<!--@Location 0,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode30">
<!--@BendPoints 1,12 4,12 4,4 5,4-->
    <nodeSuccessors name="next" next="DecisionNode17"/>
  </nodes>
<!--@Location 2,2-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode17" conditionKey="ExcludedProductsGroup:Objects">
    <nodeSuccessors name="decision_yes" next="DecisionNode10"/>
<!--@BendPoints 7,5-->
    <nodeSuccessors name="decision_no" next="JoinNode46"/>
  </nodes>
<!--@Location 2,3-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode10" conditionKey="ExcludedProductsGroup:Objects"
      operator="has_elements">
<!--@BendPoints 5,8-->
    <nodeSuccessors name="decision_yes" next="CallNode25"/>
    <nodeSuccessors name="decision_no" next="JoinNode46"/>
  </nodes>
<!--@Location 2,4-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode25">
    <nodeSuccessors name="next" next="JoinNode24"/>
    <parameterBindings name="HandlerPipeline" constant="ViewPromotionRebateInclusionsExclusions-PagingExlcudedProducts"/>
    <parameterBindings name="Iterator" objectPath="ExcludedProductsGroup:Objects"/>
    <parameterBindings name="PageLocatorName" constant="ExcludedProducts"/>
    <parameterBindings name="PageNumber" objectPath="ExcludedProductsPageNumber"/>
    <startNode referencedName="ProcessPromotionRebateInclusionsExclusions-GetPageable"/>
    <returnValueBindings name="Pageable" objectPath="ExcludedProductsPageable"/>
  </nodes>
<!--@Location 2,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode24">
<!--@BendPoints 5,12 8,12 8,4 9,4-->
    <nodeSuccessors name="next" next="DecisionNode18"/>
  </nodes>
<!--@Location 4,2-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode18" conditionKey="IncludedCategoriesGroup:Objects">
    <nodeSuccessors name="decision_yes" next="DecisionNode9"/>
<!--@BendPoints 11,5-->
    <nodeSuccessors name="decision_no" next="JoinNode47"/>
  </nodes>
<!--@Location 4,3-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode9" conditionKey="IncludedCategoriesGroup:Objects"
      operator="has_elements">
<!--@BendPoints 9,8-->
    <nodeSuccessors name="decision_yes" next="CallNode24"/>
    <nodeSuccessors name="decision_no" next="JoinNode47"/>
  </nodes>
<!--@Location 4,4-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode24">
    <nodeSuccessors name="next" next="JoinNode2"/>
    <parameterBindings name="HandlerPipeline" constant="ViewPromotionRebateInclusionsExclusions-PagingIncludedCategories"/>
    <parameterBindings name="Iterator" objectPath="IncludedCategoriesGroup:Objects"/>
    <parameterBindings name="PageLocatorName" constant="IncludedCategories"/>
    <parameterBindings name="PageNumber" objectPath="IncludedCategoriesPageNumber"/>
    <startNode referencedName="ProcessPromotionRebateInclusionsExclusions-GetPageable"/>
    <returnValueBindings name="Pageable" objectPath="IncludedCategoriesPageable"/>
  </nodes>
<!--@Location 4,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode2">
<!--@BendPoints 9,12 12,12 12,4 13,4-->
    <nodeSuccessors name="next" next="DecisionNode19"/>
  </nodes>
<!--@Location 6,2-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode19" conditionKey="ExcludedCategoriesGroup:Objects">
    <nodeSuccessors name="decision_yes" next="DecisionNode11"/>
<!--@BendPoints 15,5-->
    <nodeSuccessors name="decision_no" next="JoinNode48"/>
  </nodes>
<!--@Location 6,3-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode11" conditionKey="ExcludedCategoriesGroup:Objects"
      operator="has_elements">
<!--@BendPoints 13,8-->
    <nodeSuccessors name="decision_yes" next="CallNode22"/>
    <nodeSuccessors name="decision_no" next="JoinNode48"/>
  </nodes>
<!--@Location 6,4-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode22">
    <nodeSuccessors name="next" next="JoinNode3"/>
    <parameterBindings name="HandlerPipeline" constant="ViewPromotionRebateInclusionsExclusions-PagingCategoriesProducts"/>
    <parameterBindings name="Iterator" objectPath="ExcludedCategoriesGroup:Objects"/>
    <parameterBindings name="PageLocatorName" constant="ExcludedCategories"/>
    <parameterBindings name="PageNumber" objectPath="ExcludedCategoriesPageNumber"/>
    <startNode referencedName="ProcessPromotionRebateInclusionsExclusions-GetPageable"/>
    <returnValueBindings name="Pageable" objectPath="ExcludedCategoriesPageable"/>
  </nodes>
<!--@Location 6,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode3">
<!--@BendPoints 13,12-->
    <nodeSuccessors name="next" next="EndNode8"/>
  </nodes>
<!--@Location 6,6-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode8"/>
<!--@Location 7,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode48">
<!--@BendPoints 15,11-->
    <nodeSuccessors name="next" next="JoinNode3"/>
  </nodes>
<!--@Location 5,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode47">
<!--@BendPoints 11,11-->
    <nodeSuccessors name="next" next="JoinNode2"/>
  </nodes>
<!--@Location 3,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode46">
<!--@BendPoints 7,11-->
    <nodeSuccessors name="next" next="JoinNode24"/>
  </nodes>
<!--@Location 1,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode45">
<!--@BendPoints 3,11-->
    <nodeSuccessors name="next" next="JoinNode30"/>
  </nodes>
<!--@Location 25,13-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode10" strict="true" name="GetApplicationRebateFilterGroup"
      callMode="Private">
    <nodeSuccessors name="next" next="GetApplicationRebateFilterGroup3"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="FilterObjectType" type="java.lang.String" optional="true"/>
    <parameters name="Scope" type="java.lang.String" optional="true"/>
<!--If set to true, the created filter group will be a exclusion filter group. If set to false, the created filter group will be an inclusion filter group.-->
    <parameters name="Exclusion" type="java.lang.Boolean"/>
    <parameters name="ApplicationUUID" type="java.lang.String"/>
  </nodes>
<!--@Location 25,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetApplicationRebateFilterGroup3">
    <configurationValues name="FilterObjectType" value="PRODUCT"/>
    <pipelet href="enfinity:/bc_marketing/pipelets/GetApplicationRebateFilterGroup.xml"/>
<!--@BendPoints 51,36-->
    <nodeSuccessors name="next" next="EndNode13"/>
<!--@BendPoints 53,29-->
    <nodeSuccessors name="pipelet_error" next="StartSafeChangesBlock1"/>
  </nodes>
<!--@Location 25,18-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode13" strict="true">
    <returnValues name="RebateFilterGroup" type="com.intershop.component.marketing.capi.rebate.RebateFilterGroup"/>
  </nodes>
<!--@Location 26,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="StartSafeChangesBlock1">
    <pipelet href="enfinity:/core/pipelets/StartSafeChangesBlock.xml"/>
    <nodeSuccessors name="next" next="CallNode8"/>
  </nodes>
<!--@Location 26,16-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode8">
    <nodeSuccessors name="next" next="EndSafeChangesBlock1"/>
    <startNode referencedName="This:CreateRebateFilterGroup"/>
  </nodes>
<!--@Location 26,17-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="EndSafeChangesBlock1">
    <pipelet href="enfinity:/core/pipelets/EndSafeChangesBlock.xml"/>
<!--@BendPoints 53,36 51,36-->
    <nodeSuccessors name="next" next="EndNode13"/>
  </nodes>
<!--@Location 21,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode25" strict="true" name="GetCategoriesCatalog"
      callMode="Private">
    <nodeSuccessors name="next" next="DecisionNode42"/>
    <parameters name="Categories" type="java.util.Iterator" optional="true"/>
  </nodes>
<!--@Location 21,1-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode42" conditionKey="Categories"
      operator="has_elements">
<!--@BendPoints 43,4-->
    <nodeSuccessors name="decision_yes" next="LoopNode3"/>
<!--@BendPoints 45,3-->
    <nodeSuccessors name="decision_no" next="JoinNode40"/>
  </nodes>
<!--@Location 21,2-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode3" loop="Categories">
    <nodeSuccessors name="next" next="JoinNode40"/>
    <entry key="Category">
      <nodeSuccessors name="loop_entry_next" next="Pipelet17"/>
    </entry>
  </nodes>
<!--@Location 21,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet17">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetCatalogByCategory.xml"/>
<!--@BendPoints 43,8-->
    <nodeSuccessors name="next" next="Pipelet18"/>
<!--@BendPoints 44,7 44,11-->
    <nodeSuccessors name="pipelet_error" next="JoinNode64"/>
    <parameterBindings name="CatalogCategory" objectPath="Category"/>
  </nodes>
<!--@Location 21,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet18">
    <configurationValues name="Mode" value="Add"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/UpdateMapping.xml"/>
    <nodeSuccessors name="next" next="JoinNode64"/>
    <parameterBindings name="InMap" objectPath="CatalogMap"/>
    <parameterBindings name="Key" objectPath="Category:UUID"/>
    <parameterBindings name="Value" objectPath="Catalog"/>
    <returnValueBindings name="OutMap" objectPath="CatalogMap"/>
  </nodes>
<!--@Location 21,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode64">
<!--@BendPoints 42,11 42,5-->
    <nodeSuccessors name="next" next="LoopNode3_Entry"/>
  </nodes>
<!--@Location 22,2-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode40">
<!--@BendPoints 45,6-->
    <nodeSuccessors name="next" next="EndNode22"/>
  </nodes>
<!--@Location 22,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode22" strict="true">
    <returnValues name="CatalogMap" type="java.util.Map" optional="true"/>
  </nodes>
<!--@Location 19,32-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode0" strict="true" name="GetJobs"
      callMode="Private">
    <nodeSuccessors name="next" next="GetAllJobConfigurations0"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="JobNamePrefix" type="java.lang.String"/>
  </nodes>
<!--@Location 19,33-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetAllJobConfigurations0">
    <configurationValues name="DefaultJobState" value="None"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetAllJobConfigurations.xml"/>
    <nodeSuccessors name="next" next="EndNode0"/>
<!--@BendPoints 40,67 40,69-->
    <nodeSuccessors name="pipelet_error" next="EndNode0"/>
    <returnValueBindings name="JobConfigurations" objectPath="Processes"/>
  </nodes>
<!--@Location 19,34-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode0" strict="true">
    <returnValues name="Processes" type="java.util.Iterator" optional="true"/>
  </nodes>
<!--@Location 9,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode19" strict="true" name="GetPageable"
      callMode="Private">
<!--@BendPoints 19,2-->
    <nodeSuccessors name="next" next="Call2"/>
<!--The dynamically configured pipeline name (incl. start node) responsible for restoring the list view.-->
    <parameters name="HandlerPipeline" type="java.lang.String"/>
<!--The iterator from that an pagable is to create. All iterators in the dictionary are resetable iterators-->
    <parameters name="Iterator" type="java.util.Iterator" optional="true"/>
<!--The pageable iterator to set the page number for.-->
    <parameters name="Pageable" type="com.intershop.beehive.core.capi.paging.PageableIterator"
        optional="true"/>
<!--The (dynamically) configured page locator name.-->
    <parameters name="PageLocatorName" type="java.lang.String"/>
<!--The dynamically configured page number to be set (first page starts a '0').-->
    <parameters name="PageNumber" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 9,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call2">
<!--@BendPoints 19,4-->
    <nodeSuccessors name="next" next="GetPageLocator2"/>
    <startNode referencedName="ProcessClipboard-Update"/>
  </nodes>
<!--@Location 9,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetPageLocator2">
    <configurationValues name="RestorePageLocatorDictionary" value="True"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetPageLocator.xml"/>
<!--@BendPoints 19,6-->
    <nodeSuccessors name="next" next="GetPageable1"/>
<!--@BendPoints 23,5-->
    <nodeSuccessors name="pipelet_error" next="JoinNode21"/>
  </nodes>
<!--@Location 9,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetPageable1">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetPageable.xml"/>
    <nodeSuccessors name="next" next="Decision1"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode21"/>
    <parameterBindings name="PageableID" objectPath="PageLocator:PageableID"/>
  </nodes>
<!--@Location 9,6-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="Decision1" conditionKey="PageNumber">
<!--@BendPoints 19,14-->
    <nodeSuccessors name="decision_yes" next="VerifyInteger1"/>
<!--@BendPoints 21,13-->
    <nodeSuccessors name="decision_no" next="JoinNode20"/>
  </nodes>
<!--@Location 9,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="VerifyInteger1">
    <pipelet href="enfinity:/bc_foundation/pipelets/VerifyInteger.xml"/>
<!--@BendPoints 19,16-->
    <nodeSuccessors name="next" next="SetPage2"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode20"/>
    <parameterBindings name="Locale" nullBinding="true"/>
    <parameterBindings name="LocalizedString" objectPath="PageNumber"/>
    <parameterBindings name="Pattern" nullBinding="true"/>
    <returnValueBindings name="IntegerObject" objectPath="PageNumber"/>
  </nodes>
<!--@Location 9,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetPage2">
    <pipelet href="enfinity:/bc_foundation/pipelets/SetPage.xml"/>
    <nodeSuccessors name="next" next="JoinNode16"/>
  </nodes>
<!--@Location 9,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode16">
    <nodeSuccessors name="next" next="Pipelet4"/>
  </nodes>
<!--@Location 9,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet4">
    <pipelet href="enfinity:/bc_foundation/pipelets/SetPageLocator.xml"/>
<!--@BendPoints 19,22-->
    <nodeSuccessors name="next" next="EndNode7"/>
  </nodes>
<!--@Location 9,11-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode7" strict="true">
<!--The pageable iterator instance (from the cache of the central paging manager).-->
    <returnValues name="Pageable" type="com.intershop.beehive.core.capi.paging.PageableIterator"/>
  </nodes>
<!--@Location 10,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode20">
<!--@BendPoints 22,15 22,7-->
    <nodeSuccessors name="next" next="JoinNode21"/>
  </nodes>
<!--@Location 11,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode21">
    <nodeSuccessors name="next" next="SortIteratorByComparator2"/>
  </nodes>
<!--@Location 11,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SortIteratorByComparator2">
    <configurationValues name="DefaultSortingAttribute" value="Name"/>
    <configurationValues name="DefaultSortingOrder" value="true"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SortIteratorByComparator.xml"/>
    <nodeSuccessors name="next" next="CreatePageableFromIterator2"/>
  </nodes>
<!--@Location 11,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreatePageableFromIterator2">
    <configurationValues name="Pagesize" value="10"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CreatePageableFromIterator.xml"/>
    <nodeSuccessors name="next" next="DecisionNode34"/>
    <parameterBindings name="Iterator" objectPath="SortedIterator"/>
  </nodes>
<!--@Location 11,6-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode34" conditionKey="PageLocator:PageNumber">
    <nodeSuccessors name="decision_yes" next="SetPage4"/>
<!--@BendPoints 25,13 25,16-->
    <nodeSuccessors name="decision_no" next="SetPage3"/>
  </nodes>
<!--@Location 11,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetPage4">
    <configurationValues name="DefaultPageNumber" value="0"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetPage.xml"/>
    <nodeSuccessors name="next" next="JoinNode22"/>
    <parameterBindings name="PageNumber" objectPath="PageLocator:PageNumber"/>
  </nodes>
<!--@Location 11,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode22">
    <nodeSuccessors name="next" next="JoinNode16"/>
  </nodes>
<!--@Location 12,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetPage3">
    <configurationValues name="DefaultPageNumber" value="0"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetPage.xml"/>
<!--@BendPoints 25,19-->
    <nodeSuccessors name="next" next="JoinNode22"/>
  </nodes>
<!--@Location 0,13-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start2" name="GetPageableSequenceBatch"
      callMode="Private">
    <nodeSuccessors name="next" next="GetPageable3"/>
<!--The dynamically configured unique ID of the pageable iterator that should be restored.-->
    <parameters name="PageableID" type="java.lang.String"/>
    <parameters name="PageSize" type="java.lang.Integer" optional="true"/>
  </nodes>
<!--@Location 0,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetPageable3">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetPageable.xml"/>
    <nodeSuccessors name="next" next="UpdatePageSize2"/>
<!--@BendPoints 3,31-->
    <nodeSuccessors name="pipelet_error" next="End3"/>
    <returnValueBindings name="Pageable" objectPath="Objects"/>
  </nodes>
<!--@Location 0,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdatePageSize2">
    <configurationValues name="DefaultPageSize" value="1000"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/UpdatePageSize.xml"/>
    <nodeSuccessors name="next" next="CreatePageableSequence2"/>
    <parameterBindings name="PageableIterator" objectPath="Objects"/>
  </nodes>
<!--@Location 0,16-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreatePageableSequence2">
    <pipelet href="enfinity:/bc_foundation/pipelets/CreatePageableSequence.xml"/>
    <nodeSuccessors name="next" next="End4"/>
    <parameterBindings name="PageableIterator" objectPath="Objects"/>
    <returnValueBindings name="PageableSequence" objectPath="Objects"/>
  </nodes>
<!--@Location 0,17-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End4">
    <returnValues name="Objects" type="com.intershop.component.foundation.capi.paging.PageableSequence"/>
  </nodes>
<!--@Location 1,17-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End3" name="Error"/>
<!--@Location 23,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode21" strict="true" name="GetProductLookupHelper"
      callMode="Private">
<!--@BendPoints 47,2-->
    <nodeSuccessors name="next" next="Pipelet54"/>
    <parameters name="CurrentProductRepository" type="com.intershop.component.mvc.capi.catalog.Repository"
        optional="true"/>
    <parameters name="FactoryName" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 23,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet54">
    <configurationValues name="LookupType" value="ProductDomainLookup"/>
    <pipelet href="enfinity:/bc_mvc/pipelets/CreateProductIdentifierLookupHelper.xml"/>
<!--@BendPoints 47,4-->
    <nodeSuccessors name="next" next="EndNode27"/>
    <parameterBindings name="ProductDomain" objectPath="CurrentProductRepository:RepositoryDomain"/>
  </nodes>
<!--@Location 23,2-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode27" strict="true">
    <returnValues name="LookupHelper" type="com.intershop.component.mvc.capi.product.ProductIdentifierLookupHelper"
        optional="true"/>
  </nodes>
<!--@Location 2,13-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode14" name="InitBatch" callMode="Private">
<!--@BendPoints 5,28-->
    <nodeSuccessors name="next" next="DecisionNode3"/>
  </nodes>
<!--@Location 2,14-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode3" conditionKey="JobConfiguration">
<!--@BendPoints 5,30-->
    <nodeSuccessors name="decision_yes" next="ConcatenateStrings1"/>
<!--@BendPoints 9,29-->
    <nodeSuccessors name="decision_no" next="JoinNode6"/>
  </nodes>
<!--@Location 2,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ConcatenateStrings1">
    <pipelet href="enfinity:/bc_foundation/pipelets/ConcatenateStrings.xml"/>
<!--@BendPoints 5,32-->
    <nodeSuccessors name="next" next="CreateProcessFileLogAppender1"/>
    <parameterBindings name="String0" objectPath="JobConfiguration:UUID"/>
    <parameterBindings name="String1" constant="-BatchEntries.log"/>
    <returnValueBindings name="Concatenated" objectPath="FileName"/>
  </nodes>
<!--@Location 2,16-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateProcessFileLogAppender1">
    <configurationValues name="FileType" value="XML"/>
    <configurationValues name="Level" value="Info"/>
    <pipelet href="enfinity:/core/pipelets/CreateProcessFileLogAppender.xml"/>
    <nodeSuccessors name="next" next="GetDomainByUUID1"/>
    <parameterBindings name="LogFileDirectory" constant="batch/log"/>
    <parameterBindings name="LogFileName" objectPath="FileName"/>
    <parameterBindings name="LogFileUnit" objectPath="JobConfiguration:Domain"/>
    <parameterBindings name="LogInformationHolder" objectPath="JobConfiguration:CurrentProcess"/>
    <parameterBindings name="MaxLogFileSize" constant="(Integer)10000"/>
    <parameterBindings name="ProcessID" objectPath="JobConfiguration:UUID"/>
    <parameterBindings name="ProcessType" constant="Batch"/>
  </nodes>
<!--@Location 2,17-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetDomainByUUID1">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetDomainByUUID.xml"/>
    <nodeSuccessors name="next" next="GetRebateFilterGroupByUUID1"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode6"/>
    <parameterBindings name="DomainUUID" objectPath="PromotionDomainUUID"/>
    <returnValueBindings name="Domain" objectPath="PromotionDomain"/>
  </nodes>
<!--@Location 2,18-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetRebateFilterGroupByUUID1">
    <pipelet href="enfinity:/bc_marketing/pipelets/GetRebateFilterGroupByUUID.xml"/>
<!--@BendPoints 5,38-->
    <nodeSuccessors name="next" next="DecisionNode22"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode10"/>
    <parameterBindings name="Domain" objectPath="PromotionDomain"/>
  </nodes>
<!--@Location 2,19-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode22" conditionKey="RebateConditionID">
    <nodeSuccessors name="decision_yes" next="GetConditionApplicationContext2"/>
<!--@BendPoints 7,39-->
    <nodeSuccessors name="decision_no" next="JoinNode14"/>
  </nodes>
<!--@Location 2,20-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetConditionApplicationContext2">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetConditionApplicationContext.xml"/>
<!--@BendPoints 5,42-->
    <nodeSuccessors name="next" next="GetCondition2"/>
    <parameterBindings name="ConditionDescriptorRegistryName" constant="promotionConditionDescriptorRegistry"/>
    <parameterBindings name="ConditionRepositoryName" constant="promotionConditionRepository"/>
  </nodes>
<!--@Location 2,21-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCondition2">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetCondition.xml"/>
<!--@BendPoints 5,44-->
    <nodeSuccessors name="next" next="KeyMapper5"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode14"/>
    <parameterBindings name="ConditionID" objectPath="RebateConditionID"/>
    <parameterBindings name="Owner" nullBinding="true"/>
    <returnValueBindings name="Condition" objectPath="RebateCondition"/>
  </nodes>
<!--@Location 2,22-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper5">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
<!--@BendPoints 5,46-->
    <nodeSuccessors name="next" next="GetRebateFilterGroupsByCondition1"/>
    <parameterBindings name="InValue_1" objectPath="RebateCondition:Domain"/>
    <parameterBindings name="InValue_2" objectPath="RebateCondition:Owner:Promotion"/>
    <parameterBindings name="InValue_3" constant="CONDITION"/>
    <returnValueBindings name="OutValue_1" objectPath="Domain"/>
    <returnValueBindings name="OutValue_2" objectPath="Promotion"/>
    <returnValueBindings name="OutValue_3" objectPath="Scope"/>
  </nodes>
<!--@Location 2,23-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetRebateFilterGroupsByCondition1">
    <pipelet href="enfinity:/bc_marketing/pipelets/GetRebateFilterGroupsByCondition.xml"/>
<!--@BendPoints 5,48-->
    <nodeSuccessors name="next" next="CallNode7"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode17"/>
    <parameterBindings name="Condition" objectPath="RebateCondition"/>
  </nodes>
<!--@Location 2,24-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode7">
    <nodeSuccessors name="next" next="CallNode11"/>
    <parameterBindings name="RebateFilterGroup" objectPath="ExcludedProductsGroup"/>
    <startNode referencedName="ProcessPromotionRebateInclusionsExclusions-CurrentlySelectedProductIDs"/>
    <returnValueBindings name="PreselectedUUIDs" objectPath="AlreadySelectedObjectUUIDs"/>
  </nodes>
<!--@Location 2,25-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode11">
    <nodeSuccessors name="next" next="JoinNode19"/>
    <parameterBindings name="RebateFilterGroup" objectPath="IncludedProductsGroup"/>
    <startNode referencedName="ProcessPromotionRebateInclusionsExclusions-CurrentlySelectedProductIDs"/>
    <returnValueBindings name="PreselectedUUIDs" objectPath="NotSelectableObjectUUIDs"/>
  </nodes>
<!--@Location 2,26-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode19">
<!--@BendPoints 5,54-->
    <nodeSuccessors name="next" next="CallNode2"/>
  </nodes>
<!--Creates a collection of array with UUID which are already selected.

@Location 2,27-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode2">
<!--@BendPoints 5,56-->
    <nodeSuccessors name="next" next="CallNode3"/>
    <parameterBindings name="ObjectsArray" objectPath="AlreadySelectedObjectUUIDs"/>
    <startNode referencedName="ProcessPromotionRebateInclusionsExclusions-CreateCollectionFromArray"/>
    <returnValueBindings name="ObjectsCollection" objectPath="AlreadySelectedObjectUUIDs"/>
    <returnValueBindings name="ObjectsIterator" nullBinding="true"/>
  </nodes>
<!--Creates a collection of array with UUID which are not allowed to be selected.

@Location 2,28-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode3">
<!--@BendPoints 5,58-->
    <nodeSuccessors name="next" next="EndNode5"/>
    <parameterBindings name="ObjectsArray" objectPath="NotSelectableObjectUUIDs"/>
    <startNode referencedName="ProcessPromotionRebateInclusionsExclusions-CreateCollectionFromArray"/>
    <returnValueBindings name="ObjectsCollection" objectPath="NotSelectableObjectUUIDs"/>
    <returnValueBindings name="ObjectsIterator" nullBinding="true"/>
  </nodes>
<!--@Location 2,29-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode5"/>
<!--@Location 3,23-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode17">
<!--@BendPoints 7,53-->
    <nodeSuccessors name="next" next="JoinNode19"/>
  </nodes>
<!--@Location 3,21-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode14">
    <nodeSuccessors name="next" next="JoinNode17"/>
  </nodes>
<!--@Location 4,18-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode10">
<!--@BendPoints 9,58-->
    <nodeSuccessors name="next" next="EndNode12"/>
  </nodes>
<!--@Location 4,29-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode12" name="Error"/>
<!--@Location 4,17-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode6">
    <nodeSuccessors name="next" next="JoinNode10"/>
  </nodes>
<!--@Location 6,13-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode16" name="PostBatch" callMode="Private">
<!--@BendPoints 13,28-->
    <nodeSuccessors name="next" next="DecisionNode2"/>
  </nodes>
<!--@Location 6,14-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode2" conditionKey="ProcessLogAppender">
    <nodeSuccessors name="decision_yes" next="CloseProcessLogAppender1"/>
<!--@BendPoints 14,29 14,33-->
    <nodeSuccessors name="decision_no" next="JoinNode11"/>
  </nodes>
<!--@Location 6,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CloseProcessLogAppender1">
    <pipelet href="enfinity:/core/pipelets/CloseProcessLogAppender.xml"/>
    <nodeSuccessors name="next" next="JoinNode11"/>
  </nodes>
<!--@Location 6,16-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode11">
    <nodeSuccessors name="next" next="GetDomainByUUID2"/>
  </nodes>
<!--@Location 6,17-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetDomainByUUID2">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetDomainByUUID.xml"/>
    <nodeSuccessors name="next" next="GetRebateFilterGroupByUUID2"/>
    <parameterBindings name="DomainUUID" objectPath="PromotionDomainUUID"/>
    <returnValueBindings name="Domain" objectPath="PromotionDomain"/>
  </nodes>
<!--@Location 6,18-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetRebateFilterGroupByUUID2">
    <pipelet href="enfinity:/bc_marketing/pipelets/GetRebateFilterGroupByUUID.xml"/>
    <nodeSuccessors name="next" next="DecisionNode20"/>
<!--@BendPoints 14,37 14,40 13,40-->
    <nodeSuccessors name="pipelet_error" next="EndNode6"/>
    <parameterBindings name="Domain" objectPath="PromotionDomain"/>
  </nodes>
<!--@Location 6,19-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode20" conditionKey="RebateFilterGroup:FilterObjectAssignments"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="EndNode6"/>
<!--@BendPoints 14,39 14,38 15,38-->
    <nodeSuccessors name="decision_no" next="CallNode10"/>
  </nodes>
<!--@Location 6,20-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode6"/>
<!--@Location 7,19-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode10">
<!--@BendPoints 15,40 13,40-->
    <nodeSuccessors name="next" next="EndNode6"/>
    <parameterBindings name="Domain" objectPath="PromotionDomain"/>
    <startNode referencedName="ProcessPromotionRebateInclusionsExclusions-RemoveRebateFilterGroup"/>
  </nodes>
<!--@Location 10,13-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode9" name="ProcessBatch" callMode="Private">
    <nodeSuccessors name="next" next="CallNode9"/>
  </nodes>
<!--@Location 10,14-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode9">
    <nodeSuccessors name="next" next="CallNode5"/>
    <startNode referencedName="This:FilterObjects"/>
  </nodes>
<!--@Location 10,15-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode5" callModePermissions="Private">
    <nodeSuccessors name="next" next="EndNode23"/>
    <startNode objectPath="AssignOrUnassignPipeline"/>
  </nodes>
<!--@Location 10,16-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode23"/>
<!--@Location 12,32-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode18" strict="true" name="RemoveRebateFilterGroup"
      callMode="Private">
    <nodeSuccessors name="next" next="RemoveRebateFilterGroup7"/>
    <parameters name="RebateFilterGroup" type="com.intershop.component.marketing.capi.rebate.RebateFilterGroup"/>
<!--The domain.-->
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 12,33-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveRebateFilterGroup7">
    <pipelet href="enfinity:/bc_marketing/pipelets/RemoveRebateFilterGroup.xml"/>
    <nodeSuccessors name="next" next="EndNode26"/>
  </nodes>
<!--@Location 12,34-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode26" strict="true"/>
<!--@Location 30,13-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode7" strict="true" name="UnassignObjectIDsFromRebateFilterGroup"
      callMode="Private">
    <nodeSuccessors name="next" next="UnassignObjectIDsFromFilterGroup4"/>
    <parameters name="UUIDIterator" type="java.util.Iterator"/>
    <parameters name="RebateFilterGroup" type="com.intershop.component.marketing.capi.rebate.RebateFilterGroup"/>
  </nodes>
<!--@Location 30,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UnassignObjectIDsFromFilterGroup4">
    <pipelet href="enfinity:/bc_marketing/pipelets/UnassignObjectIDsFromFilterGroup.xml"/>
<!--@BendPoints 61,30-->
    <nodeSuccessors name="next" next="EndNode21"/>
    <parameterBindings name="ObjectIDs" objectPath="UUIDIterator"/>
  </nodes>
<!--@Location 30,15-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode21" strict="true"/>
<!--@Location 19,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode8" strict="true" name="UpdateCategoryClipboard"
      callMode="Private">
    <nodeSuccessors name="next" next="Pipelet132"/>
    <parameters name="CategoryUUID" type="java.lang.String[]"/>
    <parameters name="SelectedCategoryUUID" type="java.lang.String[]"/>
  </nodes>
<!--@Location 19,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet132">
    <configurationValues name="DefaultParameterName" value="SelectedCategoryUUID"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetFormSelection.xml"/>
    <nodeSuccessors name="next" next="Pipelet135"/>
    <returnValueBindings name="Selection" objectPath="SelectedCategoryUUIDIterator"/>
  </nodes>
<!--@Location 19,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet135">
    <configurationValues name="DefaultParameterName" value="CategoryUUID"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetFormSelection.xml"/>
    <nodeSuccessors name="next" next="Pipelet136"/>
    <returnValueBindings name="Selection" objectPath="CategoryUUIDIterator"/>
  </nodes>
<!--@Location 19,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet136">
    <configurationValues name="SessionRegistrationID" value="Categories"/>
    <configurationValues name="StoreFormValues" value="No"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/UpdateClipboard.xml"/>
    <nodeSuccessors name="next" next="EndNode30"/>
    <parameterBindings name="AllObjectUUIDs" objectPath="CategoryUUIDIterator"/>
    <parameterBindings name="SelectedObjectUUIDs" objectPath="SelectedCategoryUUIDIterator"/>
    <returnValueBindings name="Clipboard" objectPath="CategoryClipboard"/>
  </nodes>
<!--@Location 19,4-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode30" strict="true">
    <returnValues name="SelectedCategoryUUIDIterator" type="java.util.Iterator"/>
    <returnValues name="CategoryUUIDIterator" type="java.util.Iterator"/>
    <returnValues name="CategoryClipboard" type="com.intershop.component.foundation.capi.clipboard.Clipboard"/>
  </nodes>
<!--@Location 17,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode35" strict="true" name="UpdateProductClipboard"
      callMode="Private">
    <nodeSuccessors name="next" next="Pipelet137"/>
    <parameters name="ProductUUID" type="java.lang.String[]"/>
    <parameters name="SelectedProductUUID" type="java.lang.String[]"/>
  </nodes>
<!--@Location 17,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet137">
    <configurationValues name="DefaultParameterName" value="SelectedProductUUID"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetFormSelection.xml"/>
    <nodeSuccessors name="next" next="Pipelet133"/>
    <returnValueBindings name="Selection" objectPath="SelectedProductUUIDIterator"/>
  </nodes>
<!--@Location 17,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet133">
    <configurationValues name="DefaultParameterName" value="ProductUUID"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetFormSelection.xml"/>
    <nodeSuccessors name="next" next="Pipelet134"/>
    <returnValueBindings name="Selection" objectPath="ProductUUIDIterator"/>
  </nodes>
<!--@Location 17,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet134">
    <configurationValues name="SessionRegistrationID" value="Products"/>
    <configurationValues name="StoreFormValues" value="No"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/UpdateClipboard.xml"/>
    <nodeSuccessors name="next" next="EndNode28"/>
    <parameterBindings name="AllObjectUUIDs" objectPath="ProductUUIDIterator"/>
    <parameterBindings name="SelectedObjectUUIDs" objectPath="SelectedProductUUIDIterator"/>
    <returnValueBindings name="Clipboard" objectPath="ProductClipboard"/>
  </nodes>
<!--@Location 17,4-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode28" strict="true">
    <returnValues name="ProductUUIDIterator" type="java.util.Iterator"/>
    <returnValues name="SelectedProductUUIDIterator" type="java.util.Iterator"/>
    <returnValues name="ProductClipboard" type="com.intershop.component.foundation.capi.clipboard.Clipboard"
        optional="true"/>
  </nodes>
</pipeline:Pipeline>
