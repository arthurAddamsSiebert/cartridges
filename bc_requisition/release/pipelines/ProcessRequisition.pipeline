<?xml version="1.0" encoding="UTF-8"?>
<!--This pipeline is responsible for the core requisition processing.
@Group Requisition-->

<pipeline:Pipeline xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:pipeline="http://www.intershop.de/pipeline/2010"
    name="ProcessRequisition" type="process">
<!--Deleted pipelet

here was a call to DetermineShippingMethod
of the old shipping framework
@Location 10,19-->
  <nodes xsi:type="pipeline:Text" nodeID="TextNode1"/>
<!--TODO: rework handling 

Call of non\-existent pipeline 
OCICatalogService\-Outbound removed
@Location 12,12-->
  <nodes xsi:type="pipeline:Text" nodeID="Text0"/>
<!--@Location 6,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start2" name="AddProducts" callMode="Private">
    <nodeSuccessors name="next" next="Call9"/>
<!--A string with a product reference.-->
    <parameters name="ProductRefID" type="java.lang.String" optional="true"/>
<!--A string list with product references.-->
    <parameters name="ProductRefIDs" type="java.util.List" optional="true"/>
<!--The quantity of the single product to be added.-->
    <parameters name="Quantity" type="java.lang.Integer" optional="true"/>
<!--The quantity string of each product in the list of products.-->
    <parameters name="Quantity_[uuid]" type="java.lang.String" optional="true"/>
<!--String form value contains the uuid of the shipping method which the buyer has selected.-->
    <parameters name="ShippingMethodUserSelection" type="java.lang.String" optional="true"/>
<!--Form value contains the UUID String of the payment method which the buyer has selected in the template.-->
    <parameters name="PaymentMethodUserSelection" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 6,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call9">
    <nodeSuccessors name="next" next="CheckBasketSizeForProductAdd1"/>
    <startNode referencedName="ProcessRequisition-ObtainCurrentRequisition"/>
  </nodes>
<!--@Location 6,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckBasketSizeForProductAdd1">
    <pipelet href="enfinity:/bts/pipelets/CheckBasketSizeForProductAdd.xml"/>
    <nodeSuccessors name="next" next="GetOrganizationByUser6"/>
    <nodeSuccessors name="pipelet_error" next="End4"/>
    <parameterBindings name="Basket" objectPath="Requisition"/>
  </nodes>
<!--@Location 6,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetOrganizationByUser6">
    <pipelet href="enfinity:/bc_organization/pipelets/GetOrganizationByUser.xml"/>
    <nodeSuccessors name="next" next="JoinNode8"/>
<!--@BendPoints 14,7 14,9-->
    <nodeSuccessors name="pipelet_error" next="JoinNode8"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 6,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode8">
<!--@BendPoints 13,10-->
    <nodeSuccessors name="next" next="Call11"/>
  </nodes>
<!--@Location 6,5-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call11">
<!--@BendPoints 13,14-->
    <nodeSuccessors name="next" next="DecisionNode9"/>
<!--@BendPoints 13,12 15,12-->
    <nodeSuccessors name="error" next="End17"/>
    <startNode referencedName="ProcessRequisition-CheckQuantities"/>
  </nodes>
<!--@Location 6,7-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode9" conditionKey="BuyingMode"
      operator="str_eq" conditionValue="BonusPoints">
<!--@BendPoints 13,16-->
    <nodeSuccessors name="decision_yes" next="AddProductToBasket3"/>
<!--@BendPoints 15,15 15,16-->
    <nodeSuccessors name="decision_no" next="AddProductToBasket5"/>
  </nodes>
<!--@Location 6,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddProductToBasket3">
    <configurationValues name="MergeGroup" value="1"/>
    <pipelet href="enfinity:/bts/pipelets/AddProductToBasket.xml"/>
    <nodeSuccessors name="next" next="JoinNode14"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode15"/>
    <parameterBindings name="Basket" objectPath="Requisition"/>
    <parameterBindings name="ProductRef" nullBinding="true"/>
    <parameterBindings name="ProductRefID" nullBinding="true"/>
    <parameterBindings name="ProductRefIDs" objectPath="ProductRefIDs"/>
    <parameterBindings name="ProductRefs" nullBinding="true"/>
  </nodes>
<!--@Location 6,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode14">
<!--@BendPoints 13,22-->
    <nodeSuccessors name="next" next="Call16"/>
  </nodes>
<!--@Location 6,11-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call16">
    <nodeSuccessors name="next" next="AddCommodityGroupsToLineItems1"/>
    <startNode referencedName="ProcessRequisition-CopyOrderRequiredProductAttributes"/>
  </nodes>
<!--Adds the commodity groups from the referred offer to the line item
@Location 6,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddCommodityGroupsToLineItems1">
    <configurationValues name="RequestType" value="Only Commodity Groups with highest Priority"/>
    <pipelet href="enfinity:/bc_requisition/pipelets/AddCommodityGroupsToLineItems.xml"/>
    <nodeSuccessors name="next" next="Join1"/>
    <parameterBindings name="Basket" objectPath="Requisition"/>
  </nodes>
<!--@Location 6,13-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join1">
<!--@BendPoints 15,27-->
    <nodeSuccessors name="next" next="Join11"/>
  </nodes>
<!--@Location 7,14-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join11">
<!--@BendPoints 15,45-->
    <nodeSuccessors name="next" next="Join3"/>
  </nodes>
<!--@Location 10,22-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join3">
    <nodeSuccessors name="next" next="Call7"/>
  </nodes>
<!--@Location 10,23-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call7">
    <nodeSuccessors name="next" next="End13"/>
    <startNode referencedName="ProcessRequisition-Calculate"/>
  </nodes>
<!--@Location 10,24-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End13"/>
<!--@Location 8,8-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode15">
<!--@BendPoints 18,17-->
    <nodeSuccessors name="next" next="End26"/>
  </nodes>
<!--@Location 9,8-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End26" name="error-product"/>
<!--@Location 7,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddProductToBasket5">
    <configurationValues name="MergeGroup" value="0"/>
    <pipelet href="enfinity:/bts/pipelets/AddProductToBasket.xml"/>
<!--@BendPoints 15,19-->
    <nodeSuccessors name="next" next="JoinNode14"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode15"/>
    <parameterBindings name="Basket" objectPath="Requisition"/>
    <parameterBindings name="ProductRef" nullBinding="true"/>
    <parameterBindings name="ProductRefID" nullBinding="true"/>
    <parameterBindings name="ProductRefIDs" objectPath="ProductRefIDs"/>
    <parameterBindings name="ProductRefs" nullBinding="true"/>
  </nodes>
<!--@Location 7,6-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End17" name="error-quantity"/>
<!--@Location 7,2-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End4" name="error-maxsize"/>
<!--@Location 15,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start10" name="Calculate" callMode="Private">
    <nodeSuccessors name="next" next="CallNode1"/>
  </nodes>
<!--@Location 15,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode1">
    <nodeSuccessors name="next" next="End11"/>
    <startNode referencedName="RequisitionProcessCalculation-Start"/>
  </nodes>
<!--@Location 15,2-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End11"/>
<!--@Location 12,14-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start20" strict="true" name="CheckAvailability"
      callMode="Private">
    <nodeSuccessors name="next" next="GetCurrentDate1"/>
    <parameters name="Requisition" type="com.intershop.beehive.bts.capi.orderprocess.basket.Basket"
        optional="true"/>
  </nodes>
<!--@Location 12,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCurrentDate1">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetCurrentDate.xml"/>
    <nodeSuccessors name="next" next="LoopNode6"/>
  </nodes>
<!--@Location 12,16-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode6" loop="Requisition:ProductLineItems">
<!--@BendPoints 31,33-->
    <nodeSuccessors name="next" next="DecisionNode8"/>
    <entry key="ProductLineItem">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode10"/>
    </entry>
  </nodes>
<!--@Location 12,17-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode10" conditionKey="ProductLineItem:Adhoc"
      operator="str_neq" conditionValue="true">
    <nodeSuccessors name="decision_yes" next="GetProductByProductRef4"/>
<!--@BendPoints 30,35 30,55-->
    <nodeSuccessors name="decision_no" next="JoinNode17"/>
  </nodes>
<!--@Location 12,18-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetProductByProductRef4">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetProductByProductRef.xml"/>
    <nodeSuccessors name="next" next="Decision10"/>
<!--@BendPoints 29,37-->
    <nodeSuccessors name="pipelet_error" next="JoinNode18"/>
    <parameterBindings name="ProductRef" objectPath="ProductLineItem:OfferProductRef"/>
    <parameterBindings name="ProductRefID" nullBinding="true"/>
    <parameterBindings name="ProductRefIDs" nullBinding="true"/>
    <parameterBindings name="ProductRefs" nullBinding="true"/>
    <returnValueBindings name="Products" nullBinding="true"/>
    <returnValueBindings name="ProductsHash" nullBinding="true"/>
  </nodes>
<!--@Location 12,19-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="Decision10" conditionKey="Product:isOnline"
      operator="str_eq" conditionValue="true">
<!--@BendPoints 25,40-->
    <nodeSuccessors name="decision_yes" next="Decision9"/>
    <nodeSuccessors name="decision_no" next="JoinNode18"/>
  </nodes>
<!--@Location 12,20-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="Decision9" conditionKey="Product:isAvailable"
      operator="str_eq" conditionValue="true">
<!--@BendPoints 25,42-->
    <nodeSuccessors name="decision_yes" next="DecisionNode24"/>
    <nodeSuccessors name="decision_no" next="JoinNode16"/>
  </nodes>
<!--@Location 12,21-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode24" conditionKey="Product:EndOfLife"
      operator="undef">
    <nodeSuccessors name="decision_yes" next="JoinNode21"/>
<!--@BendPoints 27,43 27,44-->
    <nodeSuccessors name="decision_no" next="DecisionNode26"/>
  </nodes>
<!--@Location 12,23-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode21">
    <nodeSuccessors name="next" next="DecisionNode25"/>
  </nodes>
<!--@Location 12,24-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode25" conditionKey="Product:LastOrderDate"
      operator="undef">
    <nodeSuccessors name="decision_yes" next="JoinNode20"/>
<!--@BendPoints 27,49-->
    <nodeSuccessors name="decision_no" next="DecisionNode22"/>
  </nodes>
<!--@Location 12,26-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode20">
    <nodeSuccessors name="next" next="JoinNode23"/>
  </nodes>
<!--@Location 12,27-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode23">
<!--@BendPoints 24,55 24,33-->
    <nodeSuccessors name="next" next="LoopNode6_Entry"/>
  </nodes>
<!--@Location 13,25-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode22" conditionKey="Product:LastOrderDate:Time"
      operator="gt" conditionItem="CurrentDate:Time">
<!--@BendPoints 27,53-->
    <nodeSuccessors name="decision_yes" next="JoinNode20"/>
    <nodeSuccessors name="decision_no" next="JoinNode22"/>
  </nodes>
<!--@Location 14,25-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode22">
    <nodeSuccessors name="next" next="AddObjectToVector1"/>
  </nodes>
<!--@Location 14,26-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddObjectToVector1">
    <configurationValues name="Mode" value="Forbid Duplicates"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
    <nodeSuccessors name="next" next="JoinNode17"/>
    <parameterBindings name="InVector" objectPath="NotAvailableProductsVector"/>
    <parameterBindings name="Object" objectPath="ProductLineItem:ProductName"/>
    <returnValueBindings name="Iterator" objectPath="NotAvailableProducts"/>
    <returnValueBindings name="OutVector" objectPath="NotAvailableProductsVector"/>
  </nodes>
<!--@Location 14,27-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode17">
    <nodeSuccessors name="next" next="JoinNode23"/>
  </nodes>
<!--@Location 13,22-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode26" conditionKey="Product:EndOfLife:Time"
      operator="gt" conditionItem="CurrentDate:Time">
<!--@BendPoints 27,47-->
    <nodeSuccessors name="decision_yes" next="JoinNode21"/>
    <nodeSuccessors name="decision_no" next="JoinNode19"/>
  </nodes>
<!--@Location 14,22-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode19">
    <nodeSuccessors name="next" next="JoinNode22"/>
  </nodes>
<!--@Location 14,20-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode16">
    <nodeSuccessors name="next" next="JoinNode19"/>
  </nodes>
<!--@Location 14,19-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode18">
    <nodeSuccessors name="next" next="JoinNode16"/>
  </nodes>
<!--@Location 15,17-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode8" conditionKey="NotAvailableProducts">
<!--@BendPoints 31,36-->
    <nodeSuccessors name="decision_yes" next="EndNode10"/>
<!--@BendPoints 32,35-->
    <nodeSuccessors name="decision_no" next="EndNode8"/>
  </nodes>
<!--@Location 15,18-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode10" name="ERROR" strict="true">
    <returnValues name="NotAvailableProducts" type="java.util.Iterator" optional="true"/>
  </nodes>
<!--@Location 16,17-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode8" strict="true"/>
<!--@Location 4,19-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start18" name="CheckQuantities" callMode="Private">
    <nodeSuccessors name="next" next="SetDictionaryValue1"/>
  </nodes>
<!--@Location 4,20-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDictionaryValue1">
    <configurationValues name="Name" value="FormKey"/>
    <configurationValues name="Value" value="ProductRefIDs"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SetDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="CreateFormValuesIteratorForKey1"/>
  </nodes>
<!--@Location 4,21-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateFormValuesIteratorForKey1">
    <pipelet href="enfinity:/bc_foundation/pipelets/CreateFormValuesIteratorForKey.xml"/>
    <nodeSuccessors name="next" next="Loop8"/>
    <returnValueBindings name="FormValuesIterator" objectPath="PLIs"/>
  </nodes>
<!--@Location 4,22-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="Loop8" loop="PLIs">
    <nodeSuccessors name="next" next="End16"/>
    <entry key="PLI">
      <nodeSuccessors name="loop_entry_next" next="ConcatenateStrings2"/>
    </entry>
  </nodes>
<!--@Location 4,23-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ConcatenateStrings2">
    <configurationValues name="DefaultString1" value="Quantity_"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/ConcatenateStrings.xml"/>
    <nodeSuccessors name="next" next="CreateStaticKey2"/>
    <parameterBindings name="String2" objectPath="PLI"/>
  </nodes>
<!--@Location 4,24-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateStaticKey2">
    <pipelet href="enfinity:/bc_foundation/pipelets/CreateStaticKey.xml"/>
    <nodeSuccessors name="next" next="VerifyDouble2"/>
    <parameterBindings name="KeyNameHolder" objectPath="Concatenated"/>
  </nodes>
<!--@Location 4,25-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="VerifyDouble2">
    <configurationValues name="MaxValue" value="999999999999999999999999999999"/>
    <configurationValues name="MinValue" value="0"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/VerifyDouble.xml"/>
<!--@BendPoints 9,52 7,52 7,45-->
    <nodeSuccessors name="next" next="Loop8_Entry"/>
    <nodeSuccessors name="pipelet_error" next="End15"/>
    <parameterBindings name="LocalizedString" objectPath="MappedEntry"/>
  </nodes>
<!--@Location 5,25-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End15" name="error"/>
<!--@Location 5,22-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End16"/>
<!--@Location 33,7-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start19" name="CopyOrderRequiredProductAttributes"
      callMode="Private">
<!--@BendPoints 67,16-->
    <nodeSuccessors name="next" next="GetAttributeGroupByID1"/>
  </nodes>
<!--@Location 33,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetAttributeGroupByID1">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetAttributeGroupByID.xml"/>
    <nodeSuccessors name="next" next="JoinNode3"/>
<!--@BendPoints 68,17-->
    <nodeSuccessors name="pipelet_error" next="GetAttributeGroupByID2"/>
    <parameterBindings name="Domain" objectPath="CurrentOrganization:Domain"/>
    <parameterBindings name="ID" constant="ORDER_REQUIRED_ATTRIBUTES"/>
    <returnValueBindings name="AttributeGroup" objectPath="OrderRequiredAttributeGroup"/>
  </nodes>
<!--@Location 33,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode3">
    <nodeSuccessors name="next" next="Loop9"/>
  </nodes>
<!--@Location 33,10-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="Loop9" loop="NewProductLineItems">
<!--@BendPoints 68,21-->
    <nodeSuccessors name="next" next="End18"/>
    <entry key="NewProductLineItem">
<!--@BendPoints 67,22-->
      <nodeSuccessors name="loop_entry_next" next="GetProductByProductRef2"/>
    </entry>
  </nodes>
<!--@Location 33,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetProductByProductRef2">
    <pipelet href="enfinity:/bc_mvc/pipelets/GetProductByProductRef.xml"/>
    <nodeSuccessors name="next" next="Loop10"/>
<!--@BendPoints 71,23-->
    <nodeSuccessors name="pipelet_error" next="JoinNode9"/>
    <parameterBindings name="ProductRef" objectPath="NewProductLineItem:OfferProductRef"/>
    <parameterBindings name="ProductRefID" nullBinding="true"/>
    <parameterBindings name="ProductRefIDs" nullBinding="true"/>
    <parameterBindings name="ProductRefs" nullBinding="true"/>
    <returnValueBindings name="Product" objectPath="NewProduct"/>
    <returnValueBindings name="Products" nullBinding="true"/>
    <returnValueBindings name="ProductsHash" nullBinding="true"/>
  </nodes>
<!--@Location 33,19-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="Loop10" loop="OrderRequiredAttributeGroup:AttributeDescriptors">
<!--@BendPoints 69,39-->
    <nodeSuccessors name="next" next="CopyProductNativeAttributesToLineItem2"/>
    <entry key="OrderRequiredAttributeDescriptor">
<!--@BendPoints 67,40-->
      <nodeSuccessors name="loop_entry_next" next="CopyProductAttributeToLineItem1"/>
    </entry>
  </nodes>
<!--@Location 33,20-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CopyProductAttributeToLineItem1">
    <pipelet href="enfinity:/bc_requisition/pipelets/CopyProductAttributeToLineItem.xml"/>
<!--@BendPoints 67,44 66,44 66,43 66,39-->
    <nodeSuccessors name="next" next="Loop10_Entry"/>
    <parameterBindings name="AttributeName" objectPath="OrderRequiredAttributeDescriptor:ID"/>
    <parameterBindings name="LineItem" objectPath="NewProductLineItem"/>
    <parameterBindings name="Product" objectPath="NewProduct"/>
  </nodes>
<!--@Location 34,21-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CopyProductNativeAttributesToLineItem2">
    <configurationValues name="NativeAttributeNames" value="TypeCode,Image,Thumbnail,Unit,Template,SKU,Online,ManufacturerName,ManufacturerSKU,MinOrderQuantityValue,PriceQuantityValue,StepQuantityValue"/>
    <pipelet href="enfinity:/bc_requisition/pipelets/CopyProductNativeAttributesToLineItem.xml"/>
<!--@BendPoints 69,45 67,45-->
    <nodeSuccessors name="next" next="DecisionNode2"/>
    <parameterBindings name="AttributeGroup" objectPath="OrderRequiredAttributeGroup"/>
    <parameterBindings name="LineItem" objectPath="NewProductLineItem"/>
    <parameterBindings name="Product" objectPath="NewProduct"/>
  </nodes>
<!--@Location 33,23-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode2" conditionKey="NewProduct:ProductMaster">
    <nodeSuccessors name="decision_yes" next="LoopNode1"/>
<!--@BendPoints 68,47-->
    <nodeSuccessors name="decision_no" next="JoinNode4"/>
  </nodes>
<!--@Location 33,24-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode1" loop="NewProduct:ProductMaster:VariableVariationAttributes">
    <nodeSuccessors name="next" next="JoinNode4"/>
    <entry key="VVA">
      <nodeSuccessors name="loop_entry_next" next="Pipelet1"/>
    </entry>
  </nodes>
<!--@Location 33,25-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="Pipelet1">
    <pipelet href="enfinity:/bc_requisition/pipelets/CopyProductAttributeToLineItem.xml"/>
<!--@BendPoints 67,52 66,52 66,49-->
    <nodeSuccessors name="next" next="LoopNode1_Entry"/>
    <parameterBindings name="AttributeName" objectPath="VVA:Name"/>
    <parameterBindings name="LineItem" objectPath="NewProductLineItem"/>
    <parameterBindings name="Product" objectPath="NewProduct"/>
  </nodes>
<!--@Location 34,24-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode4">
<!--@BendPoints 69,46 65,46 65,21-->
    <nodeSuccessors name="next" next="Loop9_Entry"/>
  </nodes>
<!--@Location 35,15-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode9">
<!--@BendPoints 71,49-->
    <nodeSuccessors name="next" next="JoinNode4"/>
  </nodes>
<!--@Location 34,10-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End18"/>
<!--@Location 34,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetAttributeGroupByID2">
    <pipelet href="enfinity:/bc_foundation/pipelets/GetAttributeGroupByID.xml"/>
<!--@BendPoints 70,17 70,19-->
    <nodeSuccessors name="next" next="JoinNode25"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode25"/>
    <parameterBindings name="Domain" objectPath="CurrentOrganization:OwningDomain"/>
    <parameterBindings name="ID" constant="ORDER_REQUIRED_ATTRIBUTES"/>
    <returnValueBindings name="AttributeGroup" objectPath="OrderRequiredAttributeGroup"/>
  </nodes>
<!--@Location 34,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode25">
    <nodeSuccessors name="next" next="JoinNode3"/>
  </nodes>
<!--Copies all order required attributes from all products in a reqisition to the according line items
@Location 3,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start1" name="Create" sessionMode="Persistent"
      callMode="Private">
<!--@BendPoints 7,2-->
    <nodeSuccessors name="next" next="GetOrganizationByUser3"/>
  </nodes>
<!--@Location 3,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetOrganizationByUser3">
    <pipelet href="enfinity:/bc_organization/pipelets/GetOrganizationByUser.xml"/>
    <nodeSuccessors name="next" next="JoinNode7"/>
<!--@BendPoints 8,3 8,5-->
    <nodeSuccessors name="pipelet_error" next="JoinNode7"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 3,2-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode7">
<!--@BendPoints 7,6-->
    <nodeSuccessors name="next" next="CreateBasket1" action="begin"/>
  </nodes>
<!--@Location 3,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateBasket1">
    <configurationValues name="BasketType" value="REQUISITION"/>
    <pipelet href="enfinity:/bts/pipelets/CreateBasket.xml"/>
    <nodeSuccessors name="next" next="AssignRequisitionDocumentNos1"/>
    <parameterBindings name="CurrentDomain" objectPath="OrganizationDomain"/>
    <returnValueBindings name="Basket" objectPath="Requisition"/>
  </nodes>
<!--@Location 3,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AssignRequisitionDocumentNos1">
    <configurationValues name="DomainSpecific" value="true"/>
    <configurationValues name="NumberPattern" value="00000000"/>
    <configurationValues name="SeriesIdentifier" value="Requisition"/>
    <pipelet href="enfinity:/bc_requisition/pipelets/AssignRequisitionDocumentNos.xml"/>
    <nodeSuccessors name="next" next="UpdateCustomAttributes2"/>
  </nodes>
<!--@Location 3,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateCustomAttributes2">
    <configurationValues name="Attribute_1_Name" value="CreationBuyerNo"/>
    <configurationValues name="Attribute_1_Type" value="String"/>
    <pipelet href="enfinity:/core/pipelets/UpdateCustomAttributes.xml"/>
    <nodeSuccessors name="next" next="Call17"/>
    <parameterBindings name="Attribute_1_Value" objectPath="Requisition:BuyerNo"/>
    <parameterBindings name="ExtensibleObject" objectPath="Requisition"/>
  </nodes>
<!--@Location 3,8-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call17">
    <nodeSuccessors name="next" next="Call5"/>
    <startNode referencedName="ProcessRequisitionCustomized-InitPayment"/>
  </nodes>
<!--@Location 3,9-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call5">
<!--@BendPoints 7,20-->
    <nodeSuccessors name="next" next="Call21"/>
    <startNode referencedName="ProcessRequisition-InitRequisitionStatus"/>
  </nodes>
<!--@Location 3,10-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call21">
    <nodeSuccessors name="next" next="Call6"/>
    <startNode referencedName="ProcessRequisitionCustomized-InitRequisitionDelegation"/>
  </nodes>
<!--@Location 3,11-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call6">
    <nodeSuccessors name="next" next="Call4"/>
    <startNode referencedName="ProcessRequisitionCustomized-InitRequisitionDepartment"/>
  </nodes>
<!--@Location 3,12-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call4">
    <nodeSuccessors name="next" next="ExchangeSessionObject4" action="commit"/>
    <startNode referencedName="ProcessRequisitionCustomized-InitRequisitionCostCenter"/>
  </nodes>
<!--@Location 3,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExchangeSessionObject4">
    <configurationValues name="ProcessMethod" value="Put Object to Session"/>
    <configurationValues name="SessionObjectName" value="TEST"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/ExchangeSessionObject.xml"/>
    <nodeSuccessors name="next" next="End5"/>
    <parameterBindings name="SaveObject" constant="TEST"/>
  </nodes>
<!--@Location 3,14-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End5"/>
<!--@Location 0,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start8" name="GetCurrentRequisition"
      callMode="Private">
    <nodeSuccessors name="next" next="GetOrganizationByUser1"/>
  </nodes>
<!--@Location 0,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetOrganizationByUser1">
    <pipelet href="enfinity:/bc_organization/pipelets/GetOrganizationByUser.xml"/>
    <nodeSuccessors name="next" next="JoinNode5"/>
<!--@BendPoints 2,3 2,5-->
    <nodeSuccessors name="pipelet_error" next="JoinNode5"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 0,2-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode5">
<!--@BendPoints 1,6-->
    <nodeSuccessors name="next" next="GetBasket2"/>
  </nodes>
<!--@Location 0,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetBasket2">
    <configurationValues name="BasketType" value="REQUISITION"/>
    <pipelet href="enfinity:/bts/pipelets/GetBasket.xml"/>
    <nodeSuccessors name="next" next="Join8"/>
<!--@BendPoints 2,7 2,9-->
    <nodeSuccessors name="pipelet_error" next="Join8"/>
    <parameterBindings name="CurrentDomain" objectPath="OrganizationDomain"/>
    <returnValueBindings name="Basket" objectPath="Requisition"/>
  </nodes>
<!--@Location 0,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join8">
<!--@BendPoints 1,11-->
    <nodeSuccessors name="next" next="Join12"/>
  </nodes>
<!--@Location 1,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join12">
    <nodeSuccessors name="next" next="End20"/>
  </nodes>
<!--@Location 1,6-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End20"/>
<!--@Location 36,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start17" name="GetPLIToCommentAssignment"
      callMode="Private">
    <nodeSuccessors name="next" next="RemoveDictionaryValue1"/>
  </nodes>
<!--@Location 36,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveDictionaryValue1">
    <configurationValues name="Key" value="PLIToCommentsMap"/>
    <configurationValues name="RemoveFormValues" value="false"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/RemoveDictionaryValue.xml"/>
    <nodeSuccessors name="next" next="Loop6"/>
  </nodes>
<!--@Location 36,2-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="Loop6" loop="Requisition:ProductLineItems">
    <nodeSuccessors name="next" next="End12"/>
    <entry key="ProductLineItem">
      <nodeSuccessors name="loop_entry_next" next="GetCommentsByObject1"/>
    </entry>
  </nodes>
<!--@Location 36,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCommentsByObject1">
    <configurationValues name="DefaultTypeCode" value="1"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetCommentsByObject.xml"/>
    <nodeSuccessors name="next" next="AddEntryToMap1"/>
    <parameterBindings name="PersistentObject" objectPath="ProductLineItem"/>
    <parameterBindings name="TypeCode" objectPath="CommentTypeCode"/>
    <returnValueBindings name="Comments" objectPath="PLIComments"/>
  </nodes>
<!--@Location 36,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddEntryToMap1">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddEntryToMap.xml"/>
<!--@BendPoints 73,10 71,10 71,5-->
    <nodeSuccessors name="next" next="Loop6_Entry"/>
    <parameterBindings name="InMap" objectPath="PLIToCommentsMap"/>
    <parameterBindings name="Key" objectPath="ProductLineItem:UUID"/>
    <parameterBindings name="Value" objectPath="PLIComments"/>
    <returnValueBindings name="OutMap" objectPath="PLIToCommentsMap"/>
  </nodes>
<!--@Location 37,2-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End12"/>
<!--@Location 16,8-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start5" name="InitRequisitionStatus"
      callMode="Private">
    <nodeSuccessors name="next" next="UpdateLineItemStatus2"/>
  </nodes>
<!--@Location 16,9-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateLineItemStatus2">
    <configurationValues name="StatusGroup" value="Requisition"/>
    <configurationValues name="StatusID" value="1"/>
    <pipelet href="enfinity:/bc_requisition/pipelets/UpdateLineItemStatus.xml"/>
    <nodeSuccessors name="next" next="UpdateRequisitionStatus6"/>
  </nodes>
<!--@Location 16,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateRequisitionStatus6">
    <configurationValues name="StatusGroup" value="ApprovalStateGroup"/>
    <configurationValues name="StatusID" value="100"/>
    <pipelet href="enfinity:/bc_requisition/pipelets/UpdateRequisitionStatus.xml"/>
    <nodeSuccessors name="next" next="UpdateRequisitionStatus5"/>
    <parameterBindings name="InputStatusGroup" objectPath="not"/>
    <parameterBindings name="InputStatusID" objectPath="not"/>
  </nodes>
<!--@Location 16,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateRequisitionStatus5">
    <configurationValues name="StatusGroup" value="OrderStateGroup"/>
    <configurationValues name="StatusID" value="1000"/>
    <pipelet href="enfinity:/bc_requisition/pipelets/UpdateRequisitionStatus.xml"/>
    <nodeSuccessors name="next" next="UpdateRequisitionStatus1"/>
    <parameterBindings name="InputStatusGroup" objectPath="not"/>
    <parameterBindings name="InputStatusID" objectPath="not"/>
  </nodes>
<!--@Location 16,12-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateRequisitionStatus1">
    <configurationValues name="StatusGroup" value="DeliveryStateGroup"/>
    <configurationValues name="StatusID" value="10000"/>
    <pipelet href="enfinity:/bc_requisition/pipelets/UpdateRequisitionStatus.xml"/>
    <nodeSuccessors name="next" next="End7"/>
    <parameterBindings name="InputStatusGroup" objectPath="not"/>
    <parameterBindings name="InputStatusID" objectPath="not"/>
  </nodes>
<!--@Location 16,13-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End7"/>
<!--@Location 1,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start13" name="ObtainCurrentRequisition"
      callMode="Private">
    <nodeSuccessors name="next" next="GetOrganizationByUser5"/>
  </nodes>
<!--@Location 1,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetOrganizationByUser5">
    <pipelet href="enfinity:/bc_organization/pipelets/GetOrganizationByUser.xml"/>
    <nodeSuccessors name="next" next="JoinNode6"/>
<!--@BendPoints 4,3 4,5-->
    <nodeSuccessors name="pipelet_error" next="JoinNode6"/>
    <parameterBindings name="User" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 1,2-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode6">
<!--@BendPoints 3,6-->
    <nodeSuccessors name="next" next="GetBasket1"/>
  </nodes>
<!--@Location 1,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetBasket1">
    <configurationValues name="BasketType" value="REQUISITION"/>
    <pipelet href="enfinity:/bts/pipelets/GetBasket.xml"/>
    <nodeSuccessors name="next" next="Join12"/>
<!--@BendPoints 5,7-->
    <nodeSuccessors name="pipelet_error" next="Call8"/>
    <parameterBindings name="CurrentDomain" objectPath="OrganizationDomain"/>
    <returnValueBindings name="Basket" objectPath="Requisition"/>
  </nodes>
<!--@Location 2,4-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call8">
<!--@BendPoints 5,11-->
    <nodeSuccessors name="next" next="Join12"/>
    <startNode referencedName="ProcessRequisition-Create"/>
  </nodes>
<!--@Location 29,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start15" name="OverrideAttendeePLI"
      callMode="Private">
    <nodeSuccessors name="next" next="Loop2"/>
  </nodes>
<!--Loops for the order required attributes
@Location 29,1-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="Loop2" loop="Requisition:ProductLineItems">
    <nodeSuccessors name="next" next="End2"/>
    <entry key="ProductLineItem">
      <nodeSuccessors name="loop_entry_next" next="Decision3"/>
    </entry>
  </nodes>
<!--@Location 29,2-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="Decision3" conditionKey="ProductLineItem:Attendee"
      operator="undef">
    <nodeSuccessors name="decision_yes" next="Join9"/>
<!--@BendPoints 61,5-->
    <nodeSuccessors name="decision_no" next="Decision5"/>
  </nodes>
<!--@Location 29,4-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join9">
    <nodeSuccessors name="next" next="UpdateCustomAttributes5"/>
  </nodes>
<!--@Location 29,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateCustomAttributes5">
    <configurationValues name="Attribute_1_Name" value="Attendee"/>
    <configurationValues name="Attribute_1_Type" value="String"/>
    <pipelet href="enfinity:/core/pipelets/UpdateCustomAttributes.xml"/>
    <nodeSuccessors name="next" next="Join6"/>
    <parameterBindings name="Attribute_1_Value" objectPath="RequisitionAttendee"/>
    <parameterBindings name="ExtensibleObject" objectPath="ProductLineItem"/>
  </nodes>
<!--@Location 29,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join6">
<!--@BendPoints 59,14 58,14 58,3-->
    <nodeSuccessors name="next" next="Loop2_Entry"/>
  </nodes>
<!--@Location 30,3-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="Decision5" conditionKey="OverrideLineItemAttendee">
<!--@BendPoints 61,9-->
    <nodeSuccessors name="decision_yes" next="Join9"/>
<!--@BendPoints 62,7 62,13-->
    <nodeSuccessors name="decision_no" next="Join6"/>
  </nodes>
<!--@Location 30,1-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End2"/>
<!--@Location 4,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start4" name="RemoveItem" callMode="Private">
    <nodeSuccessors name="next" next="CallNode2"/>
<!--The form value that contains the id of the product line item to be removed.-->
    <parameters name="LineItemID" type="java.lang.String" optional="true"/>
<!--String form value contains the uuid of the shipping method which the buyer has selected.-->
    <parameters name="ShippingMethodUserSelection" type="java.lang.String" optional="true"/>
<!--Form value contains the UUID String of the payment method which the buyer has selected in the template.-->
    <parameters name="PaymentMethodUserSelection" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 4,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode2">
<!--@BendPoints 9,6-->
    <nodeSuccessors name="next" next="RemoveProductLineItemFromBasket1"/>
<!--@BendPoints 11,4 11,11-->
    <nodeSuccessors name="isQuote" next="JoinNode12"/>
    <startNode referencedName="ProcessRequisition-RemoveQuoteItems"/>
  </nodes>
<!--@Location 4,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveProductLineItemFromBasket1">
    <pipelet href="enfinity:/bts/pipelets/RemoveProductLineItemFromBasket.xml"/>
    <nodeSuccessors name="next" next="JoinNode12"/>
    <parameterBindings name="Basket" objectPath="Requisition"/>
  </nodes>
<!--@Location 4,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode12">
    <nodeSuccessors name="next" next="Decision8"/>
  </nodes>
<!--@Location 4,12-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="Decision8" conditionKey="Requisition:LineItemsCount"
      operator="eq" conditionValue="0">
<!--@BendPoints 9,29-->
    <nodeSuccessors name="decision_yes" next="ExchangeSessionObject3"/>
<!--@BendPoints 10,25 10,27-->
    <nodeSuccessors name="decision_no" next="Join1"/>
  </nodes>
<!--@Location 6,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExchangeSessionObject3">
    <configurationValues name="ProcessMethod" value="Put Object to Session"/>
    <configurationValues name="SessionObjectName" value="Delegation"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/ExchangeSessionObject.xml"/>
    <nodeSuccessors name="next" next="Join11"/>
    <parameterBindings name="SaveObject" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 17,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start16" name="RemoveLineItemsPrice_N_A"
      callMode="Private">
    <nodeSuccessors name="next" next="Call10"/>
  </nodes>
<!--@Location 17,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call10">
    <nodeSuccessors name="next" next="ValidateRequisition2"/>
    <startNode referencedName="ProcessRequisition-ObtainCurrentRequisition"/>
  </nodes>
<!--@Location 17,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ValidateRequisition2">
    <pipelet href="enfinity:/bc_requisition/pipelets/ValidateRequisition.xml"/>
    <nodeSuccessors name="next" next="CheckForEmptyIterator1"/>
  </nodes>
<!--@Location 17,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyIterator1">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyIterator.xml"/>
    <nodeSuccessors name="next" next="Loop4"/>
    <nodeSuccessors name="pipelet_error" next="End3"/>
    <parameterBindings name="FilledIterator" objectPath="ProductLineItems"/>
  </nodes>
<!--@Location 17,4-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="Loop4" loop="ProductLineItems">
<!--@BendPoints 37,9-->
    <nodeSuccessors name="next" next="Call13"/>
    <entry key="ProductLineItem">
      <nodeSuccessors name="loop_entry_next" next="AddObjectToString1"/>
    </entry>
  </nodes>
<!--@Location 17,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddObjectToString1">
    <configurationValues name="DefaultSeparator" value=","/>
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToString.xml"/>
    <nodeSuccessors name="next" next="RemoveProductLineItemFromBasket2"/>
    <parameterBindings name="InObject" objectPath="ProductLineItem:ProductName"/>
    <parameterBindings name="InString" objectPath="OfferProductError"/>
    <returnValueBindings name="OutString" objectPath="OfferProductError"/>
  </nodes>
<!--@Location 17,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveProductLineItemFromBasket2">
    <pipelet href="enfinity:/bts/pipelets/RemoveProductLineItemFromBasket.xml"/>
<!--@BendPoints 35,14 33,14 33,9-->
    <nodeSuccessors name="next" next="Loop4_Entry"/>
    <parameterBindings name="Basket" objectPath="Requisition"/>
    <parameterBindings name="LineItemID" objectPath="ProductLineItem:UUID"/>
  </nodes>
<!--@Location 18,6-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call13">
    <nodeSuccessors name="next" next="End27"/>
    <startNode referencedName="ProcessRequisition-Calculate"/>
  </nodes>
<!--@Location 18,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End27"/>
<!--@Location 18,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End3"/>
<!--@Location 19,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start14" name="RemoveLineItems_RelationInvalid"
      callMode="Private">
    <nodeSuccessors name="next" next="End25"/>
  </nodes>
<!--@Location 19,2-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End25"/>
<!--@Location 29,8-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode1" strict="true" name="RemoveQuoteItems"
      callMode="Private">
<!--@BendPoints 59,18-->
    <nodeSuccessors name="next" next="GetLineItemByUUID2"/>
    <parameters name="Requisition" type="com.intershop.beehive.bts.capi.orderprocess.basket.Basket"
        optional="true"/>
    <parameters name="LineItemID" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 29,9-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetLineItemByUUID2">
    <pipelet href="enfinity:/bc_requisition/pipelets/GetLineItemByUUID.xml"/>
    <nodeSuccessors name="next" next="DecisionNode6"/>
<!--@BendPoints 60,19-->
    <nodeSuccessors name="pipelet_error" next="EndNode3"/>
    <parameterBindings name="LineItemUUID" objectPath="LineItemID"/>
  </nodes>
<!--@Location 29,10-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode6" conditionKey="LineItem:QuoteUUID">
    <nodeSuccessors name="decision_yes" next="KeyMapper1"/>
<!--@BendPoints 60,21-->
    <nodeSuccessors name="decision_no" next="EndNode4"/>
  </nodes>
<!--@Location 29,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper1">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="LoopNode5"/>
    <parameterBindings name="InValue_1" objectPath="LineItem:QuoteUUID"/>
    <returnValueBindings name="OutValue_1" objectPath="QuoteUUID"/>
  </nodes>
<!--@Location 29,12-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode5" loop="Requisition:ProductLineItems">
<!--@BendPoints 60,25-->
    <nodeSuccessors name="next" next="EndNode5"/>
    <entry key="PLI">
      <nodeSuccessors name="loop_entry_next" next="DecisionNode7"/>
    </entry>
  </nodes>
<!--@Location 29,13-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode7" conditionKey="PLI:QuoteUUID">
    <nodeSuccessors name="decision_yes" next="DecisionNode5"/>
<!--@BendPoints 61,27-->
    <nodeSuccessors name="decision_no" next="JoinNode13"/>
  </nodes>
<!--@Location 29,14-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode5" conditionKey="PLI:QuoteUUID"
      operator="str_eq" conditionItem="QuoteUUID">
    <nodeSuccessors name="decision_yes" next="RemoveProductLineItemFromBasket3"/>
    <nodeSuccessors name="decision_no" next="JoinNode13"/>
  </nodes>
<!--@Location 29,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveProductLineItemFromBasket3">
    <pipelet href="enfinity:/bts/pipelets/RemoveProductLineItemFromBasket.xml"/>
    <nodeSuccessors name="next" next="JoinNode11"/>
    <parameterBindings name="Basket" objectPath="Requisition"/>
    <parameterBindings name="LineItemID" objectPath="PLI:UUID"/>
  </nodes>
<!--@Location 29,16-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode11">
<!--@BendPoints 58,33 58,25-->
    <nodeSuccessors name="next" next="LoopNode5_Entry"/>
  </nodes>
<!--@Location 30,14-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode13">
<!--@BendPoints 61,33-->
    <nodeSuccessors name="next" next="JoinNode11"/>
  </nodes>
<!--@Location 30,12-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode5" name="isQuote" strict="true"/>
<!--@Location 30,10-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode4" strict="true"/>
<!--@Location 30,9-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode3" strict="true"/>
<!--@Location 5,6-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode4" strict="true" name="Start"
      callMode="Private">
<!--@BendPoints 11,14-->
    <nodeSuccessors name="next" next="AddProductToBasket1"/>
  </nodes>
<!--@Location 5,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddProductToBasket1">
    <pipelet href="enfinity:/bts/pipelets/AddProductToBasket.xml"/>
<!--@BendPoints 11,16-->
    <nodeSuccessors name="next" next="EndNode7"/>
    <parameterBindings name="Basket" objectPath="Requisition"/>
    <parameterBindings name="ProductRef" nullBinding="true"/>
    <parameterBindings name="ProductRefID" nullBinding="true"/>
    <parameterBindings name="ProductRefIDs" objectPath="ProductRefIDs"/>
    <parameterBindings name="ProductRefs" nullBinding="true"/>
  </nodes>
<!--@Location 5,8-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode7"/>
<!--@Location 13,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start9" name="Submit" callMode="Private">
    <nodeSuccessors name="next" next="Call15"/>
<!--The requisition to be updated.-->
    <parameters name="Requisition" type="com.intershop.beehive.bts.capi.orderprocess.basket.Basket"
        optional="true"/>
<!--The requisition department.-->
    <parameters name="Department" type="com.intershop.component.organization.capi.Department"
        optional="true"/>
<!--The general requisition comment.-->
    <parameters name="RequisitionComment" type="java.lang.String" optional="true"/>
<!--The requisitio display name.-->
    <parameters name="RequisitionDisplayName" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 13,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call15" callModePermissions="Private">
    <nodeSuccessors name="next" next="Call12"/>
    <startNode objectPath="Update"/>
  </nodes>
<!--@Location 13,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call12">
    <nodeSuccessors name="next" next="ExchangeSessionObject1"/>
    <startNode referencedName="ProcessRequisition-RemoveLineItemsPrice_N_A"/>
  </nodes>
<!--@Location 13,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExchangeSessionObject1">
    <configurationValues name="ProcessMethod" value="Get Object from Session"/>
    <configurationValues name="SessionObjectName" value="Delegation"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/ExchangeSessionObject.xml"/>
    <nodeSuccessors name="next" next="Decision7"/>
    <returnValueBindings name="LoadObject" objectPath="CurrentDelegator"/>
  </nodes>
<!--@Location 13,4-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="Decision7" conditionKey="CurrentDelegator"
      operator="undef">
    <nodeSuccessors name="decision_yes" next="Join5"/>
<!--@BendPoints 28,9 28,7 29,7-->
    <nodeSuccessors name="decision_no" next="UpdateLineItemCtnr1"/>
  </nodes>
<!--@Location 13,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join5">
    <nodeSuccessors name="next" next="SetRequisitionSubmitDate1"/>
  </nodes>
<!--@Location 13,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetRequisitionSubmitDate1">
    <pipelet href="enfinity:/bc_requisition/pipelets/SetRequisitionSubmitDate.xml"/>
    <nodeSuccessors name="next" next="JoinNode24"/>
<!--@BendPoints 28,13 28,15-->
    <nodeSuccessors name="pipelet_error" next="JoinNode24"/>
  </nodes>
<!--@Location 13,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode24">
<!--@BendPoints 27,16-->
    <nodeSuccessors name="next" next="GetOCIRequestInfo1"/>
  </nodes>
<!--@Location 13,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetOCIRequestInfo1">
    <pipelet href="enfinity:/ac_oci/pipelets/GetOCIRequestInfo.xml"/>
    <nodeSuccessors name="next" next="UpdateLineItemStatus1"/>
<!--@BendPoints 28,17-->
    <nodeSuccessors name="pipelet_error" next="Call14"/>
  </nodes>
<!--@Location 13,9-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateLineItemStatus1">
    <configurationValues name="StatusGroup" value="Approval"/>
    <configurationValues name="StatusID" value="3"/>
    <pipelet href="enfinity:/bc_requisition/pipelets/UpdateLineItemStatus.xml"/>
    <nodeSuccessors name="next" next="UpdateRequisitionStatus2"/>
  </nodes>
<!--@Location 13,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateRequisitionStatus2">
    <configurationValues name="StatusID" value="25"/>
    <pipelet href="enfinity:/bc_requisition/pipelets/UpdateRequisitionStatus.xml"/>
    <nodeSuccessors name="next" next="RemoveRequisitionFromSession1"/>
  </nodes>
<!--@Location 13,11-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveRequisitionFromSession1">
    <pipelet href="enfinity:/bc_requisition/pipelets/RemoveRequisitionFromSession.xml"/>
    <nodeSuccessors name="next" next="EndNode0"/>
    <parameterBindings name="Requisition" objectPath="Requisition"/>
  </nodes>
<!--@Location 13,12-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode0" name="Error"/>
<!--@Location 14,13-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call14">
    <nodeSuccessors name="next" next="Call2"/>
    <startNode referencedName="ProcessAccountTransactions-OnSubmitRequisition"/>
  </nodes>
<!--@Location 14,14-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call2">
    <nodeSuccessors name="next" next="End10"/>
    <startNode referencedName="ProcessApproval-Submit"/>
  </nodes>
<!--@Location 14,15-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End10"/>
<!--@Location 14,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateLineItemCtnr1">
    <pipelet href="enfinity:/bc_requisition/pipelets/UpdateLineItemCtnr.xml"/>
    <nodeSuccessors name="next" next="ExchangeSessionObject2"/>
    <parameterBindings name="BuyerNo" objectPath="CurrentDelegator:Profile:BusinessPartnerNo"/>
    <parameterBindings name="LineItemCtnr" objectPath="Requisition"/>
    <parameterBindings name="User" objectPath="CurrentDelegator"/>
  </nodes>
<!--Remove CurrentDelegator in Session
@Location 14,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExchangeSessionObject2">
    <configurationValues name="ProcessMethod" value="Put Object to Session"/>
    <configurationValues name="SessionObjectName" value="Delegation"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/ExchangeSessionObject.xml"/>
<!--@BendPoints 29,12 28,12 28,11-->
    <nodeSuccessors name="next" next="Join5"/>
    <parameterBindings name="SaveObject" objectPath="CurrentUser"/>
  </nodes>
<!--@Location 8,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start3" name="Update" callMode="Private">
    <nodeSuccessors name="next" next="Loop7"/>
<!--The requisition to be updated.-->
    <parameters name="Requisition" type="com.intershop.beehive.bts.capi.orderprocess.basket.Basket"
        optional="true"/>
<!--The requisition department.-->
    <parameters name="Department" type="com.intershop.component.organization.capi.Department"
        optional="true"/>
<!--The general requisition comment.-->
    <parameters name="RequisitionComment" type="java.lang.String" optional="true"/>
<!--The requisition display name.-->
    <parameters name="RequisitionDisplayName" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 8,1-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="Loop7" loop="Requisition:ProductLineItems">
<!--@BendPoints 21,3-->
    <nodeSuccessors name="next" next="UpdateBasketQuantities1" action="begin"/>
    <entry key="PLI">
      <nodeSuccessors name="loop_entry_next" next="ConcatenateStrings1"/>
    </entry>
  </nodes>
<!--@Location 8,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ConcatenateStrings1">
    <configurationValues name="DefaultString1" value="Quantity_"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/ConcatenateStrings.xml"/>
    <nodeSuccessors name="next" next="CreateStaticKey1"/>
    <parameterBindings name="String2" objectPath="PLI:UUID"/>
    <returnValueBindings name="Concatenated" objectPath="FormParameterName"/>
  </nodes>
<!--@Location 8,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateStaticKey1">
    <pipelet href="enfinity:/bc_foundation/pipelets/CreateStaticKey.xml"/>
    <nodeSuccessors name="next" next="DecisionNode1"/>
    <parameterBindings name="KeyNameHolder" objectPath="FormParameterName"/>
    <returnValueBindings name="MappedEntry" objectPath="FormParameterValue"/>
  </nodes>
<!--@Location 8,4-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode1" conditionKey="FormParameterValue">
    <nodeSuccessors name="decision_yes" next="VerifyDouble1"/>
<!--@BendPoints 18,9 18,13-->
    <nodeSuccessors name="decision_no" next="JoinNode1"/>
  </nodes>
<!--@Location 8,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="VerifyDouble1">
    <configurationValues name="MaxValue" value="999999999999999999999999999999"/>
    <configurationValues name="MinValue" value="0"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/VerifyDouble.xml"/>
    <nodeSuccessors name="next" next="JoinNode1"/>
    <nodeSuccessors name="pipelet_error" next="End14"/>
    <parameterBindings name="LocalizedString" objectPath="FormParameterValue"/>
    <returnValueBindings name="DoubleValue" nullBinding="true"/>
  </nodes>
<!--@Location 8,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode1">
<!--@BendPoints 17,14 16,14 16,3-->
    <nodeSuccessors name="next" next="Loop7_Entry"/>
  </nodes>
<!--@Location 9,5-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End14" name="error-quantity"/>
<!--@Location 10,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateBasketQuantities1">
    <configurationValues name="RemoveNonPositiveQuantityItems" value="true"/>
    <pipelet href="enfinity:/bts/pipelets/UpdateBasketQuantities.xml"/>
    <nodeSuccessors name="next" next="Call1"/>
    <parameterBindings name="Basket" objectPath="Requisition"/>
  </nodes>
<!--@Location 10,3-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call1">
    <nodeSuccessors name="next" next="Call3" action="savepoint"/>
    <startNode referencedName="ProcessRequisitionCustomized-UpdateBuyerDepartment"/>
  </nodes>
<!--@Location 10,5-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call3">
    <nodeSuccessors name="next" next="DecisionNode11"/>
    <startNode referencedName="ProcessRequisitionCustomized-UpdateBuyerCostCenters"/>
  </nodes>
<!--@Location 10,6-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode11" conditionKey="Comment">
    <nodeSuccessors name="decision_yes" next="UpdateCustomAttributes3"/>
<!--@BendPoints 22,13 22,17-->
    <nodeSuccessors name="decision_no" next="JoinNode26"/>
  </nodes>
<!--@Location 10,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateCustomAttributes3">
    <configurationValues name="Attribute_1_Name" value="Comment"/>
    <configurationValues name="Attribute_1_Type" value="String"/>
    <pipelet href="enfinity:/core/pipelets/UpdateCustomAttributes.xml"/>
    <nodeSuccessors name="next" next="JoinNode26"/>
    <parameterBindings name="Attribute_1_Value" objectPath="RequisitionComment"/>
    <parameterBindings name="ExtensibleObject" objectPath="Requisition"/>
  </nodes>
<!--@Location 10,8-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode26">
    <nodeSuccessors name="next" next="DecisionNode14"/>
  </nodes>
<!--@Location 10,9-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode14" conditionKey="RequisitionComment">
    <nodeSuccessors name="decision_yes" next="UpdateCustomAttributes8"/>
<!--@BendPoints 22,19 22,23-->
    <nodeSuccessors name="decision_no" next="JoinNode29"/>
  </nodes>
<!--@Location 10,10-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateCustomAttributes8">
    <configurationValues name="Attribute_1_Name" value="Comment"/>
    <configurationValues name="Attribute_1_Type" value="String"/>
    <pipelet href="enfinity:/core/pipelets/UpdateCustomAttributes.xml"/>
    <nodeSuccessors name="next" next="JoinNode29"/>
    <parameterBindings name="Attribute_1_Value" objectPath="RequisitionComment"/>
    <parameterBindings name="ExtensibleObject" objectPath="Requisition"/>
  </nodes>
<!--@Location 10,11-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode29">
    <nodeSuccessors name="next" next="DecisionNode12"/>
  </nodes>
<!--@Location 10,12-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode12" conditionKey="DisplayName">
    <nodeSuccessors name="decision_yes" next="UpdateCustomAttributes6"/>
<!--@BendPoints 22,25 22,29-->
    <nodeSuccessors name="decision_no" next="JoinNode27"/>
  </nodes>
<!--@Location 10,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateCustomAttributes6">
    <configurationValues name="Attribute_1_Name" value="DisplayName"/>
    <configurationValues name="Attribute_1_Type" value="String"/>
    <pipelet href="enfinity:/core/pipelets/UpdateCustomAttributes.xml"/>
    <nodeSuccessors name="next" next="JoinNode27"/>
    <parameterBindings name="Attribute_1_Value" objectPath="RequisitionDisplayName"/>
    <parameterBindings name="ExtensibleObject" objectPath="Requisition"/>
  </nodes>
<!--@Location 10,14-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode27">
    <nodeSuccessors name="next" next="DecisionNode13"/>
  </nodes>
<!--@Location 10,15-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode13" conditionKey="RequisitionDisplayName">
    <nodeSuccessors name="decision_yes" next="UpdateCustomAttributes7"/>
<!--@BendPoints 22,31 22,35-->
    <nodeSuccessors name="decision_no" next="JoinNode28"/>
  </nodes>
<!--@Location 10,16-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateCustomAttributes7">
    <configurationValues name="Attribute_1_Name" value="DisplayName"/>
    <configurationValues name="Attribute_1_Type" value="String"/>
    <pipelet href="enfinity:/core/pipelets/UpdateCustomAttributes.xml"/>
    <nodeSuccessors name="next" next="JoinNode28"/>
    <parameterBindings name="Attribute_1_Value" objectPath="RequisitionDisplayName"/>
    <parameterBindings name="ExtensibleObject" objectPath="Requisition"/>
  </nodes>
<!--@Location 10,17-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode28">
    <nodeSuccessors name="next" next="UpdateRequisitionAddresses2"/>
  </nodes>
<!--@Location 10,18-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateRequisitionAddresses2">
    <configurationValues name="ShipToAddressUpdateMode" value="Ignore Product Line Items"/>
    <pipelet href="enfinity:/bc_requisition/pipelets/UpdateRequisitionAddresses.xml"/>
<!--@BendPoints 21,39-->
    <nodeSuccessors name="next" next="JoinNode10"/>
  </nodes>
<!--@Location 10,21-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode10">
    <nodeSuccessors name="next" next="Join3" action="commit"/>
  </nodes>
<!--@Location 38,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode2" name="UpdateOverrideMode"
      callMode="Private">
    <nodeSuccessors name="next" next="DecisionNode3"/>
  </nodes>
<!--@Location 38,1-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode3" conditionKey="OverrideModeEntries">
    <nodeSuccessors name="decision_yes" next="KeyMapper7"/>
<!--@BendPoints 78,3-->
    <nodeSuccessors name="decision_no" next="EndNode2"/>
  </nodes>
<!--@Location 38,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper7">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="GetFormSelection4"/>
    <parameterBindings name="InValue_1" objectPath="OverrideLineItem_ShipToAddress"/>
    <parameterBindings name="InValue_2" objectPath="OverrideLineItem_DeliveryTime"/>
    <parameterBindings name="InValue_3" objectPath="OverrideLineItem_Attendee"/>
    <returnValueBindings name="OutValue_1" objectPath="OverrideLineItemShipToAddress"/>
    <returnValueBindings name="OutValue_2" objectPath="OverrideLineItemDeliveryTime"/>
    <returnValueBindings name="OutValue_3" objectPath="OverrideLineItemAttendee"/>
  </nodes>
<!--@Location 38,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetFormSelection4">
    <configurationValues name="DefaultParameterName" value="OverrideModeEntries"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetFormSelection.xml"/>
    <nodeSuccessors name="next" next="CreateIteratorForPrefix1"/>
    <returnValueBindings name="Selection" objectPath="OverrideModeEntriesIterator"/>
  </nodes>
<!--@Location 38,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateIteratorForPrefix1">
    <configurationValues name="Prefix" value="OverrideLineItem"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/CreateIteratorForPrefix.xml"/>
<!--@BendPoints 77,10-->
    <nodeSuccessors name="next" next="UpdateClipboard1"/>
    <returnValueBindings name="PrefixIterator" objectPath="SelectedOverrideModeEntriesIterator"/>
  </nodes>
<!--@Location 38,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateClipboard1">
    <configurationValues name="SessionRegistrationID" value="OverrideMode"/>
    <configurationValues name="StoreFormValues" value="No"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/UpdateClipboard.xml"/>
    <nodeSuccessors name="next" next="EndNode1"/>
    <parameterBindings name="AllObjectUUIDs" objectPath="OverrideModeEntriesIterator"/>
    <parameterBindings name="SelectedObjectUUIDs" objectPath="SelectedOverrideModeEntriesIterator"/>
  </nodes>
<!--@Location 38,6-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode1"/>
<!--@Location 39,1-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode2"/>
<!--@Location 23,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start7" name="UpdateQuantity" callMode="Private">
    <nodeSuccessors name="next" next="UpdateBasketQuantities2"/>
  </nodes>
<!--@Location 23,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateBasketQuantities2">
    <configurationValues name="RemoveNonPositiveQuantityItems" value="true"/>
    <pipelet href="enfinity:/bts/pipelets/UpdateBasketQuantities.xml"/>
    <nodeSuccessors name="next" next="Call20"/>
    <parameterBindings name="Basket" objectPath="Requisition"/>
  </nodes>
<!--@Location 23,2-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call20">
    <nodeSuccessors name="next" next="End9"/>
    <startNode referencedName="ProcessRequisition-Calculate"/>
  </nodes>
<!--@Location 23,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End9"/>
<!--@Location 21,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="Start11" name="UpdateShipping" callMode="Private">
    <nodeSuccessors name="next" next="Decision1"/>
  </nodes>
<!--@Location 21,1-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="Decision1" conditionKey="OverrideLineItemShipToAddresses">
    <nodeSuccessors name="decision_yes" next="UpdateRequisitionAddresses3"/>
<!--@BendPoints 45,3-->
    <nodeSuccessors name="decision_no" next="UpdateRequisitionAddresses1"/>
  </nodes>
<!--@Location 21,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateRequisitionAddresses3">
    <configurationValues name="ShipToAddressUpdateMode" value="Override Product Line Items"/>
    <pipelet href="enfinity:/bc_requisition/pipelets/UpdateRequisitionAddresses.xml"/>
    <nodeSuccessors name="next" next="Join4"/>
  </nodes>
<!--@Location 21,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join4">
    <nodeSuccessors name="next" next="UpdateCustomAttributes1"/>
  </nodes>
<!--@Location 21,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateCustomAttributes1">
    <configurationValues name="Attribute_1_Name" value="DeliveryTime"/>
    <configurationValues name="Attribute_1_Type" value="String"/>
    <configurationValues name="Attribute_2_Name" value="Attendee"/>
    <configurationValues name="Attribute_2_Type" value="String"/>
    <pipelet href="enfinity:/core/pipelets/UpdateCustomAttributes.xml"/>
    <nodeSuccessors name="next" next="Decision6"/>
    <parameterBindings name="Attribute_1_Value" objectPath="RequisitionDeliveryTime"/>
    <parameterBindings name="Attribute_2_Value" objectPath="RequisitionAttendee"/>
    <parameterBindings name="ExtensibleObject" objectPath="Requisition"/>
  </nodes>
<!--@Location 21,5-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="Decision6" conditionKey="RequisitionAttendee">
    <nodeSuccessors name="decision_yes" next="Call19"/>
<!--@BendPoints 44,11 44,15-->
    <nodeSuccessors name="decision_no" next="Join2"/>
  </nodes>
<!--@Location 21,6-->
  <nodes xsi:type="pipeline:CallNode" nodeID="Call19">
    <nodeSuccessors name="next" next="Join2"/>
    <startNode referencedName="ProcessRequisition-OverrideAttendeePLI"/>
  </nodes>
<!--@Location 21,7-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="Join2">
<!--@BendPoints 43,16-->
    <nodeSuccessors name="next" next="End8"/>
  </nodes>
<!--@Location 21,8-->
  <nodes xsi:type="pipeline:EndNode" nodeID="End8"/>
<!--@Location 22,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateRequisitionAddresses1">
    <configurationValues name="ShipToAddressUpdateMode" value="Ignore Product Line Items"/>
    <pipelet href="enfinity:/bc_requisition/pipelets/UpdateRequisitionAddresses.xml"/>
<!--@BendPoints 45,7-->
    <nodeSuccessors name="next" next="Join4"/>
  </nodes>
</pipeline:Pipeline>
