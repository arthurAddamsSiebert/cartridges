<%@  page buffer="none" import="java.util.*,java.io.*,com.intershop.beehive.core.internal.template.*,com.intershop.beehive.core.internal.template.isml.*,com.intershop.beehive.core.capi.log.*,com.intershop.beehive.core.capi.resource.*,com.intershop.beehive.core.capi.util.UUIDMgr,com.intershop.beehive.core.capi.util.XMLHelper,com.intershop.beehive.foundation.util.*,com.intershop.beehive.core.internal.url.*,com.intershop.beehive.core.internal.resource.*,com.intershop.beehive.core.internal.wsrp.*,com.intershop.beehive.core.capi.pipeline.PipelineDictionary,com.intershop.beehive.core.capi.naming.NamingMgr,com.intershop.beehive.core.capi.pagecache.PageCacheMgr,com.intershop.beehive.core.capi.request.SessionMgr,com.intershop.beehive.core.internal.request.SessionMgrImpl,com.intershop.beehive.core.pipelet.PipelineConstants" extends="com.intershop.beehive.core.internal.template.AbstractTemplate" %><% 
boolean _boolean_result=false;
TemplateExecutionConfig context = getTemplateExecutionConfig();
createTemplatePageConfig(context.getServletRequest());
printHeader(out);
 %><% %><%! protected Boolean printTemplateMarker() { return Boolean.FALSE; } %><%%><%@ page contentType="text/xml;charset=utf-8" %><%%><%@ page session="false"%><%setEncodingType("text/xml"); %>

<%@page import="com.intershop.beehive.core.capi.user.*,
				com.intershop.beehive.core.capi.profile.*,
				com.intershop.beehive.core.capi.common.*,
				java.util.*,
				com.intershop.beehive.core.capi.naming.*,
				com.intershop.beehive.core.capi.impex.AttributeValueIterator" %>

<% {out.flush();processLocalIncludeByServer((com.intershop.beehive.core.capi.request.ServletResponse)response,"impex/Modules", null, "10");} %>
<% context.setCustomTagTemplateName("customattributes","inc/CustomAttributes",false,new String[]{"attributes"},null); %>
<% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("user"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",12,e);}if (_boolean_result) { %>
  <%
  	Object obj = getObject("user");
  	User user = null;
  	Profile profile = null;

		if (obj instanceof com.intershop.beehive.core.capi.user.User)
	  	{
	  		user = (User)obj;
			ProfileMgr profileMgr = (ProfileMgr) NamingMgr.getInstance().lookupManager(ProfileMgr.REGISTRY_NAME);
			profile = profileMgr.getProfile(user);
		}
		else if (obj instanceof com.intershop.beehive.core.capi.profile.Profile)
		{
			profile = (Profile)obj;
			user = new User(profile.getProfileID());
		}

	  if (profile != null)
	  {
	    getPipelineDictionary().put("profile", profile);
	  }

	  Object attr = getObject("customattributes");
	  if ((null != attr) && (attr instanceof Iterator))
	  {
	      getPipelineDictionary().put("userdefinedattributes", attr);
	  }
	  else
	  {
	      getPipelineDictionary().put("userdefinedattributes", new AttributeValueIterator(((com.intershop.beehive.core.capi.domain.ExtensibleObject)profile).createAttributeValuesIterator(), (com.intershop.beehive.core.capi.domain.ExtensibleObject) profile));
	  }

  %>
  <% _boolean_result=false;try {_boolean_result=((Boolean)((disableErrorMessages().isDefined(getObject("profile"))))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",46,e);}if (_boolean_result) { %>
	  <user<% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("ExportRefIDs"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",47,e);}if (_boolean_result) { %> refid="<% {String value = null;try{value=context.getFormattedValue(getObject("profile:ProfileID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {47}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>"<% } %> business-partner-no="<%=context.getFormattedValue(stringToXml(context.getFormattedValue(getObject("profile:DataSheet:BusinessPartnerNo"),null)),null)%>">
	    <business-partner-no><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:BusinessPartnerNo"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {48}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></business-partner-no>
	    <profile>
	      <credentials>
	        <login><% {String value = null;try{value=context.getFormattedValue(getObject("profile:Credentials:Login"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {51}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></login>
	        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:Credentials:Password"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",52,e);}if (_boolean_result) { %><password encrypted="1"><% {String value = null;try{value=context.getFormattedValue(getObject("profile:Credentials:Password"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {52}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></password><% } %>
	        <enabled><% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("profile:Credentials:isDisabled"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",53,e);}if (_boolean_result) { %>0<% } else { %>1<% } %></enabled>
	        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:Credentials:PasswordReminder"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",54,e);}if (_boolean_result) { %><password-reminder encrypted="1"><% {String value = null;try{value=context.getFormattedValue(getObject("profile:Credentials:PasswordReminder"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {54}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></password-reminder><% } %>
	        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:Credentials:ReminderEmail"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",55,e);}if (_boolean_result) { %><reminder-email><% {String value = null;try{value=context.getFormattedValue(getObject("profile:Credentials:ReminderEmail"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {55}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></reminder-email><% } %>
	        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:Credentials:IPRange"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",56,e);}if (_boolean_result) { %><ip-addresses><% {String value = null;try{value=context.getFormattedValue(getObject("profile:Credentials:IPRange"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {56}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></ip-addresses><% } %>
	        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:Credentials:SecurityQuestion"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",57,e);}if (_boolean_result) { %><security-question><% {String value = null;try{value=context.getFormattedValue(getObject("profile:Credentials:SecurityQuestion"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {57}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></security-question><% } %>    
	        <% _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) getObject("profile:Credentials:LastLoggedInNull")).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",58,e);}if (_boolean_result) { %><last-logged-in><% processOpenTag(response, pageContext, "datetime", new TagParameter[] {
new TagParameter("date",getObject("profile:Credentials:LastLoggedIn"))}, 58); %></last-logged-in><% } %>
	        <% _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) getObject("profile:Credentials:PasswordCreationDateNull")).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",59,e);}if (_boolean_result) { %><password-creation-date><% processOpenTag(response, pageContext, "datetime", new TagParameter[] {
new TagParameter("date",getObject("profile:Credentials:PasswordCreationDate"))}, 59); %></password-creation-date><% } %>    
          </credentials>
          <creation-date><% processOpenTag(response, pageContext, "datetime", new TagParameter[] {
new TagParameter("date",getObject("profile:DataSheet:CreationDate"))}, 61); %></creation-date>				
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:Department"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",62,e);}if (_boolean_result) { %><department><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:Department"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {62}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></department><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:PhoneHome"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",63,e);}if (_boolean_result) { %><phone-home><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:PhoneHome"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {63}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></phone-home><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:PhoneBusiness"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",64,e);}if (_boolean_result) { %><phone-business><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:PhoneBusiness"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {64}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></phone-business><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:PhoneMobile"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",65,e);}if (_boolean_result) { %><phone-mobile><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:PhoneMobile"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {65}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></phone-mobile><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:Fax"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",66,e);}if (_boolean_result) { %><fax><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:Fax"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {66}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></fax><% } %>
	      
	      <email><% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:Email"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",68,e);}if (_boolean_result) { %><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:Email"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {68}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } else { %><% {String value = null;try{value=context.getFormattedValue(getObject("profile:Credentials:Login"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {68}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %><% } %></email>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:Anniversary"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",69,e);}if (_boolean_result) { %><anniversary><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:Anniversary"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {69}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></anniversary><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:Birthday"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",70,e);}if (_boolean_result) { %><birthday><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:Birthday"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {70}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></birthday><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)((((Boolean) getObject("profile:DataSheet:BirthdayDateNull")).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",71,e);}if (_boolean_result) { %><birthday-date><% processOpenTag(response, pageContext, "dateonly", new TagParameter[] {
new TagParameter("date",getObject("profile:DataSheet:BirthdayDate"))}, 71); %></birthday-date><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:CompanyName"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",72,e);}if (_boolean_result) { %><company-name><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:CompanyName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {72}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></company-name><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:CompanyNameTranscription"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",73,e);}if (_boolean_result) { %><company-name-transcription><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:CompanyNameTranscription"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {73}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></company-name-transcription><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:FirstNameTranscription"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",74,e);}if (_boolean_result) { %><first-name-transcription><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:FirstNameTranscription"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {74}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></first-name-transcription><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:Gender"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",75,e);}if (_boolean_result) { %><gender><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:Gender"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {75}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></gender><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:Hobbies"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",76,e);}if (_boolean_result) { %><hobbies><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:Hobbies"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {76}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></hobbies><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:Honorific"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",77,e);}if (_boolean_result) { %><honorific><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:Honorific"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {77}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></honorific><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:JobTitle"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",78,e);}if (_boolean_result) { %><job-title><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:JobTitle"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {78}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></job-title><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:Keywords"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",79,e);}if (_boolean_result) { %><keywords><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:Keywords"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {79}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></keywords><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:LastName"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",80,e);}if (_boolean_result) { %><last-name><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:LastName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {80}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></last-name><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:LastNameTranscription"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",81,e);}if (_boolean_result) { %><last-name-transcription><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:LastNameTranscription"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {81}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></last-name-transcription><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:NickName"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",82,e);}if (_boolean_result) { %><nick-name><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:NickName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {82}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></nick-name><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:PreferredCurrency"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",83,e);}if (_boolean_result) { %><preferred-currency><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:PreferredCurrency"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {83}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></preferred-currency><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:PreferredLanguage"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",84,e);}if (_boolean_result) { %><preferred-language><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:PreferredLanguage"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {84}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></preferred-language><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) ((((Boolean) getObject("profile:DataSheet:PreferredLocaleNull")).booleanValue() ? Boolean.FALSE : Boolean.TRUE) )).booleanValue() && ((Boolean) (((!(context.getFormattedValue(getObject("profile:DataSheet:PreferredLocale"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",85,e);}if (_boolean_result) { %><preferred-locale><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:PreferredLocale"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {85}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></preferred-locale><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:PreferredTimeZoneID"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",86,e);}if (_boolean_result) { %><preferred-timezone-id><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:PreferredTimeZoneID"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {86}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></preferred-timezone-id><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:Profession"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",87,e);}if (_boolean_result) { %><profession><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:Profession"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {87}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></profession><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:Suffix"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",88,e);}if (_boolean_result) { %><suffix><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:Suffix"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {88}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></suffix><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:FirstName"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",89,e);}if (_boolean_result) { %><first-name><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:FirstName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {89}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></first-name><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:SecondName"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",90,e);}if (_boolean_result) { %><second-name><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:SecondName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {90}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></second-name><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("profile:DataSheet:SecondLastName"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",91,e);}if (_boolean_result) { %><second-lastname><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:SecondLastname"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {91}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></second-lastname><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:Title"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",92,e);}if (_boolean_result) { %><title><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:Title"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {92}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></title><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("profile:DataSheet:Description"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",93,e);}if (_boolean_result) { %><description><% {String value = null;try{value=context.getFormattedValue(getObject("profile:DataSheet:Description"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {93}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></description><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("profile:DataSheet:isMailConfirmation"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",94,e);}if (_boolean_result) { %><mail-confirmation>1</mail-confirmation><% } %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("profile:DataSheet:isFaxConfirmation"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",95,e);}if (_boolean_result) { %><fax-confirmation>1</fax-confirmation><% } %>
	      <% processOpenTag(response, pageContext, "customattributes", new TagParameter[] {
new TagParameter("attributes",getObject("userdefinedattributes"))}, 96); %>
	      <% _boolean_result=false;try {_boolean_result=((Boolean)((hasLoopElements("profile:AddressBook:Address") ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",97,e);}if (_boolean_result) { %>
	      <addresses>
		      <% while (loop("profile:AddressBook:Address","address",null)) { %>
		        <address name="<% {String value = null;try{value=context.getFormattedValue(getObject("address:AddressName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {100}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %>">
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:AddressName"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",101,e);}if (_boolean_result) { %><address-name><% {String value = null;try{value=context.getFormattedValue(getObject("address:AddressName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {101}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></address-name><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:AddressNr"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",102,e);}if (_boolean_result) { %><address-nr><% {String value = null;try{value=context.getFormattedValue(getObject("address:AddressNr"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {102}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></address-nr><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:City"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",103,e);}if (_boolean_result) { %><city><% {String value = null;try{value=context.getFormattedValue(getObject("address:City"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {103}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></city><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:CountryCode"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",104,e);}if (_boolean_result) { %><country-code><% {String value = null;try{value=context.getFormattedValue(getObject("address:CountryCode"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {104}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></country-code><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:County"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",105,e);}if (_boolean_result) { %><county><% {String value = null;try{value=context.getFormattedValue(getObject("address:County"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {105}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></county><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:PostBox"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",106,e);}if (_boolean_result) { %><postbox><% {String value = null;try{value=context.getFormattedValue(getObject("address:PostBox"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {106}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></postbox><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:PostalCode"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",107,e);}if (_boolean_result) { %><postal-code><% {String value = null;try{value=context.getFormattedValue(getObject("address:PostalCode"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {107}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></postal-code><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:Prefecture"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",108,e);}if (_boolean_result) { %><prefecture><% {String value = null;try{value=context.getFormattedValue(getObject("address:Prefecture"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {108}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></prefecture><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:Province"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",109,e);}if (_boolean_result) { %><province><% {String value = null;try{value=context.getFormattedValue(getObject("address:Province"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {109}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></province><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:Region"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",110,e);}if (_boolean_result) { %><region><% {String value = null;try{value=context.getFormattedValue(getObject("address:Region"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {110}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></region><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:State"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",111,e);}if (_boolean_result) { %><state><% {String value = null;try{value=context.getFormattedValue(getObject("address:State"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {111}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></state><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:StreetTranscription"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",112,e);}if (_boolean_result) { %><street-transcription><% {String value = null;try{value=context.getFormattedValue(getObject("address:StreetTranscription"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {112}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></street-transcription><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:Homepage"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",113,e);}if (_boolean_result) { %><homepage><% {String value = null;try{value=context.getFormattedValue(getObject("address:Homepage"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {113}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></homepage><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:Mobile"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",114,e);}if (_boolean_result) { %><mobile><% {String value = null;try{value=context.getFormattedValue(getObject("address:Mobile"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {114}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></mobile><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:PhoneHome"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",115,e);}if (_boolean_result) { %><phone-home><% {String value = null;try{value=context.getFormattedValue(getObject("address:PhoneHome"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {115}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></phone-home><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:PhoneBusiness"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",116,e);}if (_boolean_result) { %><phone-business><% {String value = null;try{value=context.getFormattedValue(getObject("address:PhoneBusiness"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {116}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></phone-business><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:PhoneBusinessDirect"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",117,e);}if (_boolean_result) { %><phone-business-direct><% {String value = null;try{value=context.getFormattedValue(getObject("address:PhoneBusinessDirect"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {117}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></phone-business-direct><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:CompanyName"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",118,e);}if (_boolean_result) { %><company-name><% {String value = null;try{value=context.getFormattedValue(getObject("address:CompanyName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {118}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></company-name><% } %>
				<% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:CompanyName2"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",119,e);}if (_boolean_result) { %><company-name2><% {String value = null;try{value=context.getFormattedValue(getObject("address:CompanyName2"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {119}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></company-name2><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:CompanyNameTranscription"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",120,e);}if (_boolean_result) { %><company-name-transcription><% {String value = null;try{value=context.getFormattedValue(getObject("address:CompanyNameTranscription"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {120}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></company-name-transcription><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:Honorific"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",121,e);}if (_boolean_result) { %><honorific><% {String value = null;try{value=context.getFormattedValue(getObject("address:Honorific"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {121}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></honorific><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:Title"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",122,e);}if (_boolean_result) { %><title><% {String value = null;try{value=context.getFormattedValue(getObject("address:Title"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {122}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></title><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:JobTitle"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",123,e);}if (_boolean_result) { %><job-title><% {String value = null;try{value=context.getFormattedValue(getObject("address:JobTitle"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {123}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></job-title><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("address:Suffix"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",124,e);}if (_boolean_result) { %><suffix><% {String value = null;try{value=context.getFormattedValue(getObject("address:Suffix"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {124}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></suffix><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:FirstNameTranscription"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",125,e);}if (_boolean_result) { %><first-name-transcription><% {String value = null;try{value=context.getFormattedValue(getObject("address:FirstNameTranscription"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {125}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></first-name-transcription><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:LastName"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",126,e);}if (_boolean_result) { %><last-name><% {String value = null;try{value=context.getFormattedValue(getObject("address:LastName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {126}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></last-name><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:LastNameTranscription"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",127,e);}if (_boolean_result) { %><last-name-transcription><% {String value = null;try{value=context.getFormattedValue(getObject("address:LastNameTranscription"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {127}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></last-name-transcription><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:FirstName"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",128,e);}if (_boolean_result) { %><first-name><% {String value = null;try{value=context.getFormattedValue(getObject("address:FirstName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {128}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></first-name><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:SecondName"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",129,e);}if (_boolean_result) { %><second-name><% {String value = null;try{value=context.getFormattedValue(getObject("address:SecondName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {129}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></second-name><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:SecondLastName"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",130,e);}if (_boolean_result) { %><second-lastname><% {String value = null;try{value=context.getFormattedValue(getObject("address:SecondLastName"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {130}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></second-lastname><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:Street"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",131,e);}if (_boolean_result) { %><street><% {String value = null;try{value=context.getFormattedValue(getObject("address:Street"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {131}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></street><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:Street2"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",132,e);}if (_boolean_result) { %><street2><% {String value = null;try{value=context.getFormattedValue(getObject("address:Street2"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {132}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></street2><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:Street3"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",133,e);}if (_boolean_result) { %><street3><% {String value = null;try{value=context.getFormattedValue(getObject("address:Street3"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {133}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></street3><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:EMail"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",134,e);}if (_boolean_result) { %><email><% {String value = null;try{value=context.getFormattedValue(getObject("address:EMail"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {134}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></email><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((!(context.getFormattedValue(getObject("address:Fax"),null).equals(context.getFormattedValue("",null)))) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",135,e);}if (_boolean_result) { %><fax><% {String value = null;try{value=context.getFormattedValue(getObject("address:Fax"),null,null);}catch(Exception e){value=null;Logger.error(this,"ISPRINT has an invalid expression. Returning empty string. Line: {135}",e);}if (value==null) value="";value = encodeString(value);out.write(value);} %></fax><% } %>
		        <%
		            com.intershop.beehive.core.capi.profile.Address address = (com.intershop.beehive.core.capi.profile.Address) getObject("address");
		            getPipelineDictionary().put("addressCustomAttributes", new com.intershop.beehive.core.capi.impex.AttributeValueIterator(address.createAttributeValuesIterator(), address));
		        %>
		        <% processOpenTag(response, pageContext, "customattributes", new TagParameter[] {
new TagParameter("attributes",getObject("addressCustomAttributes"))}, 140); %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("address:isShipFromAddress"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",141,e);}if (_boolean_result) { %><ship-from-address>1</ship-from-address><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("address:isShipToAddress"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",142,e);}if (_boolean_result) { %><ship-to-address>1</ship-to-address><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(getObject("address:isInvoiceToAddress"))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",143,e);}if (_boolean_result) { %><invoice-to-address>1</invoice-to-address><% } %>
		        <% _boolean_result=false;try {_boolean_result=((Boolean)(((((Boolean) getObject("address:isDefaultInvoiceToAddress")).booleanValue() || ((Boolean) getObject("address:isDefaultShipToAddress")).booleanValue()) ? Boolean.TRUE : Boolean.FALSE))).booleanValue();} catch (Exception e) {Logger.debug(this,"Boolean expression in line {} could not be evaluated. False returned. Consider using the 'isDefined' ISML function.",144,e);}if (_boolean_result) { %><default-address>1</default-address><% } %>
		        </address>
		      <% } %>
		     </addresses>
	      <% } %>
	    </profile>
	    <%
			UserGroupMgr userGroupMgr  = NamingMgr.getManager(UserGroupMgr.class);
			Iterator<UserGroup> allUserGroups = userGroupMgr.createUserGroupsIterator(user, userGroupMgr.DIRECT_MEMBERSHIPS);

			// filter out the "Everyone" group, promotion, catalog filter, price list assignment groups and put the result in List
			List userGroups = new ArrayList();
			while (allUserGroups.hasNext())
			{
				UserGroup userGroup = allUserGroups.next();
				String ugTypeName = userGroup.getUserGroupType().getName();
				if (!UserGroupConstants.EVERYONE.equals(userGroup.getID()) && 
					!("PROMOTION".equals(ugTypeName) || "CATALOGFILTER".equals(ugTypeName) || "PRICELIST".equals(ugTypeName)))
				{
					userGroups.add(userGroup);
				}
			}
			getPipelineDictionary().put("UserGroups", userGroups.iterator());
		%>
	    <% {out.flush();processLocalIncludeByServer((com.intershop.beehive.core.capi.request.ServletResponse)response,"inc/UserGroupsExport", null, "168");} %>
	  </user>
  <% } %>
<% } %><% printFooter(out); %>