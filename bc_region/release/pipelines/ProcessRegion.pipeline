<?xml version="1.0" encoding="UTF-8"?>
<!--	
@Group Region-->

<pipeline:Pipeline xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:pipeline="http://www.intershop.de/pipeline/2010"
    name="ProcessRegion" type="process">
  <registry xsi:type="pipeline:PipelineRegistry" href="enfinity:/bc_region/pipelines"/>
<!--@Location 8,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode5" strict="true" name="Activate"
      callMode="Private">
    <nodeSuccessors name="next" next="ActivateRegion1"/>
    <parameters name="Region" type="com.intershop.component.region.capi.region.Region"/>
    <parameters name="Active" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 8,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ActivateRegion1">
    <pipelet href="enfinity:/bc_region/pipelets/ActivateRegion.xml"/>
    <nodeSuccessors name="next" next="EndNode6"/>
  </nodes>
<!--@Location 8,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode6" strict="true"/>
<!--@Location 28,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode19" strict="true" name="AddExcludedRegionToRegion"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode2"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="ExcludedRegion" type="com.intershop.component.region.capi.region.Region"/>
    <parameters name="Region" type="com.intershop.component.region.capi.region.Region"/>
  </nodes>
<!--@Location 28,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode2">
    <nodeSuccessors name="next" next="AddExcludedRegionToRegion1"/>
    <startNode referencedName="ProcessRegion-Prefix"/>
  </nodes>
<!--@Location 28,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddExcludedRegionToRegion1">
    <pipelet href="enfinity:/bc_region/pipelets/AddExcludedRegionToRegion.xml"/>
    <nodeSuccessors name="next" next="EndNode30"/>
    <parameterBindings name="RegionRepository" objectPath="RegionRepository"/>
  </nodes>
<!--@Location 28,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode30" strict="true"/>
<!--@Location 27,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode13" strict="true" name="AssignGeoObjectToRegion"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode3"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="GeoObject" type="com.intershop.component.region.capi.geoobject.GeoObject"/>
    <parameters name="Region" type="com.intershop.component.region.capi.region.Region"/>
  </nodes>
<!--@Location 27,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode3">
    <nodeSuccessors name="next" next="AssignRegionToGeoObject1"/>
    <startNode referencedName="ProcessRegion-Prefix"/>
  </nodes>
<!--@Location 27,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AssignRegionToGeoObject1">
    <pipelet href="enfinity:/bc_region/pipelets/AssignRegionToGeoObject.xml"/>
    <nodeSuccessors name="next" next="EndNode18"/>
    <parameterBindings name="RegionRepository" objectPath="RegionRepository"/>
  </nodes>
<!--@Location 27,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode18" strict="true"/>
<!--@Location 0,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode1" strict="true" name="Create"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode1"/>
    <parameters name="ID" type="java.lang.String"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 0,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode1">
    <nodeSuccessors name="next" next="CreateRegion1"/>
    <startNode referencedName="ProcessRegion-Prefix"/>
  </nodes>
<!--@Location 0,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CreateRegion1">
    <pipelet href="enfinity:/bc_region/pipelets/CreateRegion.xml"/>
    <nodeSuccessors name="next" next="EndNode1"/>
<!--@BendPoints 3,5-->
    <nodeSuccessors name="pipelet_error" next="EndNode2"/>
    <parameterBindings name="RegionRepository" objectPath="RegionRepository"/>
  </nodes>
<!--@Location 0,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode1" strict="true">
    <returnValues name="Region" type="com.intershop.component.region.capi.region.Region"/>
  </nodes>
<!--@Location 1,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode2" name="ERROR" strict="true"/>
<!--@Location 12,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode15" strict="true" name="GetAllCountries"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode5"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 12,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode5">
    <nodeSuccessors name="next" next="GetCountriesByDomain1"/>
    <startNode referencedName="ProcessRegion-Prefix"/>
  </nodes>
<!--@Location 12,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCountriesByDomain1">
    <pipelet href="enfinity:/bc_region/pipelets/GetCountriesByDomain.xml"/>
    <nodeSuccessors name="next" next="DecisionNode1"/>
    <parameterBindings name="RegionRepository" objectPath="RegionRepository"/>
    <returnValueBindings name="Countries" objectPath="AllCountries"/>
  </nodes>
<!--@Location 12,3-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode1" conditionKey="AllCountries"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="SortIteratorByComparator3"/>
<!--@BendPoints 26,7 26,11-->
    <nodeSuccessors name="decision_no" next="JoinNode14"/>
  </nodes>
<!--@Location 12,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SortIteratorByComparator3">
    <configurationValues name="DefaultSortingAttribute" value="DisplayName"/>
    <configurationValues name="DefaultSortingOrder" value="true"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SortIteratorByComparator.xml"/>
    <nodeSuccessors name="next" next="JoinNode14"/>
    <parameterBindings name="Iterator" objectPath="AllCountries"/>
    <parameterBindings name="SortingAttribute" nullBinding="true"/>
    <parameterBindings name="SortingOrder" nullBinding="true"/>
    <returnValueBindings name="SortedIterator" objectPath="AllCountries"/>
  </nodes>
<!--@Location 12,5-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode14">
    <nodeSuccessors name="next" next="EndNode22"/>
  </nodes>
<!--@Location 12,6-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode22" strict="true">
    <returnValues name="AllCountries" type="java.util.Iterator"/>
  </nodes>
<!--@Location 10,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode9" strict="true" name="GetCountriesByNames"
      callMode="Private">
    <nodeSuccessors name="next" next="CheckForEmptyString3"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="Locale" type="com.intershop.beehive.core.capi.localization.LocaleInformation"
        optional="true"/>
    <parameters name="NameOrID" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 10,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString3">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="VerifySearchTerm2"/>
<!--@BendPoints 22,3 22,7-->
    <nodeSuccessors name="pipelet_error" next="JoinNode13"/>
    <parameterBindings name="FilledString" objectPath="NameOrID"/>
  </nodes>
<!--@Location 10,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="VerifySearchTerm2">
    <configurationValues name="DefaultOperator" value="OR"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/VerifySearchTerm.xml"/>
    <nodeSuccessors name="next" next="JoinNode13"/>
<!--@BendPoints 22,5 22,7-->
    <nodeSuccessors name="pipelet_error" next="JoinNode13"/>
    <parameterBindings name="UserSearchTerm" objectPath="NameOrID"/>
    <returnValueBindings name="ErrorCode" objectPath="NameOrIDError"/>
    <returnValueBindings name="SearchExpression" objectPath="NameOrIDExpression"/>
  </nodes>
<!--@Location 10,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode13">
    <nodeSuccessors name="next" next="DecisionNode5"/>
  </nodes>
<!--@Location 10,4-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode5" conditionKey="Locale"
      operator="undef">
    <nodeSuccessors name="decision_yes" next="GetLocale4"/>
<!--@BendPoints 22,9 22,13-->
    <nodeSuccessors name="decision_no" next="JoinNode19"/>
  </nodes>
<!--@Location 10,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetLocale4">
    <configurationValues name="LocaleFallback" value="Request Locale"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetLocale.xml"/>
    <nodeSuccessors name="next" next="JoinNode19"/>
  </nodes>
<!--@Location 10,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode19">
    <nodeSuccessors name="next" next="UpdateDictionary1"/>
  </nodes>
<!--@Location 10,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateDictionary1">
    <configurationValues name="Name_01" value="Domain"/>
    <configurationValues name="Name_02" value="Locale"/>
    <configurationValues name="Name_03" value="NameOrID"/>
    <pipelet href="enfinity:/core/pipelets/UpdateDictionary.xml"/>
    <nodeSuccessors name="next" next="ExecutePageableQuery1"/>
    <parameterBindings name="Value_01" objectPath="Domain"/>
    <parameterBindings name="Value_02" objectPath="Locale"/>
    <parameterBindings name="Value_03" objectPath="NameOrIDExpression"/>
    <returnValueBindings name="OutDictionary" objectPath="SearchParameters"/>
  </nodes>
<!--@Location 10,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExecutePageableQuery1">
    <configurationValues name="QueryName" value="geoobject/GetCountryByName"/>
    <pipelet href="enfinity:/core/pipelets/ExecutePageableQuery.xml"/>
    <nodeSuccessors name="next" next="EndNode10"/>
<!--@BendPoints 23,17-->
    <nodeSuccessors name="pipelet_error" next="EndNode11"/>
    <parameterBindings name="Parameters" objectPath="SearchParameters"/>
    <returnValueBindings name="SearchResult" objectPath="Countries"/>
  </nodes>
<!--@Location 10,9-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode10" strict="true">
    <returnValues name="Countries" type="com.intershop.beehive.core.capi.paging.PageableIterator"
        optional="true"/>
  </nodes>
<!--@Location 11,9-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode11" name="ERROR" strict="true"/>
<!--@Location 0,5-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode6" strict="true" name="GetCountriesByRegion"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode6"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="Region" type="com.intershop.component.region.capi.region.Region"/>
  </nodes>
<!--@Location 0,6-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode6">
    <nodeSuccessors name="next" next="GetCountriesByRegion1"/>
    <startNode referencedName="ProcessRegion-Prefix"/>
  </nodes>
<!--@Location 0,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCountriesByRegion1">
    <pipelet href="enfinity:/bc_region/pipelets/GetCountriesByRegion.xml"/>
    <nodeSuccessors name="next" next="DecisionNode3"/>
    <parameterBindings name="RegionRepository" objectPath="RegionRepository"/>
  </nodes>
<!--@Location 0,8-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode3" conditionKey="Countries"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="SortIteratorByComparator1"/>
<!--@BendPoints 2,17 2,21-->
    <nodeSuccessors name="decision_no" next="JoinNode12"/>
  </nodes>
<!--@Location 0,9-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SortIteratorByComparator1">
    <configurationValues name="DefaultSortingAttribute" value="DisplayName"/>
    <configurationValues name="DefaultSortingOrder" value="true"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SortIteratorByComparator.xml"/>
    <nodeSuccessors name="next" next="JoinNode12"/>
    <parameterBindings name="Iterator" objectPath="Countries"/>
    <parameterBindings name="SortingAttribute" nullBinding="true"/>
    <parameterBindings name="SortingOrder" nullBinding="true"/>
    <returnValueBindings name="SortedIterator" objectPath="Countries"/>
  </nodes>
<!--@Location 0,10-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode12">
    <nodeSuccessors name="next" next="EndNode7"/>
  </nodes>
<!--@Location 0,11-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode7" strict="true">
    <returnValues name="Countries" type="java.util.Iterator"/>
  </nodes>
<!--@Location 14,12-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode29" strict="true" name="GetCountriesWithStatesAssigned"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode19"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 14,13-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode19">
    <nodeSuccessors name="next" next="GetCountriesWithStatesAssigned0"/>
    <startNode referencedName="ProcessRegion-Prefix"/>
  </nodes>
<!--@Location 14,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCountriesWithStatesAssigned0">
    <pipelet href="enfinity:/bc_region/pipelets/GetCountriesWithStatesAssigned.xml"/>
    <nodeSuccessors name="next" next="DecisionNode0"/>
    <parameterBindings name="RegionRepository" objectPath="RegionRepository"/>
    <returnValueBindings name="Countries" objectPath="AllCountries"/>
  </nodes>
<!--@Location 14,15-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode0" conditionKey="AllCountries"
      operator="has_elements">
    <nodeSuccessors name="decision_yes" next="SortIteratorByComparator0"/>
<!--@BendPoints 30,31 30,35-->
    <nodeSuccessors name="decision_no" next="JoinNode24"/>
  </nodes>
<!--@Location 14,16-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SortIteratorByComparator0">
    <configurationValues name="DefaultSortingAttribute" value="DisplayName"/>
    <configurationValues name="DefaultSortingOrder" value="true"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SortIteratorByComparator.xml"/>
    <nodeSuccessors name="next" next="JoinNode24"/>
    <parameterBindings name="Iterator" objectPath="AllCountries:Iterator"/>
    <parameterBindings name="SortingAttribute" nullBinding="true"/>
    <parameterBindings name="SortingOrder" nullBinding="true"/>
    <returnValueBindings name="SortedIterator" objectPath="AllCountries"/>
  </nodes>
<!--@Location 14,17-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode24">
    <nodeSuccessors name="next" next="EndNode47"/>
  </nodes>
<!--@Location 14,18-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode47" strict="true">
    <returnValues name="AllCountries" type="java.util.Iterator"/>
  </nodes>
<!--@Location 1,5-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode0" strict="true" name="GetCountryByID"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode0"/>
    <parameters name="CountryCode" type="java.lang.String"/>
  </nodes>
<!--@Location 1,6-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode0">
    <nodeSuccessors name="next" next="GetCountryByID0"/>
    <startNode referencedName="ProcessRegion-Prefix"/>
  </nodes>
<!--@Location 1,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCountryByID0">
    <pipelet href="enfinity:/bc_region/pipelets/GetCountryByID.xml"/>
    <nodeSuccessors name="next" next="EndNode0"/>
<!--@BendPoints 5,15-->
    <nodeSuccessors name="pipelet_error" next="EndNode44"/>
    <parameterBindings name="ID" objectPath="CountryCode"/>
  </nodes>
<!--@Location 1,8-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode0" strict="true">
    <returnValues name="Country" type="com.intershop.component.region.capi.geoobject.Country"/>
  </nodes>
<!--@Location 2,8-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode44" name="ERROR" strict="true"/>
<!--@Location 12,12-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode28" strict="true" name="GetLocationByIDAndCountry"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode18"/>
    <parameters name="CountryCode" type="java.lang.String"/>
    <parameters name="LocationID" type="java.lang.String"/>
  </nodes>
<!--@Location 12,13-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode18">
    <nodeSuccessors name="next" next="GetCountryByID7"/>
    <startNode referencedName="ProcessRegion-Prefix"/>
  </nodes>
<!--@Location 12,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCountryByID7">
    <pipelet href="enfinity:/bc_region/pipelets/GetCountryByID.xml"/>
    <nodeSuccessors name="next" next="GetLocationByIDAndCountry0"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode0"/>
    <parameterBindings name="ID" objectPath="CountryCode"/>
    <parameterBindings name="RegionRepository" objectPath="RegionRepository"/>
  </nodes>
<!--@Location 12,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetLocationByIDAndCountry0">
    <pipelet href="enfinity:/bc_region/pipelets/GetLocationByIDAndCountry.xml"/>
    <nodeSuccessors name="next" next="EndNode46"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode23"/>
    <parameterBindings name="ID" objectPath="LocationID"/>
    <parameterBindings name="ParentCountry" objectPath="Country"/>
  </nodes>
<!--@Location 12,17-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode46" strict="true">
    <returnValues name="Location" type="com.intershop.component.region.capi.geoobject.Location"/>
  </nodes>
<!--@Location 13,15-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode23">
    <nodeSuccessors name="next" next="EndNode45"/>
  </nodes>
<!--@Location 13,17-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode45" name="ERROR" strict="true"/>
<!--@Location 13,14-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode0">
    <nodeSuccessors name="next" next="JoinNode23"/>
  </nodes>
<!--@Location 10,12-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode17" strict="true" name="GetLocationsByCountryAndParameter"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode8"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="Locale" type="com.intershop.beehive.core.capi.localization.LocaleInformation"/>
    <parameters name="CountryID" type="java.lang.String"/>
    <parameters name="ParameterName" type="java.lang.String" optional="true"/>
    <parameters name="ParameterValue" type="java.lang.String" optional="true"/>
    <parameters name="PostalCode" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 10,13-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode8">
    <nodeSuccessors name="next" next="GetCountryByID1"/>
    <startNode referencedName="ProcessRegion-Prefix"/>
  </nodes>
<!--@Location 10,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCountryByID1">
    <pipelet href="enfinity:/bc_region/pipelets/GetCountryByID.xml"/>
    <nodeSuccessors name="next" next="CheckForEmptyString7"/>
<!--@BendPoints 23,29-->
    <nodeSuccessors name="pipelet_error" next="EndNode13"/>
    <parameterBindings name="ID" objectPath="CountryID"/>
    <parameterBindings name="RegionRepository" objectPath="RegionRepository"/>
  </nodes>
<!--@Location 10,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString7">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="CheckForEmptyString6"/>
<!--@BendPoints 22,31 22,37-->
    <nodeSuccessors name="pipelet_error" next="JoinNode3"/>
    <parameterBindings name="FilledString" objectPath="ParameterName"/>
  </nodes>
<!--@Location 10,16-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString6">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="VerifySearchTerm5"/>
<!--@BendPoints 22,33 22,37-->
    <nodeSuccessors name="pipelet_error" next="JoinNode3"/>
    <parameterBindings name="FilledString" objectPath="ParameterValue"/>
  </nodes>
<!--@Location 10,17-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="VerifySearchTerm5">
    <configurationValues name="DefaultOperator" value="OR"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/VerifySearchTerm.xml"/>
    <nodeSuccessors name="next" next="JoinNode3"/>
<!--@BendPoints 22,35 22,37-->
    <nodeSuccessors name="pipelet_error" next="JoinNode3"/>
    <parameterBindings name="UserSearchTerm" objectPath="ParameterValue"/>
    <returnValueBindings name="ErrorCode" objectPath="ParameterValueError"/>
    <returnValueBindings name="SearchExpression" objectPath="ParameterValueExpression"/>
  </nodes>
<!--@Location 10,18-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode3">
    <nodeSuccessors name="next" next="CheckForEmptyString8"/>
  </nodes>
<!--@Location 10,19-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString8">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="VerifySearchTerm6"/>
<!--@BendPoints 22,39 22,43-->
    <nodeSuccessors name="pipelet_error" next="JoinNode5"/>
    <parameterBindings name="FilledString" objectPath="PostalCode"/>
  </nodes>
<!--@Location 10,20-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="VerifySearchTerm6">
    <configurationValues name="DefaultOperator" value="OR"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/VerifySearchTerm.xml"/>
    <nodeSuccessors name="next" next="JoinNode5"/>
<!--@BendPoints 22,41 22,43-->
    <nodeSuccessors name="pipelet_error" next="JoinNode5"/>
    <parameterBindings name="UserSearchTerm" objectPath="PostalCode"/>
    <returnValueBindings name="ErrorCode" objectPath="PostalCodeError"/>
    <returnValueBindings name="SearchExpression" objectPath="PostalCodeExpression"/>
  </nodes>
<!--@Location 10,21-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode5">
    <nodeSuccessors name="next" next="UpdateDictionary5"/>
  </nodes>
<!--@Location 10,22-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateDictionary5">
    <configurationValues name="Name_01" value="Domain"/>
    <configurationValues name="Name_02" value="Locale"/>
    <configurationValues name="Name_03" value="Country"/>
    <configurationValues name="Name_04" value="ParameterName"/>
    <configurationValues name="Name_05" value="ParameterValue"/>
    <configurationValues name="Name_06" value="PostalCode"/>
    <pipelet href="enfinity:/core/pipelets/UpdateDictionary.xml"/>
    <nodeSuccessors name="next" next="ExecutePageableQuery5"/>
    <parameterBindings name="Value_01" objectPath="Domain"/>
    <parameterBindings name="Value_02" objectPath="Locale"/>
    <parameterBindings name="Value_03" objectPath="Country"/>
    <parameterBindings name="Value_04" objectPath="ParameterName"/>
    <parameterBindings name="Value_05" objectPath="ParameterValueExpression"/>
    <parameterBindings name="Value_06" objectPath="PostalCodeExpression"/>
    <returnValueBindings name="OutDictionary" objectPath="SearchParameters"/>
  </nodes>
<!--@Location 10,23-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExecutePageableQuery5">
    <configurationValues name="QueryName" value="geoobject/GetLocationByCountryAndParameter"/>
    <pipelet href="enfinity:/core/pipelets/ExecutePageableQuery.xml"/>
    <nodeSuccessors name="next" next="EndNode26"/>
<!--@BendPoints 23,47-->
    <nodeSuccessors name="pipelet_error" next="EndNode27"/>
    <parameterBindings name="Parameters" objectPath="SearchParameters"/>
    <returnValueBindings name="SearchResult" objectPath="Locations"/>
  </nodes>
<!--@Location 10,24-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode26" strict="true">
    <returnValues name="Locations" type="com.intershop.beehive.core.capi.paging.PageableIterator"
        optional="true"/>
  </nodes>
<!--@Location 11,24-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode27" name="ERROR" strict="true"/>
<!--@Location 11,17-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode13" name="ERROR" strict="true"/>
<!--@Location 8,12-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode11" strict="true" name="GetLocationsByNames"
      callMode="Private">
    <nodeSuccessors name="next" next="CheckForEmptyString2"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="Locale" type="com.intershop.beehive.core.capi.localization.LocaleInformation"
        optional="true"/>
    <parameters name="NameOrID" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 8,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString2">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="VerifySearchTerm3"/>
<!--@BendPoints 18,29 18,33-->
    <nodeSuccessors name="pipelet_error" next="JoinNode1"/>
    <parameterBindings name="FilledString" objectPath="NameOrID"/>
  </nodes>
<!--@Location 8,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="VerifySearchTerm3">
    <configurationValues name="DefaultOperator" value="OR"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/VerifySearchTerm.xml"/>
    <nodeSuccessors name="next" next="JoinNode1"/>
<!--@BendPoints 18,31 18,33-->
    <nodeSuccessors name="pipelet_error" next="JoinNode1"/>
    <parameterBindings name="UserSearchTerm" objectPath="NameOrID"/>
    <returnValueBindings name="ErrorCode" objectPath="NameOrIDError"/>
    <returnValueBindings name="SearchExpression" objectPath="NameOrIDExpression"/>
  </nodes>
<!--@Location 8,16-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode1">
    <nodeSuccessors name="next" next="DecisionNode7"/>
  </nodes>
<!--@Location 8,17-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode7" conditionKey="Locale"
      operator="undef">
    <nodeSuccessors name="decision_yes" next="GetLocale6"/>
<!--@BendPoints 18,35 18,39-->
    <nodeSuccessors name="decision_no" next="JoinNode21"/>
  </nodes>
<!--@Location 8,18-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetLocale6">
    <configurationValues name="LocaleFallback" value="Request Locale"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetLocale.xml"/>
    <nodeSuccessors name="next" next="JoinNode21"/>
  </nodes>
<!--@Location 8,19-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode21">
    <nodeSuccessors name="next" next="UpdateDictionary3"/>
  </nodes>
<!--@Location 8,20-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateDictionary3">
    <configurationValues name="Name_01" value="Domain"/>
    <configurationValues name="Name_02" value="Locale"/>
    <configurationValues name="Name_03" value="NameOrID"/>
    <pipelet href="enfinity:/core/pipelets/UpdateDictionary.xml"/>
    <nodeSuccessors name="next" next="ExecutePageableQuery3"/>
    <parameterBindings name="Value_01" objectPath="Domain"/>
    <parameterBindings name="Value_02" objectPath="Locale"/>
    <parameterBindings name="Value_03" objectPath="NameOrIDExpression"/>
    <returnValueBindings name="OutDictionary" objectPath="SearchParameters"/>
  </nodes>
<!--@Location 8,21-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExecutePageableQuery3">
    <configurationValues name="ParameterName_01" value="Domain"/>
    <configurationValues name="QueryName" value="geoobject/GetLocationByName"/>
    <pipelet href="enfinity:/core/pipelets/ExecutePageableQuery.xml"/>
    <nodeSuccessors name="next" next="EndNode14"/>
<!--@BendPoints 19,43-->
    <nodeSuccessors name="pipelet_error" next="EndNode21"/>
    <parameterBindings name="ParameterValue_01" objectPath="Domain"/>
    <parameterBindings name="Parameters" objectPath="SearchParameters"/>
    <returnValueBindings name="SearchResult" objectPath="Locations"/>
  </nodes>
<!--@Location 8,23-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode14" strict="true">
    <returnValues name="Locations" type="com.intershop.beehive.core.capi.paging.PageableIterator"
        optional="true"/>
  </nodes>
<!--@Location 9,23-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode21" name="ERROR" strict="true"/>
<!--@Location 5,5-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode8" strict="true" name="GetLocationsByRegion"
      callMode="Private">
    <nodeSuccessors name="next" next="ExecuteObjectsQuery1"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="Region" type="com.intershop.component.region.capi.region.Region"/>
  </nodes>
<!--@Location 5,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExecuteObjectsQuery1">
    <configurationValues name="ParameterName_01" value="Domain"/>
    <configurationValues name="ParameterName_02" value="GeoObjectDomain"/>
    <configurationValues name="ParameterName_03" value="Locale"/>
    <configurationValues name="ParameterName_04" value="RegionID"/>
    <configurationValues name="QueryName" value="geoobject/GetLocationByRegion"/>
    <pipelet href="enfinity:/core/pipelets/ExecuteObjectsQuery.xml"/>
    <nodeSuccessors name="next" next="EndNode9"/>
<!--@BendPoints 13,13-->
    <nodeSuccessors name="pipelet_error" next="EndNode8"/>
    <parameterBindings name="ParameterValue_01" objectPath="Region:Domain"/>
    <parameterBindings name="ParameterValue_02" objectPath="Domain"/>
    <parameterBindings name="ParameterValue_03" objectPath="Locale"/>
    <parameterBindings name="ParameterValue_04" objectPath="Region:Id"/>
    <returnValueBindings name="SearchResult" objectPath="Locations"/>
  </nodes>
<!--@Location 5,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode9" strict="true">
    <returnValues name="Locations" type="java.util.Iterator"/>
  </nodes>
<!--@Location 6,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode8" name="ERROR" strict="true"/>
<!--@Location 20,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode7" strict="true" name="GetRegionAddressTypes"
      callMode="Private">
    <nodeSuccessors name="next" next="GetRegionAddressTypes1"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 20,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetRegionAddressTypes1">
    <pipelet href="enfinity:/bc_region/pipelets/GetRegionAddressTypes.xml"/>
    <nodeSuccessors name="next" next="JoinNode6"/>
<!--@BendPoints 42,3 42,5-->
    <nodeSuccessors name="pipelet_error" next="JoinNode6"/>
  </nodes>
<!--@Location 20,2-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode6">
    <nodeSuccessors name="next" next="EndNode29"/>
  </nodes>
<!--@Location 20,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode29" strict="true">
    <returnValues name="AddressTypes" type="java.util.Iterator" optional="true"/>
  </nodes>
<!--@Location 6,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode4" strict="true" name="GetRegionByID"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode9"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="ID" type="java.lang.String"/>
  </nodes>
<!--@Location 6,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode9">
<!--@BendPoints 14,3 14,5-->
    <nodeSuccessors name="next" next="GetRegionByID1"/>
    <startNode referencedName="ProcessRegion-Prefix"/>
  </nodes>
<!--@Location 6,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetRegionByID1">
    <pipelet href="enfinity:/bc_region/pipelets/GetRegionByID.xml"/>
    <nodeSuccessors name="next" next="EndNode4"/>
<!--@BendPoints 14,5 14,7-->
    <nodeSuccessors name="pipelet_error" next="EndNode5"/>
    <parameterBindings name="RegionRepository" objectPath="RegionRepository"/>
  </nodes>
<!--@Location 6,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode4" strict="true">
    <returnValues name="Region" type="com.intershop.component.region.capi.region.Region"/>
  </nodes>
<!--@Location 7,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode5" name="ERROR" strict="true"/>
<!--@Location 18,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode14" strict="true" name="GetRegionsByDomain"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode4"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 18,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode4">
    <nodeSuccessors name="next" next="GetAllRegions1"/>
    <startNode referencedName="ProcessRegion-Prefix"/>
  </nodes>
<!--@Location 18,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetAllRegions1">
    <pipelet href="enfinity:/bc_region/pipelets/GetAllRegions.xml"/>
    <nodeSuccessors name="next" next="SortIteratorByComparator4"/>
    <parameterBindings name="RegionRepository" objectPath="RegionRepository"/>
  </nodes>
<!--@Location 18,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SortIteratorByComparator4">
    <configurationValues name="DefaultSortingOrder" value="true"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/SortIteratorByComparator.xml"/>
    <nodeSuccessors name="next" next="EndNode19"/>
    <parameterBindings name="Iterator" objectPath="Regions"/>
    <parameterBindings name="SortingAttribute" constant="displayName"/>
    <parameterBindings name="SortingOrder" nullBinding="true"/>
    <returnValueBindings name="SortedIterator" objectPath="Regions"/>
  </nodes>
<!--@Location 18,4-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode19" strict="true">
    <returnValues name="Regions" type="java.util.Iterator"/>
  </nodes>
<!--@Location 22,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode26" strict="true" name="GetState"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode16"/>
    <parameters name="CountryCode" type="java.lang.String"/>
    <parameters name="StateID" type="java.lang.String"/>
  </nodes>
<!--@Location 22,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode16">
    <nodeSuccessors name="next" next="GetCountryByID5"/>
    <startNode referencedName="ProcessRegion-Prefix"/>
  </nodes>
<!--@Location 22,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCountryByID5">
    <pipelet href="enfinity:/bc_region/pipelets/GetCountryByID.xml"/>
    <nodeSuccessors name="next" next="GetStateProvinceByIDAndCountry1"/>
<!--@BendPoints 47,5-->
    <nodeSuccessors name="pipelet_error" next="JoinNode16"/>
    <parameterBindings name="ID" objectPath="CountryCode"/>
  </nodes>
<!--@Location 22,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetStateProvinceByIDAndCountry1">
    <pipelet href="enfinity:/bc_region/pipelets/GetStateProvinceByIDAndCountry.xml"/>
    <nodeSuccessors name="next" next="EndNode42"/>
    <nodeSuccessors name="pipelet_error" next="JoinNode16"/>
    <parameterBindings name="ID" objectPath="StateID"/>
    <parameterBindings name="ParentCountry" objectPath="Country"/>
  </nodes>
<!--@Location 22,4-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode42" strict="true">
<!--Holds the StateProvince if found with given id in parent country.-->
    <returnValues name="StateProvince" type="com.intershop.component.region.capi.geoobject.StateProvince"/>
  </nodes>
<!--@Location 23,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode16">
<!--@BendPoints 48,7 48,9-->
    <nodeSuccessors name="next" next="EndNode41"/>
  </nodes>
<!--@Location 23,4-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode41" name="ERROR" strict="true"/>
<!--@Location 24,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode27" strict="true" name="GetStates"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode17"/>
    <parameters name="CountryCode" type="java.lang.String"/>
  </nodes>
<!--@Location 24,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode17">
    <nodeSuccessors name="next" next="GetLocale2"/>
    <startNode referencedName="ProcessRegion-Prefix"/>
  </nodes>
<!--@Location 24,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetLocale2">
    <configurationValues name="LocaleFallback" value="Request Locale"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetLocale.xml"/>
    <nodeSuccessors name="next" next="CallNode34"/>
  </nodes>
<!--@Location 24,3-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode34">
    <nodeSuccessors name="next" next="AddObjectToVector2"/>
<!--@BendPoints 51,7-->
    <nodeSuccessors name="ERROR" next="EndNode43"/>
    <parameterBindings name="CountryID" objectPath="CountryCode"/>
    <parameterBindings name="Domain" objectPath="RegionRepository:GeoObjectsDomain"/>
    <startNode referencedName="ProcessRegion-GetStatesProvinceByCountryAndParameter"/>
  </nodes>
<!--@Location 24,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddObjectToVector2">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
    <nodeSuccessors name="next" next="LoopNode1"/>
    <returnValueBindings name="Iterator" objectPath="StatesProvincesIterator"/>
    <returnValueBindings name="OutVector" objectPath="StatesProvincesVector"/>
  </nodes>
<!--@Location 24,6-->
  <nodes xsi:type="pipeline:LoopNode" nodeID="LoopNode1" loop="StatesProvinces">
<!--@BendPoints 49,14 51,14-->
    <nodeSuccessors name="next" next="KeyMapper1"/>
    <entry key="StateProvince">
<!--@BendPoints 49,14-->
      <nodeSuccessors name="loop_entry_next" next="DecisionNode2"/>
    </entry>
  </nodes>
<!--@Location 24,7-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode2" conditionKey="StateProvince:Id"
      operator="str_neq" conditionValue="XU">
    <nodeSuccessors name="decision_yes" next="AddObjectToVector1"/>
<!--@BendPoints 50,15 50,19-->
    <nodeSuccessors name="decision_no" next="JoinNode17"/>
  </nodes>
<!--@Location 24,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="AddObjectToVector1">
    <pipelet href="enfinity:/bc_foundation/pipelets/AddObjectToVector.xml"/>
    <nodeSuccessors name="next" next="JoinNode17"/>
    <parameterBindings name="InVector" objectPath="StatesProvincesVector"/>
    <parameterBindings name="Object" objectPath="StateProvince"/>
    <returnValueBindings name="Iterator" objectPath="StatesProvincesIterator"/>
    <returnValueBindings name="OutVector" objectPath="StatesProvincesVector"/>
  </nodes>
<!--@Location 24,9-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode17">
<!--@BendPoints 48,19 48,13-->
    <nodeSuccessors name="next" next="LoopNode1_Entry"/>
  </nodes>
<!--@Location 25,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="KeyMapper1">
    <pipelet href="enfinity:/bc_foundation/pipelets/KeyMapper.xml"/>
    <nodeSuccessors name="next" next="EndNode40"/>
    <parameterBindings name="InValue_1" objectPath="StatesProvincesIterator"/>
    <returnValueBindings name="OutValue_1" objectPath="StatesProvinces"/>
  </nodes>
<!--@Location 25,9-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode40" strict="true">
    <returnValues name="StatesProvinces" type="java.util.Iterator" optional="true"/>
  </nodes>
<!--@Location 25,4-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode43" name="ERROR" strict="true"/>
<!--@Location 16,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode16" strict="true" name="GetStatesProvinceByCountryAndParameter"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode7"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="Locale" type="com.intershop.beehive.core.capi.localization.LocaleInformation"/>
    <parameters name="CountryID" type="java.lang.String"/>
    <parameters name="ParameterName" type="java.lang.String" optional="true"/>
    <parameters name="ParameterValue" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 16,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode7">
    <nodeSuccessors name="next" next="GetCountryByID3"/>
    <startNode referencedName="ProcessRegion-Prefix"/>
  </nodes>
<!--@Location 16,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCountryByID3">
    <pipelet href="enfinity:/bc_region/pipelets/GetCountryByID.xml"/>
    <nodeSuccessors name="next" next="CheckForEmptyString4"/>
<!--@BendPoints 35,5-->
    <nodeSuccessors name="pipelet_error" next="EndNode23"/>
    <parameterBindings name="ID" objectPath="CountryID"/>
    <parameterBindings name="RegionRepository" objectPath="RegionRepository"/>
  </nodes>
<!--@Location 16,3-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString4">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="CheckForEmptyString5"/>
<!--@BendPoints 34,7 34,13-->
    <nodeSuccessors name="pipelet_error" next="JoinNode2"/>
    <parameterBindings name="FilledString" objectPath="ParameterName"/>
  </nodes>
<!--@Location 16,4-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString5">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="VerifySearchTerm4"/>
<!--@BendPoints 34,9 34,13-->
    <nodeSuccessors name="pipelet_error" next="JoinNode2"/>
    <parameterBindings name="FilledString" objectPath="ParameterValue"/>
  </nodes>
<!--@Location 16,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="VerifySearchTerm4">
    <configurationValues name="DefaultOperator" value="OR"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/VerifySearchTerm.xml"/>
    <nodeSuccessors name="next" next="JoinNode2"/>
<!--@BendPoints 34,11 34,13-->
    <nodeSuccessors name="pipelet_error" next="JoinNode2"/>
    <parameterBindings name="UserSearchTerm" objectPath="ParameterValue"/>
    <returnValueBindings name="ErrorCode" objectPath="ParameterValueError"/>
    <returnValueBindings name="SearchExpression" objectPath="ParameterValueExpression"/>
  </nodes>
<!--@Location 16,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode2">
    <nodeSuccessors name="next" next="GetLocale0"/>
  </nodes>
<!--@Location 16,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetLocale0">
    <configurationValues name="LocaleFallback" value="Lead Locale"/>
    <pipelet href="enfinity:/core/pipelets/GetLocale.xml"/>
    <nodeSuccessors name="next" next="UpdateDictionary4"/>
    <parameterBindings name="LocaleId" nullBinding="true"/>
    <returnValueBindings name="Locale" objectPath="LeadLocale"/>
  </nodes>
<!--@Location 16,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateDictionary4">
    <configurationValues name="Name_01" value="Domain"/>
    <configurationValues name="Name_02" value="Locale"/>
    <configurationValues name="Name_03" value="Country"/>
    <configurationValues name="Name_04" value="ParameterName"/>
    <configurationValues name="Name_05" value="ParameterValue"/>
    <configurationValues name="Name_06" value="FallbackLocale"/>
    <pipelet href="enfinity:/core/pipelets/UpdateDictionary.xml"/>
    <nodeSuccessors name="next" next="ExecutePageableQuery4"/>
    <parameterBindings name="Value_01" objectPath="Domain"/>
    <parameterBindings name="Value_02" objectPath="Locale"/>
    <parameterBindings name="Value_03" objectPath="Country"/>
    <parameterBindings name="Value_04" objectPath="ParameterName"/>
    <parameterBindings name="Value_05" objectPath="ParameterValueExpression"/>
    <parameterBindings name="Value_06" objectPath="LeadLocale"/>
    <returnValueBindings name="OutDictionary" objectPath="SearchParameters"/>
  </nodes>
<!--@Location 16,9-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExecutePageableQuery4">
    <configurationValues name="QueryName" value="geoobject/GetStateProvinceByCountryAndParameter"/>
    <pipelet href="enfinity:/core/pipelets/ExecutePageableQuery.xml"/>
    <nodeSuccessors name="next" next="EndNode25"/>
<!--@BendPoints 35,19-->
    <nodeSuccessors name="pipelet_error" next="EndNode24"/>
    <parameterBindings name="Parameters" objectPath="SearchParameters"/>
    <returnValueBindings name="SearchResult" objectPath="StatesProvinces"/>
  </nodes>
<!--@Location 16,10-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode25" strict="true">
    <returnValues name="StatesProvinces" type="com.intershop.beehive.core.capi.paging.PageableIterator"
        optional="true"/>
  </nodes>
<!--@Location 17,10-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode24" name="ERROR" strict="true"/>
<!--@Location 17,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode23" name="ERROR" strict="true"/>
<!--@Location 14,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode10" strict="true" name="GetStatesProvincesByNames"
      callMode="Private">
    <nodeSuccessors name="next" next="CheckForEmptyString1"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="Locale" type="com.intershop.beehive.core.capi.localization.LocaleInformation"
        optional="true"/>
    <parameters name="NameOrID" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 14,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString1">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="VerifySearchTerm1"/>
<!--@BendPoints 30,3 30,7-->
    <nodeSuccessors name="pipelet_error" next="JoinNode4"/>
    <parameterBindings name="FilledString" objectPath="NameOrID"/>
  </nodes>
<!--@Location 14,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="VerifySearchTerm1">
    <configurationValues name="DefaultOperator" value="OR"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/VerifySearchTerm.xml"/>
    <nodeSuccessors name="next" next="JoinNode4"/>
<!--@BendPoints 30,5 30,7-->
    <nodeSuccessors name="pipelet_error" next="JoinNode4"/>
    <parameterBindings name="UserSearchTerm" objectPath="NameOrID"/>
    <returnValueBindings name="ErrorCode" objectPath="NameOrIDError"/>
    <returnValueBindings name="SearchExpression" objectPath="NameOrIDExpression"/>
  </nodes>
<!--@Location 14,3-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode4">
    <nodeSuccessors name="next" next="DecisionNode4"/>
  </nodes>
<!--@Location 14,4-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode4" conditionKey="Locale"
      operator="undef">
    <nodeSuccessors name="decision_yes" next="GetLocale3"/>
<!--@BendPoints 30,9 30,13-->
    <nodeSuccessors name="decision_no" next="JoinNode18"/>
  </nodes>
<!--@Location 14,5-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetLocale3">
    <configurationValues name="LocaleFallback" value="Request Locale"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetLocale.xml"/>
    <nodeSuccessors name="next" next="JoinNode18"/>
  </nodes>
<!--@Location 14,6-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode18">
    <nodeSuccessors name="next" next="UpdateDictionary2"/>
  </nodes>
<!--@Location 14,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateDictionary2">
    <configurationValues name="Name_01" value="Domain"/>
    <configurationValues name="Name_02" value="Locale"/>
    <configurationValues name="Name_03" value="NameOrID"/>
    <pipelet href="enfinity:/core/pipelets/UpdateDictionary.xml"/>
    <nodeSuccessors name="next" next="ExecutePageableQuery2"/>
    <parameterBindings name="Value_01" objectPath="Domain"/>
    <parameterBindings name="Value_02" objectPath="Locale"/>
    <parameterBindings name="Value_03" objectPath="NameOrIDExpression"/>
    <returnValueBindings name="OutDictionary" objectPath="SearchParameters"/>
  </nodes>
<!--@Location 14,8-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExecutePageableQuery2">
    <configurationValues name="QueryName" value="geoobject/GetStateProvinceByName"/>
    <pipelet href="enfinity:/core/pipelets/ExecutePageableQuery.xml"/>
    <nodeSuccessors name="next" next="EndNode12"/>
<!--@BendPoints 31,17-->
    <nodeSuccessors name="pipelet_error" next="EndNode15"/>
    <parameterBindings name="Parameters" objectPath="SearchParameters"/>
    <returnValueBindings name="SearchResult" objectPath="StatesProvinces"/>
  </nodes>
<!--@Location 14,9-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode12" strict="true">
    <returnValues name="StatesProvinces" type="com.intershop.beehive.core.capi.paging.PageableIterator"
        optional="true"/>
  </nodes>
<!--@Location 15,9-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode15" name="ERROR" strict="true"/>
<!--@Location 3,5-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode18" strict="true" name="GetStatesProvincesByRegion"
      callMode="Private">
    <nodeSuccessors name="next" next="ExecuteObjectsQuery2"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="Region" type="com.intershop.component.region.capi.region.Region"/>
    <parameters name="Locale" type="com.intershop.beehive.core.capi.localization.LocaleInformation"/>
  </nodes>
<!--@Location 3,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExecuteObjectsQuery2">
    <configurationValues name="ParameterName_01" value="Domain"/>
    <configurationValues name="ParameterName_02" value="GeoObjectDomain"/>
    <configurationValues name="ParameterName_03" value="Locale"/>
    <configurationValues name="ParameterName_04" value="RegionID"/>
    <configurationValues name="QueryName" value="geoobject/GetStateProvinceByRegion"/>
    <pipelet href="enfinity:/core/pipelets/ExecuteObjectsQuery.xml"/>
    <nodeSuccessors name="next" next="EndNode20"/>
<!--@BendPoints 9,13-->
    <nodeSuccessors name="pipelet_error" next="EndNode28"/>
    <parameterBindings name="ParameterValue_01" objectPath="Region:Domain"/>
    <parameterBindings name="ParameterValue_02" objectPath="Domain"/>
    <parameterBindings name="ParameterValue_03" objectPath="Locale"/>
    <parameterBindings name="ParameterValue_04" objectPath="Region:Id"/>
    <returnValueBindings name="SearchResult" objectPath="StatesProvinces"/>
  </nodes>
<!--@Location 3,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode20" strict="true">
    <returnValues name="StatesProvinces" type="java.util.Iterator"/>
  </nodes>
<!--@Location 4,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode28" name="ERROR" strict="true"/>
<!--@Location 30,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode22" name="Prefix" callMode="Private">
    <nodeSuccessors name="next" next="GetRegionRepository1"/>
  </nodes>
<!--@Location 30,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetRegionRepository1">
    <pipelet href="enfinity:/bc_region/pipelets/GetRegionRepository.xml"/>
    <nodeSuccessors name="next" next="JoinNode15"/>
<!--@BendPoints 62,3 62,5-->
    <nodeSuccessors name="pipelet_error" next="JoinNode15"/>
  </nodes>
<!--@Location 30,2-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode15">
    <nodeSuccessors name="next" next="EndNode33"/>
  </nodes>
<!--@Location 30,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode33">
    <returnValues name="RegionRepository" type="com.intershop.component.region.capi.region.RegionRepository"
        optional="true"/>
  </nodes>
<!--@Location 4,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode3" strict="true" name="Remove"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode12"/>
    <parameters name="Region" type="com.intershop.component.region.capi.region.Region"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 4,1-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode12">
    <nodeSuccessors name="next" next="RemoveRegion1"/>
    <startNode referencedName="ProcessRegion-Prefix"/>
  </nodes>
<!--@Location 4,2-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveRegion1">
    <pipelet href="enfinity:/bc_region/pipelets/RemoveRegion.xml"/>
    <nodeSuccessors name="next" next="EndNode3"/>
    <parameterBindings name="RegionRepository" objectPath="RegionRepository"/>
  </nodes>
<!--@Location 4,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode3" strict="true"/>
<!--@Location 29,4-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode20" strict="true" name="RemoveExcludedRegionFromRegion"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode11"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="ExcludedRegion" type="com.intershop.component.region.capi.region.Region"/>
    <parameters name="Region" type="com.intershop.component.region.capi.region.Region"/>
  </nodes>
<!--@Location 29,5-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode11">
    <nodeSuccessors name="next" next="RemoveExcludedRegionAssignment1"/>
    <startNode referencedName="ProcessRegion-Prefix"/>
  </nodes>
<!--@Location 29,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveExcludedRegionAssignment1">
    <pipelet href="enfinity:/bc_region/pipelets/RemoveExcludedRegionAssignment.xml"/>
    <nodeSuccessors name="next" next="EndNode31"/>
    <parameterBindings name="ExcludeRegion" objectPath="ExcludedRegion"/>
    <parameterBindings name="RegionRepository" objectPath="RegionRepository"/>
  </nodes>
<!--@Location 29,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode31" strict="true"/>
<!--@Location 27,4-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode12" strict="true" name="RemoveGeoObjectFromRegion"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode10"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="GeoObject" type="com.intershop.component.region.capi.geoobject.GeoObject"/>
    <parameters name="Region" type="com.intershop.component.region.capi.region.Region"/>
  </nodes>
<!--@Location 27,5-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode10">
    <nodeSuccessors name="next" next="RemoveRegionAssignment1"/>
    <startNode referencedName="ProcessRegion-Prefix"/>
  </nodes>
<!--@Location 27,6-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="RemoveRegionAssignment1">
    <pipelet href="enfinity:/bc_region/pipelets/RemoveRegionAssignment.xml"/>
    <nodeSuccessors name="next" next="EndNode17"/>
    <parameterBindings name="RegionRepository" objectPath="RegionRepository"/>
  </nodes>
<!--@Location 27,7-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode17" strict="true"/>
<!--@Location 0,12-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode23" strict="true" name="SearchCountriesByRegion"
      callMode="Private">
    <nodeSuccessors name="next" next="CheckForEmptyString9"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="Region" type="com.intershop.component.region.capi.region.Region"/>
    <parameters name="NameOrID" type="java.lang.String" optional="true"/>
    <parameters name="Locale" type="com.intershop.beehive.core.capi.localization.LocaleInformation"
        optional="true"/>
  </nodes>
<!--@Location 0,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString9">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="VerifySearchTerm7"/>
<!--@BendPoints 2,27 2,31-->
    <nodeSuccessors name="pipelet_error" next="JoinNode7"/>
    <parameterBindings name="FilledString" objectPath="NameOrID"/>
  </nodes>
<!--@Location 0,14-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="VerifySearchTerm7">
    <configurationValues name="DefaultOperator" value="OR"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/VerifySearchTerm.xml"/>
    <nodeSuccessors name="next" next="JoinNode7"/>
<!--@BendPoints 2,29 2,31-->
    <nodeSuccessors name="pipelet_error" next="JoinNode7"/>
    <parameterBindings name="UserSearchTerm" objectPath="NameOrID"/>
    <returnValueBindings name="ErrorCode" objectPath="NameOrIDError"/>
    <returnValueBindings name="SearchExpression" objectPath="NameOrIDExpression"/>
  </nodes>
<!--@Location 0,15-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode7">
    <nodeSuccessors name="next" next="DecisionNode6"/>
  </nodes>
<!--@Location 0,16-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode6" conditionKey="Locale"
      operator="undef">
    <nodeSuccessors name="decision_yes" next="GetLocale5"/>
<!--@BendPoints 2,33 2,37-->
    <nodeSuccessors name="decision_no" next="JoinNode20"/>
  </nodes>
<!--@Location 0,17-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetLocale5">
    <configurationValues name="LocaleFallback" value="Request Locale"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetLocale.xml"/>
    <nodeSuccessors name="next" next="JoinNode20"/>
  </nodes>
<!--@Location 0,18-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode20">
    <nodeSuccessors name="next" next="UpdateDictionary6"/>
  </nodes>
<!--@Location 0,19-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateDictionary6">
    <configurationValues name="Name_01" value="Domain"/>
    <configurationValues name="Name_02" value="GeoObjectDomain"/>
    <configurationValues name="Name_03" value="Locale"/>
    <configurationValues name="Name_04" value="NameOrID"/>
    <configurationValues name="Name_05" value="RegionID"/>
    <pipelet href="enfinity:/core/pipelets/UpdateDictionary.xml"/>
    <nodeSuccessors name="next" next="ExecutePageableQuery6"/>
    <parameterBindings name="Value_01" objectPath="Region:Domain"/>
    <parameterBindings name="Value_02" objectPath="Domain"/>
    <parameterBindings name="Value_03" objectPath="Locale"/>
    <parameterBindings name="Value_04" objectPath="NameOrIDExpression"/>
    <parameterBindings name="Value_05" objectPath="Region:Id"/>
    <returnValueBindings name="OutDictionary" objectPath="SearchParameters"/>
  </nodes>
<!--@Location 0,20-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExecutePageableQuery6">
    <configurationValues name="DefaultPageSize" value="5"/>
    <configurationValues name="QueryName" value="geoobject/SearchCountriesByRegionName"/>
    <pipelet href="enfinity:/core/pipelets/ExecutePageableQuery.xml"/>
    <nodeSuccessors name="next" next="EndNode36"/>
<!--@BendPoints 3,41-->
    <nodeSuccessors name="pipelet_error" next="EndNode35"/>
    <parameterBindings name="Parameters" objectPath="SearchParameters"/>
    <returnValueBindings name="SearchResult" objectPath="Countries"/>
  </nodes>
<!--@Location 0,21-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode36" strict="true">
    <returnValues name="Countries" type="java.util.Iterator"/>
  </nodes>
<!--@Location 1,21-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode35" name="ERROR" strict="true"/>
<!--@Location 6,12-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode25" strict="true" name="SearchLocationsByRegion"
      callMode="Private">
    <nodeSuccessors name="next" next="CheckForEmptyString12"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="Region" type="com.intershop.component.region.capi.region.Region"/>
    <parameters name="NameOrID" type="java.lang.String" optional="true"/>
    <parameters name="Locale" type="com.intershop.beehive.core.capi.localization.LocaleInformation"
        optional="true"/>
    <parameters name="CountryID" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 6,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString12">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="CallNode15"/>
<!--@BendPoints 14,27 14,33-->
    <nodeSuccessors name="pipelet_error" next="JoinNode10"/>
    <parameterBindings name="FilledString" objectPath="CountryID"/>
  </nodes>
<!--@Location 6,14-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode15">
    <nodeSuccessors name="next" next="GetCountryByID4"/>
    <startNode referencedName="ProcessRegion-Prefix"/>
  </nodes>
<!--@Location 6,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCountryByID4">
    <pipelet href="enfinity:/bc_region/pipelets/GetCountryByID.xml"/>
    <nodeSuccessors name="next" next="JoinNode10"/>
<!--@BendPoints 14,31 14,33-->
    <nodeSuccessors name="pipelet_error" next="JoinNode10"/>
    <parameterBindings name="ID" objectPath="CountryID"/>
    <parameterBindings name="RegionRepository" objectPath="RegionRepository"/>
  </nodes>
<!--@Location 6,16-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode10">
    <nodeSuccessors name="next" next="CheckForEmptyString13"/>
  </nodes>
<!--@Location 6,17-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString13">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="VerifySearchTerm9"/>
<!--@BendPoints 14,35 14,39-->
    <nodeSuccessors name="pipelet_error" next="JoinNode11"/>
    <parameterBindings name="FilledString" objectPath="NameOrID"/>
  </nodes>
<!--@Location 6,18-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="VerifySearchTerm9">
    <configurationValues name="DefaultOperator" value="OR"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/VerifySearchTerm.xml"/>
    <nodeSuccessors name="next" next="JoinNode11"/>
<!--@BendPoints 14,37 14,39-->
    <nodeSuccessors name="pipelet_error" next="JoinNode11"/>
    <parameterBindings name="UserSearchTerm" objectPath="NameOrID"/>
    <returnValueBindings name="ErrorCode" objectPath="NameOrIDError"/>
    <returnValueBindings name="SearchExpression" objectPath="NameOrIDExpression"/>
  </nodes>
<!--@Location 6,19-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode11">
    <nodeSuccessors name="next" next="UpdateDictionary8"/>
  </nodes>
<!--@Location 6,20-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateDictionary8">
    <configurationValues name="Name_01" value="Domain"/>
    <configurationValues name="Name_02" value="GeoObjectDomain"/>
    <configurationValues name="Name_03" value="Locale"/>
    <configurationValues name="Name_04" value="NameOrID"/>
    <configurationValues name="Name_05" value="RegionID"/>
    <configurationValues name="Name_06" value="Country"/>
    <pipelet href="enfinity:/core/pipelets/UpdateDictionary.xml"/>
    <nodeSuccessors name="next" next="ExecutePageableQuery8"/>
    <parameterBindings name="Value_01" objectPath="Region:Domain"/>
    <parameterBindings name="Value_02" objectPath="Domain"/>
    <parameterBindings name="Value_03" objectPath="Locale"/>
    <parameterBindings name="Value_04" objectPath="NameOrIDExpression"/>
    <parameterBindings name="Value_05" objectPath="Region:Id"/>
    <parameterBindings name="Value_06" objectPath="Country"/>
    <returnValueBindings name="OutDictionary" objectPath="SearchParameters"/>
  </nodes>
<!--@Location 6,21-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExecutePageableQuery8">
    <configurationValues name="DefaultPageSize" value="5"/>
    <configurationValues name="QueryName" value="geoobject/SearchLocationsByRegionName"/>
    <pipelet href="enfinity:/core/pipelets/ExecutePageableQuery.xml"/>
    <nodeSuccessors name="next" next="EndNode39"/>
<!--@BendPoints 15,43-->
    <nodeSuccessors name="pipelet_error" next="EndNode38"/>
    <parameterBindings name="Parameters" objectPath="SearchParameters"/>
    <returnValueBindings name="SearchResult" objectPath="Locations"/>
  </nodes>
<!--@Location 6,22-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode39" strict="true">
    <returnValues name="Locations" type="java.util.Iterator"/>
  </nodes>
<!--@Location 7,22-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode38" name="ERROR" strict="true"/>
<!--@Location 3,12-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode24" strict="true" name="SearchStatesProvincesByRegion"
      callMode="Private">
    <nodeSuccessors name="next" next="CheckForEmptyString11"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
    <parameters name="Region" type="com.intershop.component.region.capi.region.Region"/>
    <parameters name="NameOrID" type="java.lang.String" optional="true"/>
    <parameters name="Locale" type="com.intershop.beehive.core.capi.localization.LocaleInformation"
        optional="true"/>
    <parameters name="CountryID" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 3,13-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString11">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="CallNode14"/>
<!--@BendPoints 8,27 8,33-->
    <nodeSuccessors name="pipelet_error" next="JoinNode9"/>
    <parameterBindings name="FilledString" objectPath="CountryID"/>
  </nodes>
<!--@Location 3,14-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode14">
    <nodeSuccessors name="next" next="GetCountryByID2"/>
    <startNode referencedName="ProcessRegion-Prefix"/>
  </nodes>
<!--@Location 3,15-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetCountryByID2">
    <pipelet href="enfinity:/bc_region/pipelets/GetCountryByID.xml"/>
    <nodeSuccessors name="next" next="JoinNode9"/>
<!--@BendPoints 8,31 8,33-->
    <nodeSuccessors name="pipelet_error" next="JoinNode9"/>
    <parameterBindings name="ID" objectPath="CountryID"/>
    <parameterBindings name="RegionRepository" objectPath="RegionRepository"/>
  </nodes>
<!--@Location 3,16-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode9">
    <nodeSuccessors name="next" next="CheckForEmptyString10"/>
  </nodes>
<!--@Location 3,17-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="CheckForEmptyString10">
    <pipelet href="enfinity:/bc_foundation/pipelets/CheckForEmptyString.xml"/>
    <nodeSuccessors name="next" next="VerifySearchTerm8"/>
<!--@BendPoints 8,35 8,39-->
    <nodeSuccessors name="pipelet_error" next="JoinNode8"/>
    <parameterBindings name="FilledString" objectPath="NameOrID"/>
  </nodes>
<!--@Location 3,18-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="VerifySearchTerm8">
    <configurationValues name="DefaultOperator" value="OR"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/VerifySearchTerm.xml"/>
    <nodeSuccessors name="next" next="JoinNode8"/>
<!--@BendPoints 8,37 8,39-->
    <nodeSuccessors name="pipelet_error" next="JoinNode8"/>
    <parameterBindings name="UserSearchTerm" objectPath="NameOrID"/>
    <returnValueBindings name="ErrorCode" objectPath="NameOrIDError"/>
    <returnValueBindings name="SearchExpression" objectPath="NameOrIDExpression"/>
  </nodes>
<!--@Location 3,19-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode8">
    <nodeSuccessors name="next" next="DecisionNode8"/>
  </nodes>
<!--@Location 3,20-->
  <nodes xsi:type="pipeline:DecisionNode" nodeID="DecisionNode8" conditionKey="Locale"
      operator="undef">
    <nodeSuccessors name="decision_yes" next="GetLocale7"/>
<!--@BendPoints 8,41 8,45-->
    <nodeSuccessors name="decision_no" next="JoinNode22"/>
  </nodes>
<!--@Location 3,21-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="GetLocale7">
    <configurationValues name="LocaleFallback" value="Request Locale"/>
    <pipelet href="enfinity:/bc_foundation/pipelets/GetLocale.xml"/>
    <nodeSuccessors name="next" next="JoinNode22"/>
  </nodes>
<!--@Location 3,22-->
  <nodes xsi:type="pipeline:JoinNode" nodeID="JoinNode22">
    <nodeSuccessors name="next" next="UpdateDictionary7"/>
  </nodes>
<!--@Location 3,23-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateDictionary7">
    <configurationValues name="Name_01" value="Domain"/>
    <configurationValues name="Name_02" value="GeoObjectDomain"/>
    <configurationValues name="Name_03" value="Locale"/>
    <configurationValues name="Name_04" value="NameOrID"/>
    <configurationValues name="Name_05" value="RegionID"/>
    <configurationValues name="Name_06" value="Country"/>
    <pipelet href="enfinity:/core/pipelets/UpdateDictionary.xml"/>
    <nodeSuccessors name="next" next="ExecutePageableQuery7"/>
    <parameterBindings name="Value_01" objectPath="Region:Domain"/>
    <parameterBindings name="Value_02" objectPath="Domain"/>
    <parameterBindings name="Value_03" objectPath="Locale"/>
    <parameterBindings name="Value_04" objectPath="NameOrIDExpression"/>
    <parameterBindings name="Value_05" objectPath="Region:Id"/>
    <parameterBindings name="Value_06" objectPath="Country"/>
    <returnValueBindings name="OutDictionary" objectPath="SearchParameters"/>
  </nodes>
<!--@Location 3,24-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="ExecutePageableQuery7">
    <configurationValues name="DefaultPageSize" value="5"/>
    <configurationValues name="QueryName" value="geoobject/SearchStatesProvincesByRegionName"/>
    <pipelet href="enfinity:/core/pipelets/ExecutePageableQuery.xml"/>
    <nodeSuccessors name="next" next="EndNode37"/>
<!--@BendPoints 9,49-->
    <nodeSuccessors name="pipelet_error" next="EndNode34"/>
    <parameterBindings name="Parameters" objectPath="SearchParameters"/>
    <returnValueBindings name="SearchResult" objectPath="StatesProvinces"/>
  </nodes>
<!--@Location 3,25-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode37" strict="true">
    <returnValues name="StatesProvinces" type="java.util.Iterator"/>
  </nodes>
<!--@Location 4,25-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode34" name="ERROR" strict="true"/>
<!--@Location 8,5-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode21" strict="true" name="SetDefault"
      callMode="Private">
    <nodeSuccessors name="next" next="CallNode13"/>
    <parameters name="Region" type="com.intershop.component.region.capi.region.Region"/>
    <parameters name="Default" type="java.lang.String" optional="true"/>
    <parameters name="Domain" type="com.intershop.beehive.core.capi.domain.Domain"/>
  </nodes>
<!--@Location 8,6-->
  <nodes xsi:type="pipeline:CallNode" nodeID="CallNode13">
    <nodeSuccessors name="next" next="SetDefaultRegion1"/>
    <startNode referencedName="ProcessRegion-Prefix"/>
  </nodes>
<!--@Location 8,7-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="SetDefaultRegion1">
    <pipelet href="enfinity:/bc_region/pipelets/SetDefaultRegion.xml"/>
    <nodeSuccessors name="next" next="EndNode32"/>
    <parameterBindings name="RegionRepository" objectPath="RegionRepository"/>
  </nodes>
<!--@Location 8,8-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode32" strict="true"/>
<!--@Location 2,0-->
  <nodes xsi:type="pipeline:StartNode" nodeID="StartNode2" strict="true" name="Update"
      callMode="Private">
    <nodeSuccessors name="next" next="UpdateRegion1"/>
    <parameters name="Region" type="com.intershop.component.region.capi.region.Region"
        optional="true"/>
    <parameters name="Locale" type="com.intershop.beehive.core.capi.localization.LocaleInformation"/>
    <parameters name="DisplayName" type="java.lang.String" optional="true"/>
    <parameters name="Description" type="java.lang.String" optional="true"/>
    <parameters name="AddressType" type="java.lang.String" optional="true"/>
  </nodes>
<!--@Location 2,1-->
  <nodes xsi:type="pipeline:PipeletNode" nodeID="UpdateRegion1">
    <pipelet href="enfinity:/bc_region/pipelets/UpdateRegion.xml"/>
    <nodeSuccessors name="next" next="EndNode16"/>
  </nodes>
<!--@Location 2,3-->
  <nodes xsi:type="pipeline:EndNode" nodeID="EndNode16" strict="true"/>
</pipeline:Pipeline>
